(function(){function a(f,h,d){function g(j,k){if(!h[j]){if(!f[j]){var m="function"==typeof require&&require;if(!k&&m){return m(j,!0)}if(b){return b(j,!0)}var e=new Error("Cannot find module '"+j+"'");throw e.code="MODULE_NOT_FOUND",e}var l=h[j]={exports:{}};f[j][0].call(l.exports,function(i){var o=f[j][1][i];return g(o||i)},l,l.exports,a,f,h,d)}return h[j].exports}for(var b="function"==typeof require&&require,c=0;c<d.length;c++){g(d[c])}return g}return a})()({1:[function(b,c,a){!function(){var ho={version:"3.5.17"};var bO=[].slice,dO=function(e){return bO.call(e)};var bN=this.document;function d7(e){return e&&(e.ownerDocument||e.document||e).documentElement}function fx(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(bN){try{dO(bN.documentElement.childNodes)[0].nodeType}catch(hd){dO=function(d3){var e=d3.length,ic=new Array(e);while(e--){ic[e]=d3[e]}return ic}}}if(!Date.now){Date.now=function(){return +new Date()}}if(bN){try{bN.createElement("DIV").style.setProperty("opacity",0,"")}catch(fv){var dM=this.Element.prototype,b2=dM.setAttribute,g6=dM.setAttributeNS,dA=this.CSSStyleDeclaration.prototype,gO=dA.setProperty;dM.setAttribute=function(e,d3){b2.call(this,e,d3+"")};dM.setAttributeNS=function(ic,e,d3){g6.call(this,ic,e,d3+"")};dA.setProperty=function(e,ic,d3){gO.call(this,e,ic+"",d3)}}}ho.ascending=fh;function fh(d3,e){return d3<e?-1:d3>e?1:d3>=e?0:NaN}ho.descending=function(d3,e){return e<d3?-1:e>d3?1:e>=d3?0:NaN};ho.min=function(ig,id){var ic=-1,ie=ig.length,d3,e;if(arguments.length===1){while(++ic<ie){if((e=ig[ic])!=null&&e>=e){d3=e;break}}while(++ic<ie){if((e=ig[ic])!=null&&d3>e){d3=e}}}else{while(++ic<ie){if((e=id.call(ig,ig[ic],ic))!=null&&e>=e){d3=e;break}}while(++ic<ie){if((e=id.call(ig,ig[ic],ic))!=null&&d3>e){d3=e}}}return d3};ho.max=function(ig,id){var ic=-1,ie=ig.length,d3,e;if(arguments.length===1){while(++ic<ie){if((e=ig[ic])!=null&&e>=e){d3=e;break}}while(++ic<ie){if((e=ig[ic])!=null&&e>d3){d3=e}}}else{while(++ic<ie){if((e=id.call(ig,ig[ic],ic))!=null&&e>=e){d3=e;break}}while(++ic<ie){if((e=id.call(ig,ig[ic],ic))!=null&&e>d3){d3=e}}}return d3};ho.extent=function(ih,id){var ic=-1,ig=ih.length,d3,e,ie;if(arguments.length===1){while(++ic<ig){if((e=ih[ic])!=null&&e>=e){d3=ie=e;break}}while(++ic<ig){if((e=ih[ic])!=null){if(d3>e){d3=e}if(ie<e){ie=e}}}}else{while(++ic<ig){if((e=id.call(ih,ih[ic],ic))!=null&&e>=e){d3=ie=e;break}}while(++ic<ig){if((e=id.call(ih,ih[ic],ic))!=null){if(d3>e){d3=e}if(ie<e){ie=e}}}}return[d3,ie]};function ht(e){return e===null?NaN:+e}function bb(e){return !isNaN(e)}ho.sum=function(ig,id){var ic=0,ie=ig.length,e,d3=-1;if(arguments.length===1){while(++d3<ie){if(bb(e=+ig[d3])){ic+=e}}}else{while(++d3<ie){if(bb(e=+id.call(ig,ig[d3],d3))){ic+=e}}}return ic};ho.mean=function(ih,ie){var id=0,ig=ih.length,e,ic=-1,d3=ig;if(arguments.length===1){while(++ic<ig){if(bb(e=ht(ih[ic]))){id+=e}else{--d3}}}else{while(++ic<ig){if(bb(e=ht(ie.call(ih,ih[ic],ic)))){id+=e}else{--d3}}}if(d3){return id/d3}};ho.quantile=function(ic,ih){var id=(ic.length-1)*ih+1,ie=Math.floor(id),d3=+ic[ie-1],ig=id-ie;return ig?d3+ig*(ic[ie]-d3):d3};ho.median=function(ig,id){var d3=[],ie=ig.length,e,ic=-1;if(arguments.length===1){while(++ic<ie){if(bb(e=ht(ig[ic]))){d3.push(e)}}}else{while(++ic<ie){if(bb(e=ht(id.call(ig,ig[ic],ic)))){d3.push(e)}}}if(d3.length){return ho.quantile(d3.sort(fh),0.5)}};ho.variance=function(ig,ie){var e=ig.length,d3=0,ii,ih,ij=0,id=-1,ic=0;if(arguments.length===1){while(++id<e){if(bb(ii=ht(ig[id]))){ih=ii-d3;d3+=ih/++ic;ij+=ih*(ii-d3)}}}else{while(++id<e){if(bb(ii=ht(ie.call(ig,ig[id],id)))){ih=ii-d3;d3+=ih/++ic;ij+=ih*(ii-d3)}}}if(ic>1){return ij/(ic-1)}};ho.deviation=function(){var e=ho.variance.apply(this,arguments);return e?Math.sqrt(e):e};function go(e){return{left:function(ic,d3,ig,ie){if(arguments.length<3){ig=0}if(arguments.length<4){ie=ic.length}while(ig<ie){var id=ig+ie>>>1;if(e(ic[id],d3)<0){ig=id+1}else{ie=id}}return ig},right:function(ic,d3,ig,ie){if(arguments.length<3){ig=0}if(arguments.length<4){ie=ic.length}while(ig<ie){var id=ig+ie>>>1;if(e(ic[id],d3)>0){ie=id}else{ig=id+1}}return ig}}}var cZ=go(fh);ho.bisectLeft=cZ.left;ho.bisect=ho.bisectRight=cZ.right;ho.bisector=function(e){return go(e.length===1?function(ic,d3){return fh(e(ic),d3)}:e)};ho.shuffle=function(ig,ie,id){if((e=arguments.length)<3){id=ig.length;if(e<2){ie=0}}var e=id-ie,ic,d3;while(e){d3=Math.random()*e--|0;ic=ig[e+ie],ig[e+ie]=ig[d3+ie],ig[d3+ie]=ic}return ig};ho.permute=function(id,d3){var ic=d3.length,e=new Array(ic);while(ic--){e[ic]=id[d3[ic]]}return e};ho.pairs=function(ig){var e=0,ie=ig.length-1,id,ic=ig[0],d3=new Array(ie<0?0:ie);while(e<ie){d3[e]=[id=ic,ic=ig[++e]]}return d3};ho.transpose=function(d3){if(!(ih=d3.length)){return[]}for(var id=-1,e=ho.min(d3,bT),ie=new Array(e);++id<e;){for(var ic=-1,ih,ig=ie[id]=new Array(ih);++ic<ih;){ig[ic]=d3[ic][id]}}return ie};function bT(e){return e.length}ho.zip=function(){return ho.transpose(arguments)};ho.keys=function(ic){var d3=[];
for(var e in ic){d3.push(e)}return d3};ho.values=function(ic){var e=[];for(var d3 in ic){e.push(ic[d3])}return e};ho.entries=function(ic){var e=[];for(var d3 in ic){e.push({key:d3,value:ic[d3]})}return e};ho.merge=function(ie){var ih=ie.length,d3,id=-1,ic=0,e,ig;while(++id<ih){ic+=ie[id].length}e=new Array(ic);while(--ih>=0){ig=ie[ih];d3=ig.length;while(--d3>=0){e[--ic]=ig[d3]}}return e};var cG=Math.abs;ho.range=function(ih,ie,ig){if(arguments.length<3){ig=1;if(arguments.length<2){ie=ih;ih=0}}if((ie-ih)/ig===Infinity){throw new Error("infinite range")}var d3=[],e=gk(cG(ig)),id=-1,ic;ih*=e,ie*=e,ig*=e;if(ig<0){while((ic=ih+ig*++id)>ie){d3.push(ic/e)}}else{while((ic=ih+ig*++id)<ie){d3.push(ic/e)}}return d3};function gk(e){var d3=1;while(e*d3%1){d3*=10}return d3}function h4(ic,d3){for(var e in d3){Object.defineProperty(ic.prototype,e,{value:d3[e],enumerable:false})}}ho.map=function(e,id){var ie=new aH();if(e instanceof aH){e.forEach(function(ii,ij){ie.set(ii,ij)})}else{if(Array.isArray(e)){var ic=-1,ih=e.length,ig;if(arguments.length===1){while(++ic<ih){ie.set(ic,e[ic])}}else{while(++ic<ih){ie.set(id.call(e,ig=e[ic],ic),ig)}}}else{for(var d3 in e){ie.set(d3,e[d3])}}}return ie};function aH(){this._=Object.create(null)}var db="__proto__",cF="\x00";h4(aH,{has:gI,get:function(e){return this._[a0(e)]},set:function(e,d3){return this._[a0(e)]=d3},remove:cW,keys:fu,values:function(){var e=[];for(var d3 in this._){e.push(this._[d3])}return e},entries:function(){var e=[];for(var d3 in this._){e.push({key:a1(d3),value:this._[d3]})}return e},size:hG,empty:az,forEach:function(d3){for(var e in this._){d3.call(this,a1(e),this._[e])}}});function a0(e){return(e+="")===db||e[0]===cF?cF+e:e}function a1(e){return(e+="")[0]===cF?e.slice(1):e}function gI(e){return a0(e) in this._}function cW(e){return(e=a0(e)) in this._&&delete this._[e]}function fu(){var d3=[];for(var e in this._){d3.push(a1(e))}return d3}function hG(){var d3=0;for(var e in this._){++d3}return d3}function az(){for(var e in this._){return false}return true}ho.nest=function(){var id={},ic=[],ih=[],d3,ie;function ig(ij,ir,ip){if(ip>=ic.length){return ie?ie.call(id,ir):d3?ir.sort(d3):ir}var iq=-1,ii=ir.length,iu=ic[ip++],io,im,il,ik=new aH(),it;while(++iq<ii){if(it=ik.get(io=iu(im=ir[iq]))){it.push(im)}else{ik.set(io,[im])}}if(ij){im=ij();il=function(iw,iv){im.set(iw,ig(ij,iv,ip))}}else{im={};il=function(iw,iv){im[iw]=ig(ij,iv,ip)}}ik.forEach(il);return im}function e(ij,ik){if(ik>=ic.length){return ij}var il=[],ii=ih[ik++];ij.forEach(function(im,io){il.push({key:im,values:e(io,ik)})});return ii?il.sort(function(io,im){return ii(io.key,im.key)}):il}id.map=function(ij,ii){return ig(ii,ij,0)};id.entries=function(ii){return e(ig(ho.map,ii,0),0)};id.key=function(ii){ic.push(ii);return id};id.sortKeys=function(ii){ih[ic.length-1]=ii;return id};id.sortValues=function(ii){d3=ii;return id};id.rollup=function(ii){ie=ii;return id};return id};ho.set=function(id){var ic=new dr();if(id){for(var e=0,d3=id.length;e<d3;++e){ic.add(id[e])}}return ic};function dr(){this._=Object.create(null)}h4(dr,{has:gI,add:function(e){this._[a0(e+="")]=true;return e},remove:cW,values:fu,size:hG,empty:az,forEach:function(d3){for(var e in this._){d3.call(this,a1(e))}}});ho.behavior={};function gl(e){return e}ho.rebind=function(ic,d3){var e=1,ie=arguments.length,id;while(++e<ie){ic[id=arguments[e]]=ez(ic,d3,d3[id])}return ic};function ez(d3,e,ic){return function(){var id=ic.apply(e,arguments);return id===e?d3:id}}function dg(ic,d3){if(d3 in ic){return d3}d3=d3.charAt(0).toUpperCase()+d3.slice(1);for(var id=0,ie=J.length;id<ie;++id){var e=J[id]+d3;if(e in ic){return e}}}var J=["webkit","ms","moz","Moz","o","O"];function aG(){}ho.dispatch=function(){var e=new eU(),d3=-1,ic=arguments.length;while(++d3<ic){e[arguments[d3]]=ff(e)}return e};function eU(){}eU.prototype.on=function(ic,id){var d3=ic.indexOf("."),e="";if(d3>=0){e=ic.slice(d3+1);ic=ic.slice(0,d3)}if(ic){return arguments.length<2?this[ic].on(e):this[ic].on(e,id)}if(arguments.length===2){if(id==null){for(ic in this){if(this.hasOwnProperty(ic)){this[ic].on(e,null)}}}return this}};function ff(e){var ic=[],d3=new aH();function id(){var ih=ic,ig=-1,ii=ih.length,ie;while(++ig<ii){if(ie=ih[ig].on){ie.apply(this,arguments)}}return e}id.on=function(ig,ii){var ie=d3.get(ig),ih;if(arguments.length<2){return ie&&ie.on}if(ie){ie.on=null;ic=ic.slice(0,ih=ic.indexOf(ie)).concat(ic.slice(ih+1));d3.remove(ig)}if(ii){ic.push(d3.set(ig,{on:ii}))}return e};return id}ho.event=null;function v(){ho.event.preventDefault()}function ad(){var ic=ho.event,d3;while(d3=ic.sourceEvent){ic=d3}return ic}function hi(ic){var e=new eU(),d3=0,id=arguments.length;while(++d3<id){e[arguments[d3]]=ff(e)}e.of=function(ig,ie){return function(ih){try{var ii=ih.sourceEvent=ho.event;ih.target=ic;ho.event=ih;e[ih.type].apply(ig,ie)}finally{ho.event=ii}}};return e}ho.requote=function(e){return e.replace(c8,"\\$&")};var c8=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var h6={}.__proto__?function(d3,e){d3.__proto__=e
}:function(d3,e){for(var ic in e){d3[ic]=e[ic]}};function dZ(e){h6(e,dY);return e}var dq=function(e,d3){return d3.querySelector(e)},f6=function(e,d3){return d3.querySelectorAll(e)},d=function(ic,e){var d3=ic.matches||ic[dg(ic,"matchesSelector")];d=function(ie,id){return d3.call(ie,id)};return d(ic,e)};if(typeof Sizzle==="function"){dq=function(e,d3){return Sizzle(e,d3)[0]||null};f6=Sizzle;d=Sizzle.matchesSelector}ho.selection=function(){return ho.select(bN.documentElement)};var dY=ho.selection.prototype=[];dY.select=function(ig){var ic=[],ik,e,ij,id;ig=y(ig);for(var ih=-1,ie=this.length;++ih<ie;){ic.push(ik=[]);ik.parentNode=(ij=this[ih]).parentNode;for(var ii=-1,d3=ij.length;++ii<d3;){if(id=ij[ii]){ik.push(e=ig.call(id,id.__data__,ii,ih));if(e&&"__data__" in id){e.__data__=id.__data__}}else{ik.push(null)}}}return dZ(ic)};function y(e){return typeof e==="function"?e:function(){return dq(e,this)}}dY.selectAll=function(ie){var d3=[],ij,ic;ie=c1(ie);for(var ig=-1,id=this.length;++ig<id;){for(var ii=this[ig],ih=-1,e=ii.length;++ih<e;){if(ic=ii[ih]){d3.push(ij=dO(ie.call(ic,ic.__data__,ih,ig)));ij.parentNode=ic}}}return dZ(d3)};function c1(e){return typeof e==="function"?e:function(){return f6(e,this)}}var fQ="http://www.w3.org/1999/xhtml";var ed={svg:"http://www.w3.org/2000/svg",xhtml:fQ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ho.ns={prefix:ed,qualify:function(e){var d3=e.indexOf(":"),ic=e;if(d3>=0&&(ic=e.slice(0,d3))!=="xmlns"){e=e.slice(d3+1)}return ed.hasOwnProperty(ic)?{space:ed[ic],local:e}:e}};dY.attr=function(e,ic){if(arguments.length<2){if(typeof e==="string"){var d3=this.node();e=ho.ns.qualify(e);return e.local?d3.getAttributeNS(e.space,e.local):d3.getAttribute(e)}for(ic in e){this.each(bu(ic,e[ic]))}return this}return this.each(bu(e,ic))};function bu(ic,ih){ic=ho.ns.qualify(ic);function d3(){this.removeAttribute(ic)}function ii(){this.removeAttributeNS(ic.space,ic.local)}function ig(){this.setAttribute(ic,ih)}function ie(){this.setAttributeNS(ic.space,ic.local,ih)}function e(){var ij=ih.apply(this,arguments);if(ij==null){this.removeAttribute(ic)}else{this.setAttribute(ic,ij)}}function id(){var ij=ih.apply(this,arguments);if(ij==null){this.removeAttributeNS(ic.space,ic.local)}else{this.setAttributeNS(ic.space,ic.local,ij)}}return ih==null?ic.local?ii:d3:typeof ih==="function"?ic.local?id:e:ic.local?ie:ig}function cH(e){return e.trim().replace(/\s+/g," ")}dY.classed=function(e,id){if(arguments.length<2){if(typeof e==="string"){var ic=this.node(),ie=(e=gv(e)).length,d3=-1;if(id=ic.classList){while(++d3<ie){if(!id.contains(e[d3])){return false}}}else{id=ic.getAttribute("class");while(++d3<ie){if(!gQ(e[d3]).test(id)){return false}}}return true}for(id in e){this.each(gE(id,e[id]))}return this}return this.each(gE(e,id))};function gQ(e){return new RegExp("(?:^|\\s+)"+ho.requote(e)+"(?:\\s+|$)","g")}function gv(e){return(e+"").trim().split(/^|\s+/)}function gE(d3,id){d3=gv(d3).map(h2);var ie=d3.length;function e(){var ig=-1;while(++ig<ie){d3[ig](this,id)}}function ic(){var ih=-1,ig=id.apply(this,arguments);while(++ih<ie){d3[ih](this,ig)}}return typeof id==="function"?ic:e}function h2(e){var d3=gQ(e);return function(ic,id){if(ie=ic.classList){return id?ie.add(e):ie.remove(e)}var ie=ic.getAttribute("class")||"";if(id){d3.lastIndex=0;if(!d3.test(ie)){ic.setAttribute("class",cH(ie+" "+e))}}else{ic.setAttribute("class",cH(ie.replace(d3," ")))}}}dY.style=function(e,id,d3){var ie=arguments.length;if(ie<3){if(typeof e!=="string"){if(ie<2){id=""}for(d3 in e){this.each(fK(d3,e[d3],id))}return this}if(ie<2){var ic=this.node();return fx(ic).getComputedStyle(ic,null).getPropertyValue(e)}d3=""}return this.each(fK(e,id,d3))};function fK(ic,ig,id){function d3(){this.style.removeProperty(ic)}function ie(){this.style.setProperty(ic,ig,id)}function e(){var ih=ig.apply(this,arguments);if(ih==null){this.style.removeProperty(ic)}else{this.style.setProperty(ic,ih,id)}}return ig==null?d3:typeof ig==="function"?e:ie}dY.property=function(e,d3){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(d3 in e){this.each(hI(d3,e[d3]))}return this}return this.each(hI(e,d3))};function hI(d3,id){function e(){delete this[d3]}function ic(){this[d3]=id}function ie(){var ig=id.apply(this,arguments);if(ig==null){delete this[d3]}else{this[d3]=ig}}return id==null?e:typeof id==="function"?ie:ic}dY.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var d3=e.apply(this,arguments);this.textContent=d3==null?"":d3}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};dY.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var d3=e.apply(this,arguments);this.innerHTML=d3==null?"":d3}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};dY.append=function(e){e=aC(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))
})};function aC(e){function d3(){var id=this.ownerDocument,ie=this.namespaceURI;return ie===fQ&&id.documentElement.namespaceURI===fQ?id.createElement(e):id.createElementNS(ie,e)}function ic(){return this.ownerDocument.createElementNS(e.space,e.local)}return typeof e==="function"?e:(e=ho.ns.qualify(e)).local?ic:d3}dY.insert=function(e,d3){e=aC(e);d3=y(d3);return this.select(function(){return this.insertBefore(e.apply(this,arguments),d3.apply(this,arguments)||null)})};dY.remove=function(){return this.each(ej)};function ej(){var e=this.parentNode;if(e){e.removeChild(this)}}dY.data=function(ii,ik){var ie=-1,d3=this.length,ij,ic;if(!arguments.length){ii=new Array(d3=(ij=this[0]).length);while(++ie<d3){if(ic=ij[ie]){ii[ie]=ic.__data__}}return ii}function ig(iw,iq){var it,im=iw.length,ip=iq.length,iv=Math.min(im,ip),iz=new Array(ip),ix=new Array(ip),iu=new Array(im),io,il;if(ik){var iA=new aH(),iy=new Array(im),ir;for(it=-1;++it<im;){if(io=iw[it]){if(iA.has(ir=ik.call(io,io.__data__,it))){iu[it]=io}else{iA.set(ir,io)}iy[it]=ir}}for(it=-1;++it<ip;){if(!(io=iA.get(ir=ik.call(iq,il=iq[it],it)))){ix[it]=K(il)}else{if(io!==true){iz[it]=io;io.__data__=il}}iA.set(ir,true)}for(it=-1;++it<im;){if(it in iy&&iA.get(iy[it])!==true){iu[it]=iw[it]}}}else{for(it=-1;++it<iv;){io=iw[it];il=iq[it];if(io){io.__data__=il;iz[it]=io}else{ix[it]=K(il)}}for(;it<ip;++it){ix[it]=K(iq[it])}for(;it<im;++it){iu[it]=iw[it]}}ix.update=iz;ix.parentNode=iz.parentNode=iu.parentNode=iw.parentNode;ih.push(ix);id.push(iz);e.push(iu)}var ih=bV([]),id=dZ([]),e=dZ([]);if(typeof ii==="function"){while(++ie<d3){ig(ij=this[ie],ii.call(ij,ij.parentNode.__data__,ie))}}else{while(++ie<d3){ig(ij=this[ie],ii)}}id.enter=function(){return ih};id.exit=function(){return e};return id};function K(e){return{__data__:e}}dY.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};dY.filter=function(e){var ic=[],ij,ii,id;if(typeof e!=="function"){e=a8(e)}for(var ig=0,ie=this.length;ig<ie;ig++){ic.push(ij=[]);ij.parentNode=(ii=this[ig]).parentNode;for(var ih=0,d3=ii.length;ih<d3;ih++){if((id=ii[ih])&&e.call(id,id.__data__,ih,ig)){ij.push(id)}}}return dZ(ic)};function a8(e){return function(){return d(this,e)}}dY.order=function(){for(var d3=-1,e=this.length;++d3<e;){for(var ig=this[d3],ic=ig.length-1,id=ig[ic],ie;--ic>=0;){if(ie=ig[ic]){if(id&&id!==ie.nextSibling){id.parentNode.insertBefore(ie,id)}id=ie}}}return this};dY.sort=function(d3){d3=gN.apply(this,arguments);for(var ic=-1,e=this.length;++ic<e;){this[ic].sort(d3)}return this.order()};function gN(e){if(!arguments.length){e=fh}return function(ic,d3){return ic&&d3?e(ic.__data__,d3.__data__):!ic-!d3}}dY.each=function(e){return cI(this,function(id,ic,d3){e.call(id,id.__data__,ic,d3)})};function cI(d3,ii){for(var ic=0,e=d3.length;ic<e;ic++){for(var ig=d3[ic],id=0,ih=ig.length,ie;id<ih;id++){if(ie=ig[id]){ii(ie,id,ic)}}}return d3}dY.call=function(d3){var e=dO(arguments);d3.apply(e[0]=this,e);return this};dY.empty=function(){return !this.node()};dY.node=function(){for(var d3=0,e=this.length;d3<e;d3++){for(var ie=this[d3],ic=0,ig=ie.length;ic<ig;ic++){var id=ie[ic];if(id){return id}}}return null};dY.size=function(){var e=0;cI(this,function(){++e});return e};function bV(e){h6(e,e3);return e}var e3=[];ho.selection.enter=bV;ho.selection.enter.prototype=e3;e3.append=dY.append;e3.empty=dY.empty;e3.node=dY.node;e3.call=dY.call;e3.size=dY.size;e3.select=function(ig){var ic=[],il,e,ij,ik,ie;for(var ih=-1,id=this.length;++ih<id;){ij=(ik=this[ih]).update;ic.push(il=[]);il.parentNode=ik.parentNode;for(var ii=-1,d3=ik.length;++ii<d3;){if(ie=ik[ii]){il.push(ij[ii]=e=ig.call(ik.parentNode,ie.__data__,ii,ih));e.__data__=ie.__data__}else{il.push(null)}}}return dZ(ic)};e3.insert=function(e,d3){if(arguments.length<2){d3=gu(this)}return dY.insert.call(this,e,d3)};function gu(ic){var e,d3;return function(ii,ie,id){var ih=ic[id].update,ij=ih.length,ig;if(id!=d3){d3=id,e=0}if(ie>=e){e=ie+1}while(!(ig=ih[e])&&++e<ij){}return ig}}ho.select=function(e){var d3;if(typeof e==="string"){d3=[dq(e,bN)];d3.parentNode=bN.documentElement}else{d3=[e];d3.parentNode=d7(e)}return dZ([d3])};ho.selectAll=function(e){var d3;if(typeof e==="string"){d3=dO(f6(e,bN));d3.parentNode=bN.documentElement}else{d3=dO(e);d3.parentNode=null}return dZ([d3])};dY.on=function(d3,ic,e){var id=arguments.length;if(id<3){if(typeof d3!=="string"){if(id<2){ic=false}for(e in d3){this.each(l(e,d3[e],ic))}return this}if(id<2){return(id=this.node()["__on"+d3])&&id._}e=false}return this.each(l(d3,ic,e))};function l(ij,id,ik){var e="__on"+ij,ig=ij.indexOf("."),d3=fp;if(ig>0){ij=ij.slice(0,ig)}var ic=bJ.get(ij);if(ic){ij=ic,d3=ao}function ie(){var il=this[e];if(il){this.removeEventListener(ij,il,il.$);delete this[e]}}function ii(){var il=d3(id,dO(arguments));ie.call(this);this.addEventListener(ij,this[e]=il,il.$=ik);il._=id}function ih(){var ip=new RegExp("^__on([^.]+)"+ho.requote(ij)+"$"),io;for(var im in this){if(io=im.match(ip)){var il=this[im];this.removeEventListener(io[1],il,il.$);
delete this[im]}}}return ig?id?ii:ie:id?aG:ih}var bJ=ho.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(bN){bJ.forEach(function(e){if("on"+e in bN){bJ.remove(e)}})}function fp(d3,e){return function(ic){var id=ho.event;ho.event=ic;e[0]=this.__data__;try{d3.apply(this,e)}finally{ho.event=id}}}function ao(ic,e){var d3=fp(ic,e);return function(ig){var ie=this,id=ig.relatedTarget;if(!id||id!==ie&&!(id.compareDocumentPosition(ie)&8)){d3.call(ie,ig)}}}var cc,gK=0;function bK(ig){var ic=".dragsuppress-"+ ++gK,ie="click"+ic,d3=ho.select(fx(ig)).on("touchmove"+ic,v).on("dragstart"+ic,v).on("selectstart"+ic,v);if(cc==null){cc="onselectstart" in ig?false:dg(ig.style,"userSelect")}if(cc){var id=d7(ig).style,e=id[cc];id[cc]="none"}return function(ih){d3.on(ic,null);if(cc){id[cc]=e}if(ih){var ii=function(){d3.on(ie,null)};d3.on(ie,function(){v();ii()},true);setTimeout(ii,0)}}}ho.mouse=function(e){return aX(e,ad())};var cD=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function aX(id,ii){if(ii.changedTouches){ii=ii.changedTouches[0]}var ie=id.ownerSVGElement||id;if(ie.createSVGPoint){var d3=ie.createSVGPoint();if(cD<0){var ih=fx(id);if(ih.scrollX||ih.scrollY){ie=ho.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ic=ie[0][0].getScreenCTM();cD=!(ic.f||ic.e);ie.remove()}}if(cD){d3.x=ii.pageX,d3.y=ii.pageY}else{d3.x=ii.clientX,d3.y=ii.clientY}d3=d3.matrixTransform(id.getScreenCTM().inverse());return[d3.x,d3.y]}var ig=id.getBoundingClientRect();return[ii.clientX-ig.left-id.clientLeft,ii.clientY-ig.top-id.clientTop]}ho.touch=function(e,id,d3){if(arguments.length<3){d3=id,id=ad().changedTouches}if(id){for(var ic=0,ig=id.length,ie;ic<ig;++ic){if((ie=id[ic]).identifier===d3){return aX(e,ie)}}}};ho.behavior.drag=function(){var ie=hi(id,"drag","dragstart","dragend"),e=null,d3=ic(aG,ho.mouse,fx,"mousemove","mouseup"),ig=ic(hm,ho.touch,gl,"touchmove","touchend");function id(){this.on("mousedown.drag",d3).on("touchstart.drag",ig)}function ic(il,ih,ik,ij,ii){return function(){var iu=this,iv=ho.event.target.correspondingElement||ho.event.target,iA=iu.parentNode,iw=ie.of(iu,arguments),iy=0,io=il(),im=".drag"+(io==null?"":"-"+io),ir,ip=ho.select(ik(iv)).on(ij+im,ix).on(ii+im,iz),it=bK(iv),iq=ih(iA,io);if(e){ir=e.apply(iu,arguments);ir=[ir.x-iq[0],ir.y-iq[1]]}else{ir=[0,0]}iw({type:"dragstart"});function ix(){var iC=ih(iA,io),iD,iB;if(!iC){return}iD=iC[0]-iq[0];iB=iC[1]-iq[1];iy|=iD|iB;iq=iC;iw({type:"drag",x:iC[0]+ir[0],y:iC[1]+ir[1],dx:iD,dy:iB})}function iz(){if(!ih(iA,io)){return}ip.on(ij+im,null).on(ii+im,null);it(iy);iw({type:"dragend"})}}}id.origin=function(ih){if(!arguments.length){return e}e=ih;return id};return ho.rebind(id,ie,"on")};function hm(){return ho.event.changedTouches[0].identifier}ho.touches=function(e,d3){if(arguments.length<2){d3=ad().touches}return d3?dO(d3).map(function(id){var ic=aX(e,id);ic.identifier=id.identifier;return ic}):[]};var gn=0.000001,eD=gn*gn,ge=Math.PI,f7=2*ge,gF=f7-gn,ep=ge/2,I=ge/180,hF=180/ge;function b9(e){return e>0?1:e<0?-1:0}function eZ(d3,e,ic){return(e[0]-d3[0])*(ic[1]-d3[1])-(e[1]-d3[1])*(ic[0]-d3[0])}function ac(e){return e>1?0:e<-1?ge:Math.acos(e)}function cf(e){return e>1?ep:e<-1?-ep:Math.asin(e)}function dW(e){return((e=Math.exp(e))-1/e)/2}function bE(e){return((e=Math.exp(e))+1/e)/2}function fr(e){return((e=Math.exp(2*e))-1)/(e+1)}function aD(e){return(e=Math.sin(e/2))*e}var gb=Math.SQRT2,Z=2,X=4;ho.interpolateZoom=function(d3,e){var il=d3[0],ir=d3[1],ij=d3[2],ik=e[0],iq=e[1],ih=e[2],ii=ik-il,ig=iq-ir,it=ii*ii+ig*ig,io,ic;if(it<eD){ic=Math.log(ih/ij)/gb;io=function(iv){return[il+iv*ii,ir+iv*ig,ij*Math.exp(gb*iv*ic)]}}else{var iu=Math.sqrt(it),ie=(ih*ih-ij*ij+X*it)/(2*ij*Z*iu),id=(ih*ih-ij*ij-X*it)/(2*ih*Z*iu),ip=Math.log(Math.sqrt(ie*ie+1)-ie),im=Math.log(Math.sqrt(id*id+1)-id);ic=(im-ip)/gb;io=function(iw){var ix=iw*ic,iy=bE(ip),iv=ij/(Z*iu)*(iy*fr(gb*ix+ip)-dW(ip));return[il+iv*ii,ir+iv*ig,ij*iy/bE(gb*ix+ip)]}}io.duration=ic*1000;return io};ho.behavior.zoom=function(){var ip={x:0,y:0,k:1},iG,il,iI,iv=[960,500],id=fU,e=250,iF=0,iz="mousedown.zoom",iH="mousemove.zoom",iA="mouseup.zoom",iw,iD="touchstart.zoom",ik,iB=hi(ic,"zoomstart","zoom","zoomend"),iE,iC,ii,ig;if(!g5){g5="onwheel" in bN?(cx=function(){return -ho.event.deltaY*(ho.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bN?(cx=function(){return ho.event.wheelDelta},"mousewheel"):(cx=function(){return -ho.event.detail},"MozMousePixelScroll")}function ic(iK){iK.on(iz,ie).on(g5+".zoom",iq).on("dblclick.zoom",im).on(iD,ih)}ic.event=function(iK){iK.each(function(){var iM=iB.of(this,arguments),iL=ip;if(aq){ho.select(this).transition().each("start.zoom",function(){ip=this.__chart__||{x:0,y:0,k:1};ix(iM)}).tween("zoom:zoom",function(){var iP=iv[0],iO=iv[1],iN=il?il[0]:iP/2,iR=il?il[1]:iO/2,iQ=ho.interpolateZoom([(iN-ip.x)/ip.k,(iR-ip.y)/ip.k,iP/ip.k],[(iN-iL.x)/iL.k,(iR-iL.y)/iL.k,iP/iL.k]);return function(iU){var iS=iQ(iU),iT=iP/iS[2];this.__chart__=ip={x:iN-iS[0]*iT,y:iR-iS[1]*iT,k:iT};
iu(iM)}}).each("interrupt.zoom",function(){it(iM)}).each("end.zoom",function(){it(iM)})}else{this.__chart__=ip;ix(iM);iu(iM);it(iM)}})};ic.translate=function(iK){if(!arguments.length){return[ip.x,ip.y]}ip={x:+iK[0],y:+iK[1],k:ip.k};io();return ic};ic.scale=function(iK){if(!arguments.length){return ip.k}ip={x:ip.x,y:ip.y,k:null};ij(+iK);io();return ic};ic.scaleExtent=function(iK){if(!arguments.length){return id}id=iK==null?fU:[+iK[0],+iK[1]];return ic};ic.center=function(iK){if(!arguments.length){return iI}iI=iK&&[+iK[0],+iK[1]];return ic};ic.size=function(iK){if(!arguments.length){return iv}iv=iK&&[+iK[0],+iK[1]];return ic};ic.duration=function(iK){if(!arguments.length){return e}e=+iK;return ic};ic.x=function(iK){if(!arguments.length){return iC}iC=iK;iE=iK.copy();ip={x:0,y:0,k:1};return ic};ic.y=function(iK){if(!arguments.length){return ig}ig=iK;ii=iK.copy();ip={x:0,y:0,k:1};return ic};function d3(iK){return[(iK[0]-ip.x)/ip.k,(iK[1]-ip.y)/ip.k]}function iy(iK){return[iK[0]*ip.k+ip.x,iK[1]*ip.k+ip.y]}function ij(iK){ip.k=Math.max(id[0],Math.min(id[1],iK))}function iJ(iL,iK){iK=iy(iK);ip.x+=iL[0]-iK[0];ip.y+=iL[1]-iK[1]}function ir(iM,iN,iK,iL){iM.__chart__={x:ip.x,y:ip.y,k:ip.k};ij(Math.pow(2,iL));iJ(il=iN,iK);iM=ho.select(iM);if(e>0){iM=iM.transition().duration(e)}iM.call(ic.event)}function io(){if(iC){iC.domain(iE.range().map(function(iK){return(iK-ip.x)/ip.k}).map(iE.invert))}if(ig){ig.domain(ii.range().map(function(iK){return(iK-ip.y)/ip.k}).map(ii.invert))}}function ix(iK){if(!iF++){iK({type:"zoomstart"})}}function iu(iK){io();iK({type:"zoom",scale:ip.k,translate:[ip.x,ip.y]})}function it(iK){if(!--iF){iK({type:"zoomend"}),il=null}}function ie(){var iQ=this,iM=iB.of(iQ,arguments),iK=0,iN=ho.select(fx(iQ)).on(iH,iO).on(iA,iR),iL=d3(ho.mouse(iQ)),iP=bK(iQ);cU.call(iQ);ix(iM);function iO(){iK=1;iJ(ho.mouse(iQ),iL);iu(iM)}function iR(){iN.on(iH,null).on(iA,null);iP(iK);it(iM)}}function ih(){var iQ=this,iS=iB.of(iQ,arguments),iO={},iU=0,iR,iL=".zoom-"+ho.event.changedTouches[0].identifier,iM="touchmove"+iL,iY="touchend"+iL,iP=[],iV=ho.select(iQ),iN=bK(iQ);iT();ix(iS);iV.on(iz,null).on(iD,iT);function iK(){var iZ=ho.touches(iQ);iR=ip.k;iZ.forEach(function(i0){if(i0.identifier in iO){iO[i0.identifier]=d3(i0)}});return iZ}function iT(){var i6=ho.event.target;ho.select(i6).on(iM,iW).on(iY,iX);iP.push(i6);var i3=ho.event.changedTouches;for(var i4=0,i2=i3.length;i4<i2;++i4){iO[i3[i4].identifier]=null}var i5=iK(),i1=Date.now();if(i5.length===1){if(i1-ik<500){var i0=i5[0];ir(iQ,i0,iO[i0.identifier],Math.floor(Math.log(ip.k)/Math.LN2)+1);v()}ik=i1}else{if(i5.length>1){var i0=i5[0],iZ=i5[1],i8=i0[0]-iZ[0],i7=i0[1]-iZ[1];iU=i8*i8+i7*i7}}}function iW(){var i3=ho.touches(iQ),i7,i1,i6,i0;cU.call(iQ);for(var i2=0,iZ=i3.length;i2<iZ;++i2,i0=null){i6=i3[i2];if(i0=iO[i6.identifier]){if(i1){break}i7=i6,i1=i0}}if(i0){var i5=(i5=i6[0]-i7[0])*i5+(i5=i6[1]-i7[1])*i5,i4=iU&&Math.sqrt(i5/iU);i7=[(i7[0]+i6[0])/2,(i7[1]+i6[1])/2];i1=[(i1[0]+i0[0])/2,(i1[1]+i0[1])/2];ij(i4*iR)}ik=null;iJ(i7,i1);iu(iS)}function iX(){if(ho.event.touches.length){var i1=ho.event.changedTouches;for(var i0=0,i2=i1.length;i0<i2;++i0){delete iO[i1[i0].identifier]}for(var iZ in iO){return void iK()}}ho.selectAll(iP).on(iL,null);iV.on(iz,ie).on(iD,ih);iN();it(iS)}}function iq(){var iK=iB.of(this,arguments);if(iw){clearTimeout(iw)}else{cU.call(this),iG=d3(il=iI||ho.mouse(this)),ix(iK)}iw=setTimeout(function(){iw=null;it(iK)},50);v();ij(Math.pow(2,cx()*0.002)*ip.k);iJ(il,iG);iu(iK)}function im(){var iL=ho.mouse(this),iK=Math.log(ip.k)/Math.LN2;ir(this,iL,d3(iL),ho.event.shiftKey?Math.ceil(iK)-1:Math.floor(iK)+1)}return ho.rebind(ic,iB,"on")};var fU=[0,Infinity],cx,g5;ho.color=gV;function gV(){}gV.prototype.toString=function(){return this.rgb()+""};ho.hsl=eH;function eH(ic,d3,e){return this instanceof eH?void (this.h=+ic,this.s=+d3,this.l=+e):arguments.length<2?ic instanceof eH?new eH(ic.h,ic.s,ic.l):aW(""+ic,gx,eH):new eH(ic,d3,e)}var ex=eH.prototype=new gV();ex.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return new eH(this.h,this.s,this.l/e)};ex.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return new eH(this.h,this.s,e*this.l)};ex.rgb=function(){return bg(this.h,this.s,this.l)};function bg(ig,ie,e){var id,ic;ig=isNaN(ig)?0:(ig%=360)<0?ig+360:ig;ie=isNaN(ie)?0:ie<0?0:ie>1?1:ie;e=e<0?0:e>1?1:e;ic=e<=0.5?e*(1+ie):e+ie-e*ie;id=2*e-ic;function d3(ii){if(ii>360){ii-=360}else{if(ii<0){ii+=360}}if(ii<60){return id+(ic-id)*ii/60}if(ii<180){return ic}if(ii<240){return id+(ic-id)*(240-ii)/60}return id}function ih(ii){return Math.round(d3(ii)*255)}return new er(ih(ig+120),ih(ig),ih(ig-120))}ho.hcl=bC;function bC(d3,ic,e){return this instanceof bC?void (this.h=+d3,this.c=+ic,this.l=+e):arguments.length<2?d3 instanceof bC?new bC(d3.h,d3.c,d3.l):d3 instanceof cn?gH(d3.l,d3.a,d3.b):gH((d3=d0((d3=ho.rgb(d3)).r,d3.g,d3.b)).l,d3.a,d3.b):new bC(d3,ic,e)}var hg=bC.prototype=new gV();hg.brighter=function(e){return new bC(this.h,this.c,Math.min(100,this.l+bs*(arguments.length?e:1)))
};hg.darker=function(e){return new bC(this.h,this.c,Math.max(0,this.l-bs*(arguments.length?e:1)))};hg.rgb=function(){return bD(this.h,this.c,this.l).rgb()};function bD(d3,ic,e){if(isNaN(d3)){d3=0}if(isNaN(ic)){ic=0}return new cn(e,Math.cos(d3*=I)*ic,Math.sin(d3)*ic)}ho.lab=cn;function cn(ic,d3,e){return this instanceof cn?void (this.l=+ic,this.a=+d3,this.b=+e):arguments.length<2?ic instanceof cn?new cn(ic.l,ic.a,ic.b):ic instanceof bC?bD(ic.h,ic.c,ic.l):d0((ic=er(ic)).r,ic.g,ic.b):new cn(ic,d3,e)}var bs=18;var bh=0.95047,bf=1,bc=1.08883;var gy=cn.prototype=new gV();gy.brighter=function(e){return new cn(Math.min(100,this.l+bs*(arguments.length?e:1)),this.a,this.b)};gy.darker=function(e){return new cn(Math.max(0,this.l-bs*(arguments.length?e:1)),this.a,this.b)};gy.rgb=function(){return aB(this.l,this.a,this.b)};function aB(id,ic,d3){var ig=(id+16)/116,e=ig+ic/500,ie=ig-d3/200;e=g1(e)*bh;ig=g1(ig)*bf;ie=g1(ie)*bc;return new er(g(3.2404542*e-1.5371385*ig-0.4985314*ie),g(-0.969266*e+1.8760108*ig+0.041556*ie),g(0.0556434*e-0.2040259*ig+1.0572252*ie))}function gH(ic,d3,e){return ic>0?new bC(Math.atan2(e,d3)*hF,Math.sqrt(d3*d3+e*e),ic):new bC(NaN,NaN,ic)}function g1(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function gq(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function g(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}ho.rgb=er;function er(ic,d3,e){return this instanceof er?void (this.r=~~ic,this.g=~~d3,this.b=~~e):arguments.length<2?ic instanceof er?new er(ic.r,ic.g,ic.b):aW(""+ic,er,bg):new er(ic,d3,e)}function de(e){return new er(e>>16,e>>8&255,e&255)}function dw(e){return de(e)+""}var eI=er.prototype=new gV();eI.brighter=function(d3){d3=Math.pow(0.7,arguments.length?d3:1);var ie=this.r,id=this.g,e=this.b,ic=30;if(!ie&&!id&&!e){return new er(ic,ic,ic)}if(ie&&ie<ic){ie=ic}if(id&&id<ic){id=ic}if(e&&e<ic){e=ic}return new er(Math.min(255,ie/d3),Math.min(255,id/d3),Math.min(255,e/d3))};eI.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return new er(e*this.r,e*this.g,e*this.b)};eI.hsl=function(){return gx(this.r,this.g,this.b)};eI.toString=function(){return"#"+cv(this.r)+cv(this.g)+cv(this.b)};function cv(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function aW(ig,id,ih){var e=0,ic=0,ie=0,ij,ii,d3;ij=/([a-z]+)\((.*)\)/.exec(ig=ig.toLowerCase());if(ij){ii=ij[2].split(",");switch(ij[1]){case"hsl":return ih(parseFloat(ii[0]),parseFloat(ii[1])/100,parseFloat(ii[2])/100);case"rgb":return id(eW(ii[0]),eW(ii[1]),eW(ii[2]))}}if(d3=al.get(ig)){return id(d3.r,d3.g,d3.b)}if(ig!=null&&ig.charAt(0)==="#"&&!isNaN(d3=parseInt(ig.slice(1),16))){if(ig.length===4){e=(d3&3840)>>4;e=e>>4|e;ic=d3&240;ic=ic>>4|ic;ie=d3&15;ie=ie<<4|ie}else{if(ig.length===7){e=(d3&16711680)>>16;ic=(d3&65280)>>8;ie=d3&255}}}return id(e,ic,ie)}function gx(e,ie,ih){var ic=Math.min(e/=255,ie/=255,ih/=255),ii=Math.max(e,ie,ih),ig=ii-ic,id,ij,d3=(ii+ic)/2;if(ig){ij=d3<0.5?ig/(ii+ic):ig/(2-ii-ic);if(e==ii){id=(ie-ih)/ig+(ie<ih?6:0)}else{if(ie==ii){id=(ih-e)/ig+2}else{id=(e-ie)/ig+4}}id*=60}else{id=NaN;ij=d3>0&&d3<1?0:id}return new eH(id,ij,d3)}function d0(id,ic,d3){id=dD(id);ic=dD(ic);d3=dD(d3);var e=gq((0.4124564*id+0.3575761*ic+0.1804375*d3)/bh),ig=gq((0.2126729*id+0.7151522*ic+0.072175*d3)/bf),ie=gq((0.0193339*id+0.119192*ic+0.9503041*d3)/bc);return cn(116*ig-16,500*(e-ig),200*(ig-ie))}function dD(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function eW(d3){var e=parseFloat(d3);return d3.charAt(d3.length-1)==="%"?Math.round(e*2.55):e}var al=ho.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});
al.forEach(function(e,d3){al.set(e,de(d3))});function Q(e){return typeof e==="function"?e:function(){return e}}ho.functor=Q;ho.xhr=W(gl);function W(e){return function(d3,ic,id){if(arguments.length===2&&typeof ic==="function"){id=ic,ic=null}return hZ(d3,ic,e,id)}}function hZ(e,ic,ie,ij){var ik={},ii=ho.dispatch("beforesend","progress","load","error"),id={},ig=new XMLHttpRequest(),ih=null;if(this.XDomainRequest&&!("withCredentials" in ig)&&/^(http(s)?:)?\/\//.test(e)){ig=new XDomainRequest()}"onload" in ig?ig.onload=ig.onerror=d3:ig.onreadystatechange=function(){ig.readyState>3&&d3()};function d3(){var im=ig.status,il;if(!im&&fH(ig)||im>=200&&im<300||im===304){try{il=ie.call(ik,ig)}catch(io){ii.error.call(ik,io);return}ii.load.call(ik,il)}else{ii.error.call(ik,ig)}}ig.onprogress=function(il){var im=ho.event;ho.event=il;try{ii.progress.call(ik,ig)}finally{ho.event=im}};ik.header=function(il,im){il=(il+"").toLowerCase();if(arguments.length<2){return id[il]}if(im==null){delete id[il]}else{id[il]=im+""}return ik};ik.mimeType=function(il){if(!arguments.length){return ic}ic=il==null?null:il+"";return ik};ik.responseType=function(il){if(!arguments.length){return ih}ih=il;return ik};ik.response=function(il){ie=il;return ik};["get","post"].forEach(function(il){ik[il]=function(){return ik.send.apply(ik,[il].concat(dO(arguments)))}});ik.send=function(ip,im,io){if(arguments.length===2&&typeof im==="function"){io=im,im=null}ig.open(ip,e,true);if(ic!=null&&!("accept" in id)){id["accept"]=ic+",*/*"}if(ig.setRequestHeader){for(var il in id){ig.setRequestHeader(il,id[il])}}if(ic!=null&&ig.overrideMimeType){ig.overrideMimeType(ic)}if(ih!=null){ig.responseType=ih}if(io!=null){ik.on("error",io).on("load",function(iq){io(null,iq)})}ii.beforesend.call(ik,ig);ig.send(im==null?null:im);return ik};ik.abort=function(){ig.abort();return ik};ho.rebind(ik,ii,"on");return ij==null?ik:ik.get(d6(ij))}function d6(e){return e.length===1?function(d3,ic){e(d3==null?ic:null)}:e}function fH(d3){var e=d3.responseType;return e&&e!=="text"?d3.response:d3.responseText}ho.dsv=function(e,d3){var id=new RegExp('["'+e+"\n]"),ig=e.charCodeAt(0);function ii(ik,im,io){if(arguments.length<3){io=im,im=null}var il=hZ(ik,d3,im==null?ie:ic(im),io);il.row=function(ip){return arguments.length?il.response((im=ip)==null?ie:ic(ip)):im};return il}function ie(ik){return ii.parse(ik.responseText)}function ic(ik){return function(il){return ii.parse(il.responseText,ik)}}ii.parse=function(im,ik){var il;return ii.parseRows(im,function(iq,ip){if(il){return il(iq,ip-1)}var io=new Function("d","return {"+iq.map(function(ir,it){return JSON.stringify(ir)+": d["+it+"]"}).join(",")+"}");il=ik?function(it,ir){return ik(io(it),ir)}:io})};ii.parseRows=function(iv,ip){var il={},io={},ix=[],iq=iv.length,iu=0,ik=0,iw,ir;function im(){if(iu>=iq){return io}if(ir){return ir=false,il}var iz=iu;if(iv.charCodeAt(iz)===34){var iA=iz;while(iA++<iq){if(iv.charCodeAt(iA)===34){if(iv.charCodeAt(iA+1)!==34){break}++iA}}iu=iA+2;var iB=iv.charCodeAt(iA+1);if(iB===13){ir=true;if(iv.charCodeAt(iA+2)===10){++iu}}else{if(iB===10){ir=true}}return iv.slice(iz+1,iA).replace(/""/g,'"')}while(iu<iq){var iB=iv.charCodeAt(iu++),iy=1;if(iB===10){ir=true}else{if(iB===13){ir=true;if(iv.charCodeAt(iu)===10){++iu,++iy}}else{if(iB!==ig){continue}}}return iv.slice(iz,iu-iy)}return iv.slice(iz)}while((iw=im())!==io){var it=[];while(iw!==il&&iw!==io){it.push(iw);iw=im()}if(ip&&(it=ip(it,ik++))==null){continue}ix.push(it)}return ix};ii.format=function(im){if(Array.isArray(im[0])){return ii.formatRows(im)}var il=new dr(),ik=[];im.forEach(function(ip){for(var io in ip){if(!il.has(io)){ik.push(il.add(io))}}});return[ik.map(ih).join(e)].concat(im.map(function(io){return ik.map(function(ip){return ih(io[ip])}).join(e)})).join("\n")};ii.formatRows=function(ik){return ik.map(ij).join("\n")};function ij(ik){return ik.map(ih).join(e)}function ih(ik){return id.test(ik)?'"'+ik.replace(/\"/g,'""')+'"':ik}return ii};ho.csv=ho.dsv(",","text/csv");ho.tsv=ho.dsv("	","text/tab-separated-values");var d1,ae,cq,fe,hu=this[dg(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};ho.timer=function(){g3.apply(this,arguments)};function g3(ig,e,ic){var ie=arguments.length;if(ie<2){e=0}if(ie<3){ic=Date.now()}var d3=ic+e,id={c:ig,t:d3,n:null};if(ae){ae.n=id}else{d1=id}ae=id;if(!cq){fe=clearTimeout(fe);cq=1;hu(hv)}return id}function hv(){var d3=bF(),e=ab()-d3;if(e>24){if(isFinite(e)){clearTimeout(fe);fe=setTimeout(hv,e)}cq=0}else{cq=1;hu(hv)}}ho.timer.flush=function(){bF();ab()};function bF(){var e=Date.now(),d3=d1;while(d3){if(e>=d3.t&&d3.c(e-d3.t)){d3.c=null}d3=d3.n}return e}function ab(){var d3,e=d1,ic=Infinity;while(e){if(e.c){if(e.t<ic){ic=e.t}e=(d3=e).n}else{e=d3?d3.n=e.n:d1=e.n}}ae=d3;return ic}function ef(e,d3){return d3-(e?Math.ceil(Math.log(e)/Math.LN10):1)}ho.round=function(e,d3){return d3?Math.round(e*(d3=Math.pow(10,d3)))/d3:Math.round(e)};var cu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(dN);ho.formatPrefix=function(ic,e){var d3=0;
if(ic=+ic){if(ic<0){ic*=-1}if(e){ic=ho.round(ic,ef(ic,e))}d3=1+Math.floor(1e-12+Math.log(ic)/Math.LN10);d3=Math.max(-24,Math.min(24,Math.floor((d3-1)/3)*3))}return cu[8+d3/3]};function dN(ic,d3){var e=Math.pow(10,cG(8-d3)*3);return{scale:d3>8?function(id){return id/e}:function(id){return id*e},symbol:ic}}function bo(e){var id=e.decimal,ig=e.thousands,ie=e.grouping,ic=e.currency,d3=ie&&ig?function(io,ik){var ij=io.length,ii=[],ih=0,im=ie[0],il=0;while(ij>0&&im>0){if(il+im+1>ik){im=Math.max(1,ik-il)}ii.push(io.substring(ij-=im,ij+im));if((il+=im+1)>ik){break}im=ie[ih=(ih+1)%ie.length]}return ii.reverse().join(ig)}:gl;return function(iw){var iq=cz.exec(iw),iy=iq[1]||" ",it=iq[2]||">",ii=iq[3]||"-",ik=iq[4]||"",il=iq[5],ih=+iq[6],iz=iq[7],ip=iq[8],iu=iq[9],ij=1,ir="",ix="",io=false,iv=true;if(ip){ip=+ip.substring(1)}if(il||iy==="0"&&it==="="){il=iy="0";it="="}switch(iu){case"n":iz=true;iu="g";break;case"%":ij=100;ix="%";iu="f";break;case"p":ij=100;ix="%";iu="r";break;case"b":case"o":case"x":case"X":if(ik==="#"){ir="0"+iu.toLowerCase()}case"c":iv=false;case"d":io=true;ip=0;break;case"s":ij=-1;iu="r";break}if(ik==="$"){ir=ic[0],ix=ic[1]}if(iu=="r"&&!ip){iu="g"}if(ip!=null){if(iu=="g"){ip=Math.max(1,Math.min(21,ip))}else{if(iu=="e"||iu=="f"){ip=Math.max(0,Math.min(20,ip))}}}iu=w.get(iu)||bn;var im=il&&iz;return function(iI){var iG=ix;if(io&&iI%1){return""}var iC=iI<0||iI===0&&1/iI<0?(iI=-iI,"-"):ii==="-"?"":ii;if(ij<0){var iJ=ho.formatPrefix(iI,ip);iI=iJ.scale(iI);iG=iJ.symbol+ix}else{iI*=ij}iI=iu(iI,ip);var iE=iI.lastIndexOf("."),iH,iA;if(iE<0){var iD=iv?iI.lastIndexOf("e"):-1;if(iD<0){iH=iI,iA=""}else{iH=iI.substring(0,iD),iA=iI.substring(iD)}}else{iH=iI.substring(0,iE);iA=id+iI.substring(iE+1)}if(!il&&iz){iH=d3(iH,Infinity)}var iB=ir.length+iH.length+iA.length+(im?0:iC.length),iF=iB<ih?new Array(iB=ih-iB+1).join(iy):"";if(im){iH=d3(iF+iH,iF.length?ih-iA.length:Infinity)}iC+=ir;iI=iH+iA;return(it==="<"?iC+iI+iF:it===">"?iF+iC+iI:it==="^"?iF.substring(0,iB>>=1)+iC+iI+iF.substring(iB):iC+(im?iI:iF+iI))+iG}}}var cz=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var w=ho.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,d3){return e.toPrecision(d3)},e:function(e,d3){return e.toExponential(d3)},f:function(e,d3){return e.toFixed(d3)},r:function(e,d3){return(e=ho.round(e,ef(e,d3))).toFixed(Math.max(0,Math.min(20,ef(e*(1+1e-15),d3))))}});function bn(e){return e+""}var fF=ho.time={},hs=Date;function cl(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cl.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){f0.setUTCDate.apply(this._,arguments)},setDay:function(){f0.setUTCDay.apply(this._,arguments)},setFullYear:function(){f0.setUTCFullYear.apply(this._,arguments)},setHours:function(){f0.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){f0.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){f0.setUTCMinutes.apply(this._,arguments)},setMonth:function(){f0.setUTCMonth.apply(this._,arguments)},setSeconds:function(){f0.setUTCSeconds.apply(this._,arguments)},setTime:function(){f0.setTime.apply(this._,arguments)}};var f0=Date.prototype;function c0(ig,e,d3){function ij(ik){var im=ig(ik),il=id(im,1);return ik-im<il-ik?im:il}function ii(ik){e(ik=ig(new hs(ik-1)),1);return ik}function id(il,ik){e(il=new hs(+il),ik);return il}function ie(im,il,ik){var io=ii(im),ip=[];if(ik>1){while(io<il){if(!(d3(io)%ik)){ip.push(new Date(+io))}e(io,1)}}else{while(io<il){ip.push(new Date(+io)),e(io,1)}}return ip}function ic(io,im,il){try{hs=cl;var ik=new cl();ik._=io;return ie(ik,im,il)}finally{hs=Date}}ig.floor=ig;ig.round=ij;ig.ceil=ii;ig.offset=id;ig.range=ie;var ih=ig.utc=dS(ig);ih.floor=ih;ih.round=dS(ij);ih.ceil=dS(ii);ih.offset=dS(id);ih.range=ic;return ig}function dS(e){return function(ic,d3){try{hs=cl;var id=new cl();id._=ic;return e(id,d3)._}finally{hs=Date}}}fF.year=c0(function(e){e=fF.day(e);e.setMonth(0,1);return e},function(e,d3){e.setFullYear(e.getFullYear()+d3)},function(e){return e.getFullYear()});fF.years=fF.year.range;fF.years.utc=fF.year.utc.range;fF.day=c0(function(d3){var e=new hs(2000,0);e.setFullYear(d3.getFullYear(),d3.getMonth(),d3.getDate());return e},function(e,d3){e.setDate(e.getDate()+d3)},function(e){return e.getDate()-1});fF.days=fF.day.range;fF.days.utc=fF.day.utc.range;
fF.dayOfYear=function(e){var d3=fF.year(e);return Math.floor((e-d3-(e.getTimezoneOffset()-d3.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(d3,ic){ic=7-ic;var e=fF[d3]=c0(function(id){(id=fF.day(id)).setDate(id.getDate()-(id.getDay()+ic)%7);return id},function(id,ie){id.setDate(id.getDate()+Math.floor(ie)*7)},function(ie){var id=fF.year(ie).getDay();return Math.floor((fF.dayOfYear(ie)+(id+ic)%7)/7)-(id!==ic)});fF[d3+"s"]=e.range;fF[d3+"s"].utc=e.utc.range;fF[d3+"OfYear"]=function(ie){var id=fF.year(ie).getDay();return Math.floor((fF.dayOfYear(ie)+(id+ic)%7)/7)}});fF.week=fF.sunday;fF.weeks=fF.sunday.range;fF.weeks.utc=fF.sunday.utc.range;fF.weekOfYear=fF.sundayOfYear;function ap(iv){var iA=iv.dateTime,ip=iv.date,d3=iv.time,ij=iv.periods,e=iv.days,ik=iv.shortDays,io=iv.months,ie=iv.shortMonths;function iz(iH){var iJ=iH.length;function iI(iM){var iL=[],iN=-1,iK=0,iQ,iP,iO;while(++iN<iJ){if(iH.charCodeAt(iN)===37){iL.push(iH.slice(iK,iN));if((iP=aN[iQ=iH.charAt(++iN)])!=null){iQ=iH.charAt(++iN)}if(iO=ix[iQ]){iQ=iO(iM,iP==null?iQ==="e"?" ":"0":iP)}iL.push(iQ);iK=iN+1}}iL.push(iH.slice(iK,iN));return iL.join("")}iI.parse=function(iM){var iO={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},iN=it(iO,iH,iM,0);if(iN!=iM.length){return null}if("p" in iO){iO.H=iO.H%12+iO.p*12}var iK=iO.Z!=null&&hs!==cl,iL=new (iK?cl:hs)();if("j" in iO){iL.setFullYear(iO.y,0,iO.j)}else{if("W" in iO||"U" in iO){if(!("w" in iO)){iO.w="W" in iO?1:0}iL.setFullYear(iO.y,0,1);iL.setFullYear(iO.y,0,"W" in iO?(iO.w+6)%7+iO.W*7-(iL.getDay()+5)%7:iO.w+iO.U*7-(iL.getDay()+6)%7)}else{iL.setFullYear(iO.y,iO.m,iO.d)}}iL.setHours(iO.H+(iO.Z/100|0),iO.M+iO.Z%100,iO.S,iO.L);return iK?iL._:iL};iI.toString=function(){return iH};return iI}function it(iK,iP,iN,iL){var iO,iH,iQ,iM=0,iI=iP.length,iJ=iN.length;while(iM<iI){if(iL>=iJ){return -1}iO=iP.charCodeAt(iM++);if(iO===37){iQ=iP.charAt(iM++);iH=iw[iQ in aN?iP.charAt(iM++):iQ];if(!iH||(iL=iH(iK,iN,iL))<0){return -1}}else{if(iO!=iN.charCodeAt(iL++)){return -1}}}return iL}iz.utc=function(iI){var iH=iz(iI);function iJ(iK){try{hs=cl;var iL=new hs();iL._=iK;return iH(iL)}finally{hs=Date}}iJ.parse=function(iL){try{hs=cl;var iK=iH.parse(iL);return iK&&iK._}finally{hs=Date}};iJ.toString=iH.toString;return iJ};iz.multi=iz.utc.multi=gp;var iq=ho.map(),iD=cK(e),iE=gU(e),iC=cK(ik),ig=gU(ik),iF=cK(io),iG=gU(io),il=cK(ie),id=gU(ie);ij.forEach(function(iI,iH){iq.set(iI.toLowerCase(),iH)});var ix={a:function(iH){return ik[iH.getDay()]},A:function(iH){return e[iH.getDay()]},b:function(iH){return ie[iH.getMonth()]},B:function(iH){return io[iH.getMonth()]},c:iz(iA),d:function(iI,iH){return dy(iI.getDate(),iH,2)},e:function(iI,iH){return dy(iI.getDate(),iH,2)},H:function(iI,iH){return dy(iI.getHours(),iH,2)},I:function(iI,iH){return dy(iI.getHours()%12||12,iH,2)},j:function(iI,iH){return dy(1+fF.dayOfYear(iI),iH,3)},L:function(iI,iH){return dy(iI.getMilliseconds(),iH,3)},m:function(iI,iH){return dy(iI.getMonth()+1,iH,2)},M:function(iI,iH){return dy(iI.getMinutes(),iH,2)},p:function(iH){return ij[+(iH.getHours()>=12)]},S:function(iI,iH){return dy(iI.getSeconds(),iH,2)},U:function(iI,iH){return dy(fF.sundayOfYear(iI),iH,2)},w:function(iH){return iH.getDay()},W:function(iI,iH){return dy(fF.mondayOfYear(iI),iH,2)},x:iz(ip),X:iz(d3),y:function(iI,iH){return dy(iI.getFullYear()%100,iH,2)},Y:function(iI,iH){return dy(iI.getFullYear()%10000,iH,4)},Z:fV,"%":function(){return"%"}};var iw={a:im,A:ic,b:iB,B:iu,c:ii,d:b3,e:b3,H:aP,I:aP,j:E,L:gX,m:gJ,M:cV,p:ir,S:dX,U:bt,w:dU,W:dH,x:iy,X:ih,y:N,Y:bA,Z:a4,"%":fs};function im(iI,iH,iJ){iC.lastIndex=0;var iK=iC.exec(iH.slice(iJ));return iK?(iI.w=ig.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function ic(iI,iH,iJ){iD.lastIndex=0;var iK=iD.exec(iH.slice(iJ));return iK?(iI.w=iE.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function iB(iI,iH,iJ){il.lastIndex=0;var iK=il.exec(iH.slice(iJ));return iK?(iI.m=id.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function iu(iI,iH,iJ){iF.lastIndex=0;var iK=iF.exec(iH.slice(iJ));return iK?(iI.m=iG.get(iK[0].toLowerCase()),iJ+iK[0].length):-1}function ii(iI,iH,iJ){return it(iI,ix.c.toString(),iH,iJ)}function iy(iI,iH,iJ){return it(iI,ix.x.toString(),iH,iJ)}function ih(iI,iH,iJ){return it(iI,ix.X.toString(),iH,iJ)}function ir(iI,iH,iJ){var iK=iq.get(iH.slice(iJ,iJ+=2).toLowerCase());return iK==null?-1:(iI.p=iK,iJ)}return iz}var aN={"-":"",_:" ","0":"0"},f5=/^\s*\d+/,e7=/^%/;function dy(ie,ig,ic){var e=ie<0?"-":"",d3=(e?-ie:ie)+"",id=d3.length;return e+(id<ic?new Array(ic-id+1).join(ig)+d3:d3)}function cK(e){return new RegExp("^(?:"+e.map(ho.requote).join("|")+")","i")}function gU(ic){var d3=new aH(),e=-1,id=ic.length;while(++e<id){d3.set(ic[e].toLowerCase(),e)}return d3}function dU(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+1));return id?(d3.w=+id[0],ic+id[0].length):-1}function bt(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic));return id?(d3.U=+id[0],ic+id[0].length):-1}function dH(d3,e,ic){f5.lastIndex=0;
var id=f5.exec(e.slice(ic));return id?(d3.W=+id[0],ic+id[0].length):-1}function bA(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+4));return id?(d3.y=+id[0],ic+id[0].length):-1}function N(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+2));return id?(d3.y=c2(+id[0]),ic+id[0].length):-1}function a4(d3,e,ic){return/^[+-]\d{4}$/.test(e=e.slice(ic,ic+5))?(d3.Z=-e,ic+5):-1}function c2(e){return e+(e>68?1900:2000)}function gJ(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+2));return id?(d3.m=id[0]-1,ic+id[0].length):-1}function b3(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+2));return id?(d3.d=+id[0],ic+id[0].length):-1}function E(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+3));return id?(d3.j=+id[0],ic+id[0].length):-1}function aP(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+2));return id?(d3.H=+id[0],ic+id[0].length):-1}function cV(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+2));return id?(d3.M=+id[0],ic+id[0].length):-1}function dX(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+2));return id?(d3.S=+id[0],ic+id[0].length):-1}function gX(d3,e,ic){f5.lastIndex=0;var id=f5.exec(e.slice(ic,ic+3));return id?(d3.L=+id[0],ic+id[0].length):-1}function fV(ie){var id=ie.getTimezoneOffset(),ic=id>0?"-":"+",d3=cG(id)/60|0,e=cG(id)%60;return ic+dy(d3,"0",2)+dy(e,"0",2)}function fs(d3,e,ic){e7.lastIndex=0;var id=e7.exec(e.slice(ic,ic+1));return id?ic+id[0].length:-1}function gp(e){var ic=e.length,d3=-1;while(++d3<ic){e[d3][0]=this(e[d3][0])}return function(id){var ie=0,ig=e[ie];while(!ig[1](id)){ig=e[++ie]}return ig[0](id)}}ho.locale=function(e){return{numberFormat:bo(e),timeFormat:ap(e)}};var dh=ho.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ho.format=dh.numberFormat;ho.geo={};function fb(){}fb.prototype={s:0,t:0,add:function(e){dp(e,this.t,hP);dp(hP.s,this.s,this);if(this.s){this.t+=hP.t}else{this.s=hP.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hP=new fb();function dp(id,ic,ig){var d3=ig.s=id+ic,e=d3-id,ie=d3-e;ig.t=id-ie+(ic-e)}ho.geo.stream=function(e,d3){if(e&&z.hasOwnProperty(e.type)){z[e.type](e,d3)}else{aO(e,d3)}};function aO(d3,e){if(d3&&eR.hasOwnProperty(d3.type)){eR[d3.type](d3,e)}}var z={Feature:function(e,d3){aO(e.geometry,d3)},FeatureCollection:function(e,id){var ic=e.features,d3=-1,ie=ic.length;while(++d3<ie){aO(ic[d3].geometry,id)}}};var eR={Sphere:function(e,d3){d3.sphere()},Point:function(e,d3){e=e.coordinates;d3.point(e[0],e[1],e[2])},MultiPoint:function(e,ic){var id=e.coordinates,d3=-1,ie=id.length;while(++d3<ie){e=id[d3],ic.point(e[0],e[1],e[2])}},LineString:function(e,d3){co(e.coordinates,d3,0)},MultiLineString:function(e,ic){var id=e.coordinates,d3=-1,ie=id.length;while(++d3<ie){co(id[d3],ic,0)}},Polygon:function(e,d3){hf(e.coordinates,d3)},MultiPolygon:function(e,ic){var id=e.coordinates,d3=-1,ie=id.length;while(++d3<ie){hf(id[d3],ic)}},GeometryCollection:function(e,id){var ic=e.geometries,d3=-1,ie=ic.length;while(++d3<ie){aO(ic[d3],id)}}};function co(id,ic,e){var d3=-1,ig=id.length-e,ie;ic.lineStart();while(++d3<ig){ie=id[d3],ic.point(ie[0],ie[1],ie[2])}ic.lineEnd()}function hf(ic,d3){var e=-1,id=ic.length;d3.polygonStart();while(++e<id){co(ic[e],d3,1)}d3.polygonEnd()}ho.geo.area=function(e){a9=0;ho.geo.stream(e,hl);return a9};var a9,fO=new fb();var hl={sphere:function(){a9+=4*ge},point:aG,lineStart:aG,lineEnd:aG,polygonStart:function(){fO.reset();hl.lineStart=b6},polygonEnd:function(){var e=2*fO;a9+=e<0?4*ge+e:e;hl.lineStart=hl.lineEnd=hl.point=aG}};function b6(){var d3,e,id,ic,ie;hl.point=function(ii,ih){hl.point=ig;id=(d3=ii)*I,ic=Math.cos(ih=(e=ih)*I/2+ge/4),ie=Math.sin(ih)};function ig(ij,ir){ij*=I;ir=ir*I/2+ge/4;var im=ij-id,il=im>=0?1:-1,io=il*im,ih=Math.cos(ir),ik=Math.sin(ir),ii=ie*ik,iq=ic*ih+ii*Math.cos(io),ip=ii*il*Math.sin(io);fO.add(Math.atan2(ip,iq));id=ij,ic=ih,ie=ik}hl.lineEnd=function(){ig(d3,e)}}function au(e){var ic=e[0],d3=e[1],id=Math.cos(d3);return[id*Math.cos(ic),id*Math.sin(ic),Math.sin(d3)]}function ax(d3,e){return d3[0]*e[0]+d3[1]*e[1]+d3[2]*e[2]}function cY(d3,e){return[d3[1]*e[2]-d3[2]*e[1],d3[2]*e[0]-d3[0]*e[2],d3[0]*e[1]-d3[1]*e[0]]}function cB(d3,e){d3[0]+=e[0];d3[1]+=e[1];d3[2]+=e[2]}function gf(e,d3){return[e[0]*d3,e[1]*d3,e[2]*d3]}function fj(d3){var e=Math.sqrt(d3[0]*d3[0]+d3[1]*d3[1]+d3[2]*d3[2]);d3[0]/=e;d3[1]/=e;d3[2]/=e}function h8(e){return[Math.atan2(e[1],e[0]),cf(e[2])]}function eS(d3,e){return cG(d3[0]-e[0])<gn&&cG(d3[1]-e[1])<gn}ho.geo.bounds=function(){var id,iw,d3,iu,ie,im,ip,ig,ij,ih,ik;var e={point:iq,lineStart:il,lineEnd:it,polygonStart:function(){e.point=ir;
e.lineStart=ii;e.lineEnd=io;ij=0;hl.polygonStart()},polygonEnd:function(){hl.polygonEnd();e.point=iq;e.lineStart=il;e.lineEnd=it;if(fO<0){id=-(d3=180),iw=-(iu=90)}else{if(ij>gn){iu=90}else{if(ij<-gn){iw=-90}}}ik[0]=id,ik[1]=d3}};function iq(iA,iz){ih.push(ik=[id=iA,d3=iA]);if(iz<iw){iw=iz}if(iz>iu){iu=iz}}function ic(iD,iJ){var iz=au([iD*I,iJ*I]);if(ig){var iF=cY(ig,iz),iG=[iF[1],-iF[0],0],iE=cY(iG,iF);fj(iE);iE=h8(iE);var iH=iD-ie,iI=iH>0?1:-1,iA=iE[0]*hF*iI,iC=cG(iH)>180;if(iC^(iI*ie<iA&&iA<iI*iD)){var iB=iE[1]*hF;if(iB>iu){iu=iB}}else{if(iA=(iA+360)%360-180,iC^(iI*ie<iA&&iA<iI*iD)){var iB=-iE[1]*hF;if(iB<iw){iw=iB}}else{if(iJ<iw){iw=iJ}if(iJ>iu){iu=iJ}}}if(iC){if(iD<ie){if(iv(id,iD)>iv(id,d3)){d3=iD}}else{if(iv(iD,d3)>iv(id,d3)){id=iD}}}else{if(d3>=id){if(iD<id){id=iD}if(iD>d3){d3=iD}}else{if(iD>ie){if(iv(id,iD)>iv(id,d3)){d3=iD}}else{if(iv(iD,d3)>iv(id,d3)){id=iD}}}}}else{iq(iD,iJ)}ig=iz,ie=iD}function il(){e.point=ic}function it(){ik[0]=id,ik[1]=d3;e.point=iq;ig=null}function ir(iA,iz){if(ig){var iB=iA-ie;ij+=cG(iB)>180?iB+(iB>0?360:-360):iB}else{im=iA,ip=iz}hl.point(iA,iz);ic(iA,iz)}function ii(){hl.lineStart()}function io(){ir(im,ip);hl.lineEnd();if(cG(ij)>gn){id=-(d3=180)}ik[0]=id,ik[1]=d3;ig=null}function iv(iA,iz){return(iz-=iA)<0?iz+360:iz}function iy(iA,iz){return iA[0]-iz[0]}function ix(iz,iA){return iA[0]<=iA[1]?iA[0]<=iz&&iz<=iA[1]:iz<iA[0]||iA[1]<iz}return function(iE){iu=d3=-(id=iw=Infinity);ih=[];ho.geo.stream(iE,e);var iG=ih.length;if(iG){ih.sort(iy);for(var iD=1,iB=ih[0],iA,iz=[iB];iD<iG;++iD){iA=ih[iD];if(ix(iA[0],iB)||ix(iA[1],iB)){if(iv(iB[0],iA[1])>iv(iB[0],iB[1])){iB[1]=iA[1]}if(iv(iA[0],iB[1])>iv(iB[0],iB[1])){iB[0]=iA[0]}}else{iz.push(iB=iA)}}var iF=-Infinity,iC;for(var iG=iz.length-1,iD=0,iB=iz[iG],iA;iD<=iG;iB=iA,++iD){iA=iz[iD];if((iC=iv(iB[1],iA[0]))>iF){iF=iC,id=iA[0],d3=iB[1]}}}ih=ik=null;return id===Infinity||iw===Infinity?[[NaN,NaN],[NaN,NaN]]:[[id,iw],[d3,iu]]}}();ho.geo.centroid=function(ic){eb=d9=dK=dl=c6=dJ=dk=c4=dI=dj=c3=0;ho.geo.stream(ic,gh);var d3=dI,ie=dj,id=c3,e=d3*d3+ie*ie+id*id;if(e<eD){d3=dJ,ie=dk,id=c4;if(d9<gn){d3=dK,ie=dl,id=c6}e=d3*d3+ie*ie+id*id;if(e<eD){return[NaN,NaN]}}return[Math.atan2(ie,d3)*hF,cf(id/Math.sqrt(e))*hF]};var eb,d9,dK,dl,c6,dJ,dk,c4,dI,dj,c3;var gh={sphere:aG,point:ca,lineStart:fi,lineEnd:aE,polygonStart:function(){gh.lineStart=br},polygonEnd:function(){gh.lineStart=fi}};function ca(d3,e){d3*=I;var ic=Math.cos(e*=I);gt(ic*Math.cos(d3),ic*Math.sin(d3),Math.sin(e))}function gt(e,ic,d3){++eb;dK+=(e-dK)/eb;dl+=(ic-dl)/eb;c6+=(d3-c6)/eb}function fi(){var e,d3,id;gh.point=function(ig,ie){ig*=I;var ih=Math.cos(ie*=I);e=ih*Math.cos(ig);d3=ih*Math.sin(ig);id=Math.sin(ie);gh.point=ic;gt(e,d3,id)};function ic(ii,ih){ii*=I;var ij=Math.cos(ih*=I),ie=ij*Math.cos(ii),il=ij*Math.sin(ii),ik=Math.sin(ih),ig=Math.atan2(Math.sqrt((ig=d3*ik-id*il)*ig+(ig=id*ie-e*ik)*ig+(ig=e*il-d3*ie)*ig),e*ie+d3*il+id*ik);d9+=ig;dJ+=ig*(e+(e=ie));dk+=ig*(d3+(d3=il));c4+=ig*(id+(id=ik));gt(e,d3,id)}}function aE(){gh.point=ca}function br(){var d3,e,ic,id,ig;gh.point=function(ii,ih){d3=ii,e=ih;gh.point=ie;ii*=I;var ij=Math.cos(ih*=I);ic=ij*Math.cos(ii);id=ij*Math.sin(ii);ig=Math.sin(ih);gt(ic,id,ig)};gh.lineEnd=function(){ie(d3,e);gh.lineEnd=aE;gh.point=ca};function ie(im,iv){im*=I;var ik=Math.cos(iv*=I),iq=ik*Math.cos(im),ip=ik*Math.sin(im),io=Math.sin(iv),il=id*io-ig*ip,ij=ig*iq-ic*io,ii=ic*ip-id*iq,ih=Math.sqrt(il*il+ij*ij+ii*ii),iu=ic*iq+id*ip+ig*io,it=ih&&-ac(iu)/ih,ir=Math.atan2(ih,iu);dI+=it*il;dj+=it*ij;c3+=it*ii;d9+=ir;dJ+=ir*(ic+(ic=iq));dk+=ir*(id+(id=ip));c4+=ir*(ig+(ig=io));gt(ic,id,ig)}}function e5(d3,e){function ic(id,ie){return id=d3(id,ie),e(id[0],id[1])}if(d3.invert&&e.invert){ic.invert=function(id,ie){return id=e.invert(id,ie),id&&d3.invert(id[0],id[1])}}return ic}function ag(){return true}function cr(ih,d3,il,ij,id){var ik=[],ie=[];ih.forEach(function(iv){if((iy=iv.length-1)<=0){return}var iy,ix=iv[0],iw=iv[iy];if(eS(ix,iw)){id.lineStart();for(var iu=0;iu<iy;++iu){id.point((ix=iv[iu])[0],ix[1])}id.lineEnd();return}var it=new f(ix,iv,null,true),ir=new f(ix,null,it,false);it.o=ir;ik.push(it);ie.push(ir);it=new f(iw,iv,null,false);ir=new f(iw,null,it,true);it.o=ir;ik.push(it);ie.push(ir)});ie.sort(d3);hK(ik);hK(ie);if(!ik.length){return}for(var ig=0,io=il,ic=ie.length;ig<ic;++ig){ie[ig].e=io=!io}var e=ik[0],ip,im;while(1){var ii=e,iq=true;while(ii.v){if((ii=ii.n)===e){return}}ip=ii.z;id.lineStart();do{ii.v=ii.o.v=true;if(ii.e){if(iq){for(var ig=0,ic=ip.length;ig<ic;++ig){id.point((im=ip[ig])[0],im[1])}}else{ij(ii.x,ii.n.x,1,id)}ii=ii.n}else{if(iq){ip=ii.p.z;for(var ig=ip.length-1;ig>=0;--ig){id.point((im=ip[ig])[0],im[1])}}else{ij(ii.x,ii.p.x,-1,id)}ii=ii.p}ii=ii.o;ip=ii.z;iq=!iq}while(!ii.v);id.lineEnd()}}function hK(ie){if(!(id=ie.length)){return}var id,ic=0,d3=ie[0],e;while(++ic<id){d3.n=e=ie[ic];e.p=d3;d3=e}d3.n=e=ie[0];e.p=d3}function f(d3,ic,e,id){this.x=d3;this.z=ic;this.o=e;this.e=id;this.v=false;this.n=this.p=null}function eh(e,id,d3,ic){return function(iw,ij){var io=id(ij),ii=iw.invert(ic[0],ic[1]);
var iy={point:it,lineStart:iq,lineEnd:ix,polygonStart:function(){iy.point=ig;iy.lineStart=ik;iy.lineEnd=ir;iu=[];ip=[]},polygonEnd:function(){iy.point=it;iy.lineStart=iq;iy.lineEnd=ix;iu=ho.merge(iu);var iz=fL(ii,ip);if(iu.length){if(!ih){ij.polygonStart(),ih=true}cr(iu,dV,iz,d3,ij)}else{if(iz){if(!ih){ij.polygonStart(),ih=true}ij.lineStart();d3(null,null,1,ij);ij.lineEnd()}}if(ih){ij.polygonEnd(),ih=false}iu=ip=null},sphere:function(){ij.polygonStart();ij.lineStart();d3(null,null,1,ij);ij.lineEnd();ij.polygonEnd()}};function it(iB,iA){var iz=iw(iB,iA);if(e(iB=iz[0],iA=iz[1])){ij.point(iB,iA)}}function il(iB,iA){var iz=iw(iB,iA);io.point(iz[0],iz[1])}function iq(){iy.point=il;io.lineStart()}function ix(){iy.point=it;io.lineEnd()}var iu;var iv=P(),ie=id(iv),ih=false,ip,im;function ig(iB,iA){im.push([iB,iA]);var iz=iw(iB,iA);ie.point(iz[0],iz[1])}function ik(){ie.lineStart();im=[]}function ir(){ig(im[0][0],im[0][1]);ie.lineEnd();var iB=ie.clean(),iD=iv.buffer(),iC,iE=iD.length;im.pop();ip.push(im);im=null;if(!iE){return}if(iB&1){iC=iD[0];var iE=iC.length-1,iA=-1,iz;if(iE>0){if(!ih){ij.polygonStart(),ih=true}ij.lineStart();while(++iA<iE){ij.point((iz=iC[iA])[0],iz[1])}ij.lineEnd()}return}if(iE>1&&iB&2){iD.push(iD.pop().concat(iD.shift()))}iu.push(iD.filter(eN))}return iy}}function eN(e){return e.length>1}function P(){var d3=[],e;return{lineStart:function(){d3.push(e=[])},point:function(id,ic){e.push([id,ic])},lineEnd:aG,buffer:function(){var ic=d3;d3=[];e=null;return ic},rejoin:function(){if(d3.length>1){d3.push(d3.pop().concat(d3.shift()))}}}}function dV(d3,e){return((d3=d3.x)[0]<0?d3[1]-ep-gn:ep-d3[1])-((e=e.x)[0]<0?e[1]-ep-gn:ep-e[1])}var k=eh(ag,eE,dc,[-ge,-ge/2]);function eE(ie){var d3=NaN,e=NaN,id=NaN,ic;return{lineStart:function(){ie.lineStart();ic=1},point:function(ih,ig){var ij=ih>0?ge:-ge,ii=cG(ih-d3);if(cG(ii-ge)<gn){ie.point(d3,e=(e+ig)/2>0?ep:-ep);ie.point(id,e);ie.lineEnd();ie.lineStart();ie.point(ij,e);ie.point(ih,e);ic=0}else{if(id!==ij&&ii>=ge){if(cG(d3-id)<gn){d3-=id*gn}if(cG(ih-ij)<gn){ih-=ij*gn}e=u(d3,e,ih,ig);ie.point(id,e);ie.lineEnd();ie.lineStart();ie.point(ij,e);ic=0}}ie.point(d3=ih,e=ig);id=ij},lineEnd:function(){ie.lineEnd();d3=e=NaN},clean:function(){return 2-ic}}}function u(ig,ie,id,ic){var d3,e,ih=Math.sin(ig-id);return cG(ih)>gn?Math.atan((Math.sin(ie)*(e=Math.cos(ic))*Math.sin(id)-Math.sin(ic)*(d3=Math.cos(ie))*Math.sin(ig))/(d3*e*ih)):(ie+ic)/2}function dc(ig,ie,id,ic){var e;if(ig==null){e=id*ep;ic.point(-ge,e);ic.point(0,e);ic.point(ge,e);ic.point(ge,0);ic.point(ge,-e);ic.point(0,-e);ic.point(-ge,-e);ic.point(-ge,0);ic.point(-ge,e)}else{if(cG(ig[0]-ie[0])>gn){var d3=ig[0]<ie[0]?ge:-ge;e=id*d3/2;ic.point(-d3,e);ic.point(0,e);ic.point(d3,e)}else{ic.point(ie[0],ie[1])}}}function fL(iw,ir){var iE=iw[0],iF=iw[1],e=[Math.sin(iE),-Math.cos(iE),0],iq=0,iC=0;fO.reset();for(var iB=0,it=ir.length;iB<it;++iB){var ij=ir[iB],iv=ij.length;if(!iv){continue}var ig=ij[0],ic=ig[0],iD=ig[1]/2+ge/4,ii=Math.sin(iD),d3=Math.cos(iD),iA=1;while(true){if(iA===iv){iA=0}iw=ij[iA];var iu=iw[0],ip=iw[1]/2+ge/4,id=Math.sin(ip),iz=Math.cos(ip),iy=iu-ic,ik=iy>=0?1:-1,im=ik*iy,ie=im>ge,ix=ii*id;fO.add(Math.atan2(ix*ik*Math.sin(im),d3*iz+ix*Math.cos(im)));iq+=ie?iy+ik*f7:iy;if(ie^ic>=iE^iu>=iE){var il=cY(au(ig),au(iw));fj(il);var io=cY(e,il);fj(io);var ih=(ie^iy>=0?-1:1)*cf(io[2]);if(iF>ih||iF===ih&&(il[0]||il[1])){iC+=ie^iy>=0?1:-1}}if(!iA++){break}ic=iu,ii=id,d3=iz,ig=iw}}return(iq<-gn||iq<gn&&fO<-gn)^iC&1}function aK(ie){var ig=Math.cos(ie),id=ig>0,ih=cG(ig)>gn,ii=b5(ie,6*I);return eh(ic,ij,ii,id?[0,-ie]:[-ge,ie-ge]);function ic(il,ik){return Math.cos(il)*Math.cos(ik)>ig}function ij(iq){var ip,io,ik,im,il;return{lineStart:function(){im=ik=false;il=1},point:function(it,ir){var ix=[it,ir],iw,iu=ic(it,ir),iy=id?iu?0:e(it,ir):iu?e(it+(it<0?ge:-ge),ir):0;if(!ip&&(im=ik=iu)){iq.lineStart()}if(iu!==ik){iw=d3(ip,ix);if(eS(ip,iw)||eS(ix,iw)){ix[0]+=gn;ix[1]+=gn;iu=ic(ix[0],ix[1])}}if(iu!==ik){il=0;if(iu){iq.lineStart();iw=d3(ix,ip);iq.point(iw[0],iw[1])}else{iw=d3(ip,ix);iq.point(iw[0],iw[1]);iq.lineEnd()}ip=iw}else{if(ih&&ip&&id^iu){var iv;if(!(iy&io)&&(iv=d3(ix,ip,true))){il=0;if(id){iq.lineStart();iq.point(iv[0][0],iv[0][1]);iq.point(iv[1][0],iv[1][1]);iq.lineEnd()}else{iq.point(iv[1][0],iv[1][1]);iq.lineEnd();iq.lineStart();iq.point(iv[0][0],iv[0][1])}}}}if(iu&&(!ip||!eS(ip,ix))){iq.point(ix[0],ix[1])}ip=ix,ik=iu,io=iy},lineEnd:function(){if(ik){iq.lineEnd()}ip=null},clean:function(){return il|(im&&ik)<<1}}}function d3(iN,iM,ip){var im=au(iN),ik=au(iM);var iv=[1,0,0],ir=cY(im,ik),iy=ax(ir,ir),iL=ir[0],iE=iy-iL*iL;if(!iE){return !ip&&iN}var iH=ig*iy/iE,iG=-ig*iL/iE,iO=cY(iv,ir),iF=gf(iv,iH),iD=gf(ir,iG);cB(iF,iD);var iA=iO,iz=ax(iF,iA),iq=ax(iA,iA),ix=iz*iz-iq*(ax(iF,iF)-1);if(ix<0){return}var iB=Math.sqrt(ix),iC=gf(iA,(-iz-iB)/iq);cB(iC,iF);iC=h8(iC);if(!ip){return iC}var io=iN[0],il=iM[0],iJ=iN[1],iI=iM[1],iu;if(il<io){iu=io,io=il,il=iu}var it=il-io,iP=cG(it-ge)<gn,iK=iP||it<gn;if(!iP&&iI<iJ){iu=iJ,iJ=iI,iI=iu}if(iK?iP?iJ+iI>0^iC[1]<(cG(iC[0]-io)<gn?iJ:iI):iJ<=iC[1]&&iC[1]<=iI:it>ge^(io<=iC[0]&&iC[0]<=il)){var iw=gf(iA,(-iz+iB)/iq);
cB(iw,iF);return[iC,h8(iw)]}}function e(il,ik){var io=id?ie:ge-ie,im=0;if(il<-io){im|=1}else{if(il>io){im|=2}}if(ik<-io){im|=4}else{if(ik>io){im|=8}}return im}}function aj(d3,id,e,ic){return function(ir){var im=ir.a,il=ir.b,ig=im.x,iq=im.y,ik=il.x,ij=il.y,ii=0,ih=1,ip=ik-ig,io=ij-iq,ie;ie=d3-ig;if(!ip&&ie>0){return}ie/=ip;if(ip<0){if(ie<ii){return}if(ie<ih){ih=ie}}else{if(ip>0){if(ie>ih){return}if(ie>ii){ii=ie}}}ie=e-ig;if(!ip&&ie<0){return}ie/=ip;if(ip<0){if(ie>ih){return}if(ie>ii){ii=ie}}else{if(ip>0){if(ie<ii){return}if(ie<ih){ih=ie}}}ie=id-iq;if(!io&&ie>0){return}ie/=io;if(io<0){if(ie<ii){return}if(ie<ih){ih=ie}}else{if(io>0){if(ie>ih){return}if(ie>ii){ii=ie}}}ie=ic-iq;if(!io&&ie<0){return}ie/=io;if(io<0){if(ie>ih){return}if(ie>ii){ii=ie}}else{if(io>0){if(ie<ii){return}if(ie<ih){ih=ie}}}if(ii>0){ir.a={x:ig+ii*ip,y:iq+ii*io}}if(ih<1){ir.b={x:ig+ih*ip,y:iq+ih*io}}return ir}}var cJ=1000000000;ho.geo.clipExtent=function(){var ic,ig,d3,id,ih,ie,e={stream:function(ii){if(ih){ih.valid=false}ih=ie(ii);ih.valid=true;return ih},extent:function(ii){if(!arguments.length){return[[ic,ig],[d3,id]]}ie=ee(ic=+ii[0][0],ig=+ii[0][1],d3=+ii[1][0],id=+ii[1][1]);if(ih){ih.valid=false,ih=null}return e}};return e.extent([[0,0],[960,500]])};function ee(d3,ie,e,ic){return function(io){var ij=io,iu=P(),ik=aj(d3,ie,e,ic),iC,iv,ir;var iG={point:iB,lineStart:iy,lineEnd:iE,polygonStart:function(){io=iu;iC=[];iv=[];iD=true},polygonEnd:function(){io=ij;iC=ho.merge(iC);var iI=ix([d3,ic]),iH=iD&&iI,iJ=iC.length;if(iH||iJ){io.polygonStart();if(iH){io.lineStart();it(null,null,1,io);io.lineEnd()}if(iJ){cr(iC,ig,iI,it,io)}io.polygonEnd()}iC=iv=ir=null}};function ix(iH){var iP=0,iI=iv.length,iN=iH[1];for(var iL=0;iL<iI;++iL){for(var iK=1,iQ=iv[iL],iJ=iQ.length,iO=iQ[0],iM;iK<iJ;++iK){iM=iQ[iK];if(iO[1]<=iN){if(iM[1]>iN&&eZ(iO,iM,iH)>0){++iP}}else{if(iM[1]<=iN&&eZ(iO,iM,iH)<0){--iP}}iO=iM}}return iP!==0}function it(iM,iL,iK,iJ){var iI=0,iH=0;if(iM==null||(iI=id(iM,iK))!==(iH=id(iL,iK))||ih(iM,iL)<0^iK>0){do{iJ.point(iI===0||iI===3?d3:e,iI>1?ic:ie)}while((iI=(iI+iK+4)%4)!==iH)}else{iJ.point(iL[0],iL[1])}}function iw(iH,iI){return d3<=iH&&iH<=e&&ie<=iI&&iI<=ic}function iB(iH,iI){if(iw(iH,iI)){io.point(iH,iI)}}var iA,ip,iz,iF,im,il,iq,iD;function iy(){iG.point=ii;if(iv){iv.push(ir=[])}iq=true;il=false;iF=im=NaN}function iE(){if(iC){ii(iA,ip);if(iz&&il){iu.rejoin()}iC.push(iu.buffer())}iG.point=iB;if(il){io.lineEnd()}}function ii(iH,iK){iH=Math.max(-cJ,Math.min(cJ,iH));iK=Math.max(-cJ,Math.min(cJ,iK));var iJ=iw(iH,iK);if(iv){ir.push([iH,iK])}if(iq){iA=iH,ip=iK,iz=iJ;iq=false;if(iJ){io.lineStart();io.point(iH,iK)}}else{if(iJ&&il){io.point(iH,iK)}else{var iI={a:{x:iF,y:im},b:{x:iH,y:iK}};if(ik(iI)){if(!il){io.lineStart();io.point(iI.a.x,iI.a.y)}io.point(iI.b.x,iI.b.y);if(!iJ){io.lineEnd()}iD=false}else{if(iJ){io.lineStart();io.point(iH,iK);iD=false}}}}iF=iH,im=iK,il=iJ}return iG};function id(ij,ii){return cG(ij[0]-d3)<gn?ii>0?0:3:cG(ij[0]-e)<gn?ii>0?2:1:cG(ij[1]-ie)<gn?ii>0?1:0:ii>0?3:2}function ig(ij,ii){return ih(ij.x,ii.x)}function ih(il,ij){var ik=id(il,1),ii=id(ij,1);return ik!==ii?ik-ii:ik===0?ij[1]-il[1]:ik===1?il[0]-ij[0]:ik===2?il[1]-ij[1]:ij[0]-il[0]}}function b7(id){var ic=0,d3=ge/3,e=fg(id),ie=e(ic,d3);ie.parallels=function(ig){if(!arguments.length){return[ic/ge*180,d3/ge*180]}return e(ic=ig[0]*ge/180,d3=ig[1]*ge/180)};return ie}function M(d3,e){var ie=Math.sin(d3),ih=(ie+Math.sin(e))/2,ig=1+ie*(2*ih-ie),id=Math.sqrt(ig)/ih;function ic(ij,ii){var ik=Math.sqrt(ig-2*ih*Math.sin(ii))/ih;return[ik*Math.sin(ij*=ih),id-ik*Math.cos(ij)]}ic.invert=function(ii,ik){var ij=id-ik;return[Math.atan2(ii,ij)/ih,cf((ig-(ii*ii+ij*ij)*ih*ih)/(2*ih))]};return ic}(ho.geo.conicEqualArea=function(){return b7(M)}).raw=M;ho.geo.albers=function(){return ho.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};ho.geo.albersUsa=function(){var d3=ho.geo.albers();var ig=ho.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var ic=ho.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var ii,e={point:function(ik,il){ii=[ik,il]}},ie,ih,id;function ij(il){var ik=il[0],im=il[1];ii=null;(ie(ik,im),ii)||(ih(ik,im),ii)||id(ik,im);return ii}ij.invert=function(io){var il=d3.scale(),im=d3.translate(),ik=(io[0]-im[0])/il,ip=(io[1]-im[1])/il;return(ip>=0.12&&ip<0.234&&ik>=-0.425&&ik<-0.214?ig:ip>=0.166&&ip<0.234&&ik>=-0.214&&ik<-0.115?ic:d3).invert(io)};ij.stream=function(im){var il=d3.stream(im),io=ig.stream(im),ik=ic.stream(im);return{point:function(ip,iq){il.point(ip,iq);io.point(ip,iq);ik.point(ip,iq)},sphere:function(){il.sphere();io.sphere();ik.sphere()},lineStart:function(){il.lineStart();io.lineStart();ik.lineStart()},lineEnd:function(){il.lineEnd();io.lineEnd();ik.lineEnd()},polygonStart:function(){il.polygonStart();io.polygonStart();ik.polygonStart()},polygonEnd:function(){il.polygonEnd();io.polygonEnd();ik.polygonEnd()}}};ij.precision=function(ik){if(!arguments.length){return d3.precision()
}d3.precision(ik);ig.precision(ik);ic.precision(ik);return ij};ij.scale=function(ik){if(!arguments.length){return d3.scale()}d3.scale(ik);ig.scale(ik*0.35);ic.scale(ik);return ij.translate(d3.translate())};ij.translate=function(im){if(!arguments.length){return d3.translate()}var il=d3.scale(),ik=+im[0],io=+im[1];ie=d3.translate(im).clipExtent([[ik-0.455*il,io-0.238*il],[ik+0.455*il,io+0.238*il]]).stream(e).point;ih=ig.translate([ik-0.307*il,io+0.201*il]).clipExtent([[ik-0.425*il+gn,io+0.12*il+gn],[ik-0.214*il-gn,io+0.234*il-gn]]).stream(e).point;id=ic.translate([ik-0.205*il,io+0.212*il]).clipExtent([[ik-0.214*il+gn,io+0.166*il+gn],[ik-0.115*il-gn,io+0.234*il-gn]]).stream(e).point;return ij};return ij.scale(1070)};var fM,A,dB={point:aG,lineStart:aG,lineEnd:aG,polygonStart:function(){A=0;dB.lineStart=cL},polygonEnd:function(){dB.lineStart=dB.lineEnd=dB.point=aG;fM+=cG(A/2)}};function cL(){var id,e,d3,ic;dB.point=function(ig,ih){dB.point=ie;id=d3=ig,e=ic=ih};function ie(ig,ih){A+=ic*ig-d3*ih;d3=ig,ic=ih}dB.lineEnd=function(){ie(id,e)}}var eL,eo,eJ,en;var aw={point:cT,lineStart:aG,lineEnd:aG,polygonStart:aG,polygonEnd:aG};function cT(e,d3){if(e<eL){eL=e}if(e>eJ){eJ=e}if(d3<eo){eo=d3}if(d3>en){en=d3}}function cj(){var ic=g8(4.5),d3=[];var ii={point:e,lineStart:function(){ii.point=ih},lineEnd:ig,polygonStart:function(){ii.lineEnd=id},polygonEnd:function(){ii.lineEnd=ig;ii.point=e},pointRadius:function(ij){ic=g8(ij);return ii},result:function(){if(d3.length){var ij=d3.join("");d3=[];return ij}}};function e(ij,ik){d3.push("M",ij,",",ik,ic)}function ih(ij,ik){d3.push("M",ij,",",ik);ii.point=ie}function ie(ij,ik){d3.push("L",ij,",",ik)}function ig(){ii.point=e}function id(){d3.push("Z")}return ii}function g8(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var g7={point:cP,lineStart:fR,lineEnd:cO,polygonStart:function(){g7.lineStart=b0},polygonEnd:function(){g7.point=cP;g7.lineStart=fR;g7.lineEnd=cO}};function cP(e,d3){dK+=e;dl+=d3;++c6}function fR(){var e,d3;g7.point=function(id,ie){g7.point=ic;cP(e=id,d3=ie)};function ic(id,ii){var ig=id-e,ie=ii-d3,ih=Math.sqrt(ig*ig+ie*ie);dJ+=ih*(e+id)/2;dk+=ih*(d3+ii)/2;c4+=ih;cP(e=id,d3=ii)}}function cO(){g7.point=cP}function b0(){var id,e,d3,ic;g7.point=function(ig,ih){g7.point=ie;cP(id=d3=ig,e=ic=ih)};function ie(ig,ik){var ii=ig-d3,ih=ik-ic,ij=Math.sqrt(ii*ii+ih*ih);dJ+=ij*(d3+ig)/2;dk+=ij*(ic+ik)/2;c4+=ij;ij=ic*ig-d3*ik;dI+=ij*(d3+ig);dj+=ij*(ic+ik);c3+=ij*3;cP(d3=ig,ic=ik)}g7.lineEnd=function(){ie(id,e)}}function cE(d3){var ie=4.5;var ii={point:e,lineStart:function(){ii.point=ih},lineEnd:ig,polygonStart:function(){ii.lineEnd=ic},polygonEnd:function(){ii.lineEnd=ig;ii.point=e},pointRadius:function(ij){ie=ij;return ii},result:aG};function e(ij,ik){d3.moveTo(ij+ie,ik);d3.arc(ij,ik,ie,0,f7)}function ih(ij,ik){d3.moveTo(ij,ik);ii.point=id}function id(ij,ik){d3.lineTo(ij,ik)}function ig(){ii.point=e}function ic(){d3.closePath()}return ii}function fN(ih){var ie=0.5,ig=Math.cos(30*I),ii=16;function ic(ij){return(ii?id:e)(ij)}function e(ij){return eG(ij,function(ik,il){ik=ih(ik,il);ij.point(ik[0],ik[1])})}function id(iq){var iw,iC,iB,ir,iF,iu,ik,il,iE,im,iG,it,ix;var io={point:iA,lineStart:iv,lineEnd:iD,polygonStart:function(){iq.polygonStart();io.lineStart=ip},polygonEnd:function(){iq.polygonEnd();io.lineStart=iv}};function iA(iH,iI){iH=ih(iH,iI);iq.point(iH[0],iH[1])}function iv(){iE=NaN;io.point=ij;iq.lineStart()}function ij(iI,iH){var iK=au([iI,iH]),iJ=ih(iI,iH);d3(iE,im,il,iG,it,ix,iE=iJ[0],im=iJ[1],il=iI,iG=iK[0],it=iK[1],ix=iK[2],ii,iq);iq.point(iE,im)}function iD(){io.point=iA;iq.lineEnd()}function ip(){iv();io.point=iz;io.lineEnd=iy}function iz(iI,iH){ij(iw=iI,iC=iH),iB=iE,ir=im,iF=iG,iu=it,ik=ix;io.point=ij}function iy(){d3(iE,im,il,iG,it,ix,iB,ir,iw,iF,iu,ik,ii,iq);io.lineEnd=iD;iD()}return io}function d3(iG,iq,il,iN,iu,iC,iF,ip,ik,iL,it,iA,iK,ir){var iy=iF-iG,ix=ip-iq,iM=iy*iy+ix*ix;if(iM>4*ie&&iK--){var iJ=iN+iL,iI=iu+it,iH=iC+iA,iB=Math.sqrt(iJ*iJ+iI*iI+iH*iH),iE=Math.asin(iH/=iB),ij=cG(cG(iH)-1)<gn||cG(il-ik)<gn?(il+ik)/2:Math.atan2(iI,iJ),iz=ih(ij,iE),iD=iz[0],io=iz[1],im=iD-iG,iw=io-iq,iv=ix*im-iy*iw;if(iv*iv/iM>ie||cG((iy*im+ix*iw)/iM-0.5)>0.3||iN*iL+iu*it+iC*iA<ig){d3(iG,iq,il,iN,iu,iC,iD,io,ij,iJ/=iB,iI/=iB,iH,iK,ir);ir.point(iD,io);d3(iD,io,ij,iJ,iI,iH,iF,ip,ik,iL,it,iA,iK,ir)}}}ic.precision=function(ij){if(!arguments.length){return Math.sqrt(ie)}ii=(ie=ij*ij)>0&&16;return ic};return ic}ho.geo.path=function(){var ih=4.5,d3,id,ie,e,ic;function ii(ij){if(ij){if(typeof ih==="function"){e.pointRadius(+ih.apply(this,arguments))}if(!ic||!ic.valid){ic=ie(e)}ho.geo.stream(ij,ic)}return e.result()}ii.area=function(ij){fM=0;ho.geo.stream(ij,ie(dB));return fM};ii.centroid=function(ij){dK=dl=c6=dJ=dk=c4=dI=dj=c3=0;ho.geo.stream(ij,ie(g7));return c3?[dI/c3,dj/c3]:c4?[dJ/c4,dk/c4]:c6?[dK/c6,dl/c6]:[NaN,NaN]};ii.bounds=function(ij){eJ=en=-(eL=eo=Infinity);ho.geo.stream(ij,ie(aw));return[[eL,eo],[eJ,en]]};ii.projection=function(ij){if(!arguments.length){return d3
}ie=(d3=ij)?ij.stream||hh(ij):gl;return ig()};ii.context=function(ij){if(!arguments.length){return id}e=(id=ij)==null?new cj():new cE(ij);if(typeof ih!=="function"){e.pointRadius(ih)}return ig()};ii.pointRadius=function(ij){if(!arguments.length){return ih}ih=typeof ij==="function"?ij:(e.pointRadius(+ij),+ij);return ii};function ig(){ic=null;return ii}return ii.projection(ho.geo.albersUsa()).context(null)};function hh(d3){var e=fN(function(ic,id){return d3([ic*hF,id*hF])});return function(ic){return ch(e(ic))}}ho.geo.transform=function(e){return{stream:function(id){var ic=new ea(id);for(var d3 in e){ic[d3]=e[d3]}return ic}}};function ea(e){this.stream=e}ea.prototype={point:function(e,d3){this.stream.point(e,d3)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function eG(d3,e){return{point:e,sphere:function(){d3.sphere()},lineStart:function(){d3.lineStart()},lineEnd:function(){d3.lineEnd()},polygonStart:function(){d3.polygonStart()},polygonEnd:function(){d3.polygonEnd()}}}ho.geo.projection=fz;ho.geo.projectionMutator=fg;function fz(e){return fg(function(){return e})()}function fg(iq){var id,iw,ii,it=fN(function(iB,iC){iB=id(iB,iC);return[iB[0]*iv+ig,ic-iB[1]*iv]}),iv=150,io=480,il=250,iu=0,im=0,ij=0,ie=0,ir=0,ig,ic,iA=k,ix=gl,e=null,d3=null,ih;function iz(iB){iB=ii(iB[0]*I,iB[1]*I);return[iB[0]*iv+ig,ic-iB[1]*iv]}function ip(iB){iB=ii.invert((iB[0]-ig)/iv,(ic-iB[1])/iv);return iB&&[iB[0]*hF,iB[1]*hF]}iz.stream=function(iB){if(ih){ih.valid=false}ih=ch(iA(iw,it(ix(iB))));ih.valid=true;return ih};iz.clipAngle=function(iB){if(!arguments.length){return e}iA=iB==null?(e=iB,k):aK((e=+iB)*I);return ik()};iz.clipExtent=function(iB){if(!arguments.length){return d3}d3=iB;ix=iB?ee(iB[0][0],iB[0][1],iB[1][0],iB[1][1]):gl;return ik()};iz.scale=function(iB){if(!arguments.length){return iv}iv=+iB;return iy()};iz.translate=function(iB){if(!arguments.length){return[io,il]}io=+iB[0];il=+iB[1];return iy()};iz.center=function(iB){if(!arguments.length){return[iu*hF,im*hF]}iu=iB[0]%360*I;im=iB[1]%360*I;return iy()};iz.rotate=function(iB){if(!arguments.length){return[ij*hF,ie*hF,ir*hF]}ij=iB[0]%360*I;ie=iB[1]%360*I;ir=iB.length>2?iB[2]%360*I:0;return iy()};ho.rebind(iz,it,"precision");function iy(){ii=e5(iw=dG(ij,ie,ir),id);var iB=id(iu,im);ig=io-iB[0]*iv;ic=il+iB[1]*iv;return ik()}function ik(){if(ih){ih.valid=false,ih=null}return iz}return function(){id=iq.apply(this,arguments);iz.invert=id.invert&&ip;return iy()}}function ch(e){return eG(e,function(d3,ic){e.point(d3*I,ic*I)})}function bz(d3,e){return[d3,e]}(ho.geo.equirectangular=function(){return fz(bz)}).raw=bz.invert=bz;ho.geo.rotation=function(d3){d3=dG(d3[0]%360*I,d3[1]*I,d3.length>2?d3[2]*I:0);function e(ic){ic=d3(ic[0]*I,ic[1]*I);return ic[0]*=hF,ic[1]*=hF,ic}e.invert=function(ic){ic=d3.invert(ic[0]*I,ic[1]*I);return ic[0]*=hF,ic[1]*=hF,ic};return e};function bI(d3,e){return[d3>ge?d3-f7:d3<-ge?d3+f7:d3,e]}bI.invert=bz;function dG(ic,d3,e){return ic?d3||e?e5(e0(ic),bU(d3,e)):e0(ic):d3||e?bU(d3,e):bI}function gZ(e){return function(ic,d3){return ic+=e,[ic>ge?ic-f7:ic<-ge?ic+f7:ic,d3]}}function e0(d3){var e=gZ(d3);e.invert=gZ(-d3);return e}function bU(ig,d3){var ie=Math.cos(ig),ih=Math.sin(ig),e=Math.cos(d3),ic=Math.sin(d3);function id(ik,ij){var im=Math.cos(ij),ii=Math.cos(ik)*im,ip=Math.sin(ik)*im,io=Math.sin(ij),il=io*ie+ii*ih;return[Math.atan2(ip*e-il*ic,ii*ie-io*ih),cf(il*e+ip*ic)]}id.invert=function(ik,ij){var im=Math.cos(ij),ii=Math.cos(ik)*im,ip=Math.sin(ik)*im,io=Math.sin(ij),il=io*e-ip*ic;return[Math.atan2(ip*e+io*ic,ii*ie+il*ih),cf(il*ie-ii*ih)]};return id}ho.geo.circle=function(){var d3=[0,0],ie,e=6,ic;function id(){var ig=typeof d3==="function"?d3.apply(this,arguments):d3,ii=dG(-ig[0]*I,-ig[1]*I,0).invert,ih=[];ic(null,null,1,{point:function(ij,ik){ih.push(ij=ii(ij,ik));ij[0]*=hF,ij[1]*=hF}});return{type:"Polygon",coordinates:[ih]}}id.origin=function(ig){if(!arguments.length){return d3}d3=ig;return id};id.angle=function(ig){if(!arguments.length){return ie}ic=b5((ie=+ig)*I,e*I);return id};id.precision=function(ig){if(!arguments.length){return e}ic=b5(ie*I,(e=+ig)*I);return id};return id.angle(90)};function b5(e,d3){var id=Math.cos(e),ic=Math.sin(e);return function(il,ik,ij,ii){var ih=ij*d3;if(il!=null){il=hS(id,il);ik=hS(id,ik);if(ij>0?il<ik:il>ik){il+=ij*f7}}else{il=e+ij*f7;ik=e-0.5*ih}for(var ie,ig=il;ij>0?ig>ik:ig<ik;ig-=ih){ii.point((ie=h8([id,-ic*Math.cos(ig),-ic*Math.sin(ig)]))[0],ie[1])}}}function hS(ic,e){var d3=au(e);d3[0]-=ic;fj(d3);var id=ac(-d3[1]);return((-d3[2]<0?-id:id)+2*Math.PI-gn)%(2*Math.PI)}ho.geo.distance=function(ii,ih){var ij=(ih[0]-ii[0])*I,il=ii[1]*I,ik=ih[1]*I,ie=Math.sin(ij),d3=Math.cos(ij),ig=Math.sin(il),ic=Math.cos(il),id=Math.sin(ik),e=Math.cos(ik),im;return Math.atan2(Math.sqrt((im=e*ie)*im+(im=ic*id-ig*e*d3)*im),ig*id+ic*e*d3)};ho.geo.graticule=function(){var iq,it,iu,iv,id,ie,ig,ii,io=10,im=io,ij=90,ih=360,il,ik,ic,d3,ip=2.5;
function ir(){return{type:"MultiLineString",coordinates:e()}}function e(){return ho.range(Math.ceil(iv/ij)*ij,iu,ij).map(ic).concat(ho.range(Math.ceil(ii/ih)*ih,ig,ih).map(d3)).concat(ho.range(Math.ceil(it/io)*io,iq,io).filter(function(iw){return cG(iw%ij)>gn}).map(il)).concat(ho.range(Math.ceil(ie/im)*im,id,im).filter(function(iw){return cG(iw%ih)>gn}).map(ik))}ir.lines=function(){return e().map(function(iw){return{type:"LineString",coordinates:iw}})};ir.outline=function(){return{type:"Polygon",coordinates:[ic(iv).concat(d3(ig).slice(1),ic(iu).reverse().slice(1),d3(ii).reverse().slice(1))]}};ir.extent=function(iw){if(!arguments.length){return ir.minorExtent()}return ir.majorExtent(iw).minorExtent(iw)};ir.majorExtent=function(iw){if(!arguments.length){return[[iv,ii],[iu,ig]]}iv=+iw[0][0],iu=+iw[1][0];ii=+iw[0][1],ig=+iw[1][1];if(iv>iu){iw=iv,iv=iu,iu=iw}if(ii>ig){iw=ii,ii=ig,ig=iw}return ir.precision(ip)};ir.minorExtent=function(iw){if(!arguments.length){return[[it,ie],[iq,id]]}it=+iw[0][0],iq=+iw[1][0];ie=+iw[0][1],id=+iw[1][1];if(it>iq){iw=it,it=iq,iq=iw}if(ie>id){iw=ie,ie=id,id=iw}return ir.precision(ip)};ir.step=function(iw){if(!arguments.length){return ir.minorStep()}return ir.majorStep(iw).minorStep(iw)};ir.majorStep=function(iw){if(!arguments.length){return[ij,ih]}ij=+iw[0],ih=+iw[1];return ir};ir.minorStep=function(iw){if(!arguments.length){return[io,im]}io=+iw[0],im=+iw[1];return ir};ir.precision=function(iw){if(!arguments.length){return ip}ip=+iw;il=aJ(ie,id,90);ik=aI(it,iq,ip);ic=aJ(ii,ig,90);d3=aI(iv,iu,ip);return ir};return ir.majorExtent([[-180,-90+gn],[180,90-gn]]).minorExtent([[-180,-80-gn],[180,80+gn]])};function aJ(ic,d3,e){var id=ho.range(ic,d3-gn,e).concat(d3);return function(ie){return id.map(function(ig){return[ie,ig]})}}function aI(id,ic,d3){var e=ho.range(id,ic-gn,d3).concat(ic);return function(ie){return e.map(function(ig){return[ig,ie]})}}function hJ(e){return e.source}function hQ(e){return e.target}ho.geo.greatArc=function(){var ic=hJ,d3,id=hQ,ie;function e(){return{type:"LineString",coordinates:[d3||ic.apply(this,arguments),ie||id.apply(this,arguments)]}}e.distance=function(){return ho.geo.distance(d3||ic.apply(this,arguments),ie||id.apply(this,arguments))};e.source=function(ig){if(!arguments.length){return ic}ic=ig,d3=typeof ig==="function"?null:ig;return e};e.target=function(ig){if(!arguments.length){return id}id=ig,ie=typeof ig==="function"?null:ig;return e};e.precision=function(){return arguments.length?e:0};return e};ho.geo.interpolate=function(e,d3){return h(e[0]*I,e[1]*I,d3[0]*I,d3[1]*I)};function h(id,iq,ic,io){var ih=Math.cos(iq),ip=Math.sin(iq),ie=Math.cos(io),im=Math.sin(io),ij=ih*Math.cos(id),d3=ih*Math.sin(id),ii=ie*Math.cos(ic),e=ie*Math.sin(ic),il=2*Math.asin(Math.sqrt(aD(io-iq)+ih*ie*aD(ic-id))),ig=1/Math.sin(il);var ik=il?function(iu){var ix=Math.sin(iu*=il)*ig,it=Math.sin(il-iu)*ig,ir=it*ij+ix*ii,iw=it*d3+ix*e,iv=it*ip+ix*im;return[Math.atan2(iw,ir)*hF,Math.atan2(iv,Math.sqrt(ir*ir+iw*iw))*hF]}:function(){return[id*hF,iq*hF]};ik.distance=il;return ik}ho.geo.length=function(e){dT=0;ho.geo.stream(e,fW);return dT};var dT;var fW={sphere:aG,point:aG,lineStart:hM,lineEnd:aG,polygonStart:aG,polygonEnd:aG};function hM(){var d3,ic,e;fW.point=function(ig,ie){d3=ig*I,ic=Math.sin(ie*=I),e=Math.cos(ie);fW.point=id};fW.lineEnd=function(){fW.point=fW.lineEnd=aG};function id(ig,ie){var ij=Math.sin(ie*=I),ik=Math.cos(ie),ih=cG((ig*=I)-d3),ii=Math.cos(ih);dT+=Math.atan2(Math.sqrt((ih=ik*Math.sin(ih))*ih+(ih=e*ij-ic*ik*ii)*ih),ic*ij+e*ik*ii);d3=ig,ic=ij,e=ik}}function ey(ic,d3){function e(ie,id){var ii=Math.cos(ie),ih=Math.cos(id),ig=ic(ii*ih);return[ig*ih*Math.sin(ie),ig*Math.sin(id)]}e.invert=function(id,ij){var ih=Math.sqrt(id*id+ij*ij),ii=d3(ih),ie=Math.sin(ii),ig=Math.cos(ii);return[Math.atan2(id*ie,ih*ig),Math.asin(ih&&ij*ie/ih)]};return e}var bv=ey(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(ho.geo.azimuthalEqualArea=function(){return fz(bv)}).raw=bv;var bH=ey(function(e){var d3=Math.acos(e);return d3&&d3/Math.sin(d3)},gl);(ho.geo.azimuthalEquidistant=function(){return fz(bH)}).raw=bH;function fI(ic,d3){var e=Math.cos(ic),ie=function(ii){return Math.tan(ge/4+ii/2)},ih=ic===d3?Math.sin(ic):Math.log(e/Math.cos(d3))/Math.log(ie(d3)/ie(ic)),ig=e*Math.pow(ie(ic),ih)/ih;if(!ih){return aS}function id(ij,ii){if(ig>0){if(ii<-ep+gn){ii=-ep+gn}}else{if(ii>ep-gn){ii=ep-gn}}var ik=ig/Math.pow(ie(ii),ih);return[ik*Math.sin(ih*ij),ig-ik*Math.cos(ih*ij)]}id.invert=function(ii,il){var ik=ig-il,ij=b9(ih)*Math.sqrt(ii*ii+ik*ik);return[Math.atan2(ii,ik)/ih,2*Math.atan(Math.pow(ig/ij,1/ih))-ep]};return id}(ho.geo.conicConformal=function(){return b7(fI)}).raw=fI;function hB(ic,d3){var e=Math.cos(ic),ig=ic===d3?Math.sin(ic):(e-Math.cos(d3))/(d3-ic),ie=e/ig+ic;if(cG(ig)<gn){return bz}function id(ii,ih){var ij=ie-ih;return[ij*Math.sin(ig*ii),ie-ij*Math.cos(ig*ii)]}id.invert=function(ih,ij){var ii=ie-ij;return[Math.atan2(ih,ii)/ig,ie-b9(ig)*Math.sqrt(ih*ih+ii*ii)]};return id
}(ho.geo.conicEquidistant=function(){return b7(hB)}).raw=hB;var eF=ey(function(e){return 1/e},Math.atan);(ho.geo.gnomonic=function(){return fz(eF)}).raw=eF;function aS(d3,e){return[d3,Math.log(Math.tan(ge/4+e/2))]}aS.invert=function(e,d3){return[e,2*Math.atan(Math.exp(d3))-ep]};function c5(ig){var e=fz(ig),ie=e.scale,id=e.translate,d3=e.clipExtent,ic;e.scale=function(){var ih=ie.apply(e,arguments);return ih===e?ic?e.clipExtent(null):e:ih};e.translate=function(){var ih=id.apply(e,arguments);return ih===e?ic?e.clipExtent(null):e:ih};e.clipExtent=function(ij){var ii=d3.apply(e,arguments);if(ii===e){if(ic=ij==null){var ih=ge*ie(),ik=id();d3([[ik[0]-ih,ik[1]-ih],[ik[0]+ih,ik[1]+ih]])}}else{if(ic){ii=null}}return ii};return e.clipExtent(null)}(ho.geo.mercator=function(){return c5(aS)}).raw=aS;var fY=ey(function(){return 1},Math.asin);(ho.geo.orthographic=function(){return fz(fY)}).raw=fY;var cd=ey(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(ho.geo.stereographic=function(){return fz(cd)}).raw=cd;function ai(d3,e){return[Math.log(Math.tan(ge/4+e/2)),-d3]}ai.invert=function(e,d3){return[-d3,2*Math.atan(Math.exp(e))-ep]};(ho.geo.transverseMercator=function(){var d3=c5(ai),e=d3.center,ic=d3.rotate;d3.center=function(id){return id?e([-id[1],id[0]]):(id=e(),[id[1],-id[0]])};d3.rotate=function(id){return id?ic([id[0],id[1],id.length>2?id[2]+90:90]):(id=ic(),[id[0],id[1],id[2]-90])};return ic([0,0,90])}).raw=ai;ho.geom={};function hV(e){return e[0]}function hU(e){return e[1]}ho.geom.hull=function(d3){var e=hV,id=hU;if(arguments.length){return ic(d3)}function ic(il){if(il.length<3){return[]}var ih=Q(e),ig=Q(id),im,ie=il.length,ip=[],iq=[];for(im=0;im<ie;im++){ip.push([+ih.call(this,il[im],im),+ig.call(this,il[im],im),im])}ip.sort(h3);for(im=0;im<ie;im++){iq.push([ip[im][0],-ip[im][1]])}var ir=bp(ip),ik=bp(iq);var ii=ik[0]===ir[0],ij=ik[ik.length-1]===ir[ir.length-1],io=[];for(im=ir.length-1;im>=0;--im){io.push(il[ip[ir[im]][2]])}for(im=+ii;im<ik.length-ij;++im){io.push(il[ip[ik[im]][2]])}return io}ic.x=function(ie){return arguments.length?(e=ie,ic):e};ic.y=function(ie){return arguments.length?(id=ie,ic):id};return ic};function bp(ic){var ie=ic.length,id=[0,1],d3=2;for(var e=2;e<ie;e++){while(d3>1&&eZ(ic[id[d3-2]],ic[id[d3-1]],ic[e])<=0){--d3}id[d3++]=e}return id.slice(0,d3)}function h3(d3,e){return d3[0]-e[0]||d3[1]-e[1]}ho.geom.polygon=function(e){h6(e,eq);return e};var eq=ho.geom.polygon.prototype=[];eq.area=function(){var ic=-1,ie=this.length,d3,e=this[ie-1],id=0;while(++ic<ie){d3=e;e=this[ic];id+=d3[1]*e[0]-d3[0]*e[1]}return id*0.5};eq.centroid=function(id){var ie=-1,ii=this.length,d3=0,ih=0,ic,e=this[ii-1],ig;if(!arguments.length){id=-1/(6*this.area())}while(++ie<ii){ic=e;e=this[ie];ig=ic[0]*e[1]-e[0]*ic[1];d3+=(ic[0]+e[0])*ig;ih+=(ic[1]+e[1])*ig}return[d3*id,ih*id]};eq.clip=function(ii){var ik,ie=gT(ii),id=-1,e=this.length-gT(this),ic,d3,il=this[e-1],ij,ih,ig;while(++id<e){ik=ii.slice();ii.length=0;ij=this[id];ih=ik[(d3=ik.length-ie)-1];ic=-1;while(++ic<d3){ig=ik[ic];if(D(ig,il,ij)){if(!D(ih,il,ij)){ii.push(gj(ih,ig,il,ij))}ii.push(ig)}else{if(D(ih,il,ij)){ii.push(gj(ih,ig,il,ij))}}ih=ig}if(ie){ii.push(ii[0])}il=ij}return ii};function D(ic,d3,e){return(e[0]-d3[0])*(ic[1]-d3[1])<(e[1]-d3[1])*(ic[0]-d3[0])}function gj(ih,ie,il,ii){var ic=ih[0],e=il[0],id=ie[0]-ic,im=ii[0]-e,ik=ih[1],ig=il[1],ij=ie[1]-ik,io=ii[1]-ig,d3=(im*(ik-ig)-io*(ic-e))/(io*id-im*ij);return[ic+d3*id,ik+d3*ij]}function gT(ic){var d3=ic[0],e=ic[ic.length-1];return !(d3[0]-e[0]||d3[1]-e[1])}var gP,ew,cR,dd=[],he,d2,et=[];function gD(){s(this);this.edge=this.site=this.circle=null}function eX(d3){var e=dd.pop()||new gD();e.site=d3;return e}function gC(e){eM(e);cR.remove(e);dd.push(e);s(e)}function hq(d3){var e=d3.circle,ik=e.x,ih=e.cy,ie={x:ik,y:ih},ig=d3.P,id=d3.N,ij=[d3];gC(d3);var im=ig;while(im.circle&&cG(ik-im.circle.x)<gn&&cG(ih-im.circle.cy)<gn){ig=im.P;ij.unshift(im);gC(im);im=ig}ij.unshift(im);eM(im);var ic=id;while(ic.circle&&cG(ik-ic.circle.x)<gn&&cG(ih-ic.circle.cy)<gn){id=ic.N;ij.push(ic);gC(ic);ic=id}ij.push(ic);eM(ic);var il=ij.length,ii;for(ii=1;ii<il;++ii){ic=ij[ii];im=ij[ii-1];cp(ic.edge,im.site,ic.site,ie)}im=ij[0];ic=ij[il-1];ic.edge=hk(im.site,ic.site,null,ie);V(im);V(ic)}function du(il){var ij=il.x,io=il.y,iq,im,ix,ir,ip=cR._;while(ip){ix=c7(ip,io)-ij;if(ix>gn){ip=ip.L}else{ir=ij-gd(ip,io);if(ir>gn){if(!ip.R){iq=ip;break}ip=ip.R}else{if(ix>-gn){iq=ip.P;im=ip}else{if(ir>-gn){iq=ip;im=ip.N}else{iq=im=ip}}break}}}var id=eX(il);cR.insert(iq,id);if(!iq&&!im){return}if(iq===im){eM(iq);im=eX(iq.site);cR.insert(id,im);id.edge=im.edge=hk(iq.site,id.site);V(iq);V(im);return}if(!im){id.edge=hk(iq.site,id.site);return}eM(iq);eM(im);var ih=iq.site,ik=ih.x,ii=ih.y,iv=il.x-ik,it=il.y-ii,e=im.site,ic=e.x-ik,d3=e.y-ii,iw=2*(iv*d3-it*ic),ig=iv*iv+it*it,ie=ic*ic+d3*d3,iu={x:(d3*ig-it*ie)/iw+ik,y:(iv*ie-ic*ig)/iw+ii};cp(im.edge,ih,e,iu);id.edge=hk(ih,il,null,iu);im.edge=hk(il,e,null,iu);V(iq);V(im)}function c7(id,ie){var e=id.site,im=e.x,il=e.y,ik=il-ie;
if(!ik){return im}var io=id.P;if(!io){return -Infinity}e=io.site;var ih=e.x,ig=e.y,ic=ig-ie;if(!ic){return ih}var d3=ih-im,ij=1/ik-1/ic,ii=d3/ic;if(ij){return(-ii+Math.sqrt(ii*ii-2*ij*(d3*d3/(-2*ic)-ig+ic/2+il-ik/2)))/ij+im}return(im+ih)/2}function gd(d3,ic){var id=d3.N;if(id){return c7(id,ic)}var e=d3.site;return e.y===ic?e.x:Infinity}function bY(e){this.site=e;this.edges=[]}bY.prototype.prepare=function(){var ic=this.edges,e=ic.length,d3;while(e--){d3=ic[e].edge;if(!d3.b||!d3.a){ic.splice(e,1)}}ic.sort(t);return ic.length};function by(it){var ih=it[0][0],ig=it[1][0],io=it[0][1],im=it[1][1],id,il,e,ik,ir=ew,ic=ir.length,iq,ip,ij,d3,ie,ii;while(ic--){iq=ir[ic];if(!iq||!iq.prepare()){continue}ij=iq.edges;d3=ij.length;ip=0;while(ip<d3){ii=ij[ip].end(),e=ii.x,ik=ii.y;ie=ij[++ip%d3].start(),id=ie.x,il=ie.y;if(cG(e-id)>gn||cG(ik-il)>gn){ij.splice(ip,0,new h1(g9(iq.site,ii,cG(e-ih)<gn&&im-ik>gn?{x:ih,y:cG(id-ih)<gn?il:im}:cG(ik-im)<gn&&ig-e>gn?{x:cG(il-im)<gn?id:ig,y:im}:cG(e-ig)<gn&&ik-io>gn?{x:ig,y:cG(id-ig)<gn?il:io}:cG(ik-io)<gn&&e-ih>gn?{x:cG(il-io)<gn?id:ih,y:io}:null),iq.site,null));++d3}}}}function t(d3,e){return e.angle-d3.angle}function aV(){s(this);this.x=this.y=this.arc=this.site=this.cy=null}function V(ih){var ir=ih.P,ip=ih.N;if(!ir||!ip){return}var ij=ir.site,iv=ih.site,e=ip.site;if(ij===e){return}var iu=iv.x,it=iv.y,im=ij.x-iu,ik=ij.y-it,ic=e.x-iu,d3=e.y-it;var iw=2*(im*d3-ik*ic);if(iw>=-eD){return}var ig=im*im+ik*ik,ie=ic*ic+d3*d3,il=(d3*ig-ik*ie)/iw,ii=(im*ie-ic*ig)/iw,d3=ii+it;var id=et.pop()||new aV();id.arc=ih;id.site=iv;id.x=il+iu;id.y=d3+Math.sqrt(il*il+ii*ii);id.cy=d3;ih.circle=id;var io=null,iq=d2._;while(iq){if(id.y<iq.y||id.y===iq.y&&id.x<=iq.x){if(iq.L){iq=iq.L}else{io=iq.P;break}}else{if(iq.R){iq=iq.R}else{io=iq;break}}}d2.insert(io,id);if(!io){he=id}}function eM(e){var d3=e.circle;if(d3){if(!d3.P){he=d3.N}d2.remove(d3);et.push(d3);s(d3);e.circle=null}}function hD(id){var d3=gP,ie=aj(id[0][0],id[0][1],id[1][0],id[1][1]),ic=d3.length,ig;while(ic--){ig=d3[ic];if(!bm(ig,id)||!ie(ig)||cG(ig.a.x-ig.b.x)<gn&&cG(ig.a.y-ig.b.y)<gn){ig.a=ig.b=null;d3.splice(ic,1)}}}function bm(im,iq){var e=im.b;if(e){return true}var d3=im.a,iu=iq[0][0],it=iq[1][0],ig=iq[0][1],id=iq[1][1],ip=im.l,ic=im.r,ij=ip.x,ii=ip.y,il=ic.x,ik=ic.y,ih=(ij+il)/2,ie=(ii+ik)/2,io,ir;if(ik===ii){if(ih<iu||ih>=it){return}if(ij>il){if(!d3){d3={x:ih,y:ig}}else{if(d3.y>=id){return}}e={x:ih,y:id}}else{if(!d3){d3={x:ih,y:id}}else{if(d3.y<ig){return}}e={x:ih,y:ig}}}else{io=(ij-il)/(ik-ii);ir=ie-io*ih;if(io<-1||io>1){if(ij>il){if(!d3){d3={x:(ig-ir)/io,y:ig}}else{if(d3.y>=id){return}}e={x:(id-ir)/io,y:id}}else{if(!d3){d3={x:(id-ir)/io,y:id}}else{if(d3.y<ig){return}}e={x:(ig-ir)/io,y:ig}}}else{if(ii<ik){if(!d3){d3={x:iu,y:io*iu+ir}}else{if(d3.x>=it){return}}e={x:it,y:io*it+ir}}else{if(!d3){d3={x:it,y:io*it+ir}}else{if(d3.x<iu){return}}e={x:iu,y:io*iu+ir}}}}im.a=d3;im.b=e;return true}function F(d3,e){this.l=d3;this.r=e;this.a=this.b=null}function hk(ie,e,id,d3){var ic=new F(ie,e);gP.push(ic);if(id){cp(ic,ie,e,id)}if(d3){cp(ic,e,ie,d3)}ew[ie.i].edges.push(new h1(ic,ie,e));ew[e.i].edges.push(new h1(ic,e,ie));return ic}function g9(id,ic,e){var d3=new F(id,null);d3.a=ic;d3.b=e;gP.push(d3);return d3}function cp(d3,id,e,ic){if(!d3.a&&!d3.b){d3.a=ic;d3.l=id;d3.r=e}else{if(d3.l===e){d3.b=ic}else{d3.a=ic}}}function h1(id,ie,e){var ic=id.a,d3=id.b;this.edge=id;this.site=ie;this.angle=e?Math.atan2(e.y-ie.y,e.x-ie.x):id.l===ie?Math.atan2(d3.x-ic.x,ic.y-d3.y):Math.atan2(ic.x-d3.x,d3.y-ic.y)}h1.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ba(){this._=null}function s(e){e.U=e.C=e.L=e.R=e.P=e.N=null}ba.prototype={insert:function(ie,id){var ic,d3,e;if(ie){id.P=ie;id.N=ie.N;if(ie.N){ie.N.P=id}ie.N=id;if(ie.R){ie=ie.R;while(ie.L){ie=ie.L}ie.L=id}else{ie.R=id}ic=ie}else{if(this._){ie=da(this._);id.P=null;id.N=ie;ie.P=ie.L=id;ic=ie}else{id.P=id.N=null;this._=id;ic=null}}id.L=id.R=null;id.U=ic;id.C=true;ie=id;while(ic&&ic.C){d3=ic.U;if(ic===d3.L){e=d3.R;if(e&&e.C){ic.C=e.C=false;d3.C=true;ie=d3}else{if(ie===ic.R){ah(this,ic);ie=ic;ic=ie.U}ic.C=false;d3.C=true;eQ(this,d3)}}else{e=d3.L;if(e&&e.C){ic.C=e.C=false;d3.C=true;ie=d3}else{if(ie===ic.L){eQ(this,ic);ie=ic;ic=ie.U}ic.C=false;d3.C=true;ah(this,d3)}}ic=ie.U}this._.C=false},remove:function(ie){if(ie.N){ie.N.P=ie.P}if(ie.P){ie.P.N=ie.N}ie.N=ie.P=null;var id=ie.U,ic,ih=ie.L,e=ie.R,d3,ig;if(!ih){d3=e}else{if(!e){d3=ih}else{d3=da(e)}}if(id){if(id.L===ie){id.L=d3}else{id.R=d3}}else{this._=d3}if(ih&&e){ig=d3.C;d3.C=ie.C;d3.L=ih;ih.U=d3;if(d3!==e){id=d3.U;d3.U=ie.U;ie=d3.R;id.L=ie;d3.R=e;e.U=d3}else{d3.U=id;id=d3;ie=d3.R}}else{ig=ie.C;ie=d3}if(ie){ie.U=id}if(ig){return}if(ie&&ie.C){ie.C=false;return}do{if(ie===this._){break}if(ie===id.L){ic=id.R;if(ic.C){ic.C=false;id.C=true;ah(this,id);ic=id.R}if(ic.L&&ic.L.C||ic.R&&ic.R.C){if(!ic.R||!ic.R.C){ic.L.C=false;ic.C=true;eQ(this,ic);ic=id.R}ic.C=id.C;id.C=ic.R.C=false;
ah(this,id);ie=this._;break}}else{ic=id.L;if(ic.C){ic.C=false;id.C=true;eQ(this,id);ic=id.L}if(ic.L&&ic.L.C||ic.R&&ic.R.C){if(!ic.L||!ic.L.C){ic.R.C=false;ic.C=true;ah(this,ic);ic=id.L}ic.C=id.C;id.C=ic.L.C=false;eQ(this,id);ie=this._;break}}ic.C=true;ie=id;id=id.U}while(!ie.C);if(ie){ie.C=false}}};function ah(e,ic){var ie=ic,id=ic.R,d3=ie.U;if(d3){if(d3.L===ie){d3.L=id}else{d3.R=id}}else{e._=id}id.U=d3;ie.U=id;ie.R=id.L;if(ie.R){ie.R.U=ie}id.L=ie}function eQ(e,ic){var ie=ic,id=ic.L,d3=ie.U;if(d3){if(d3.L===ie){d3.L=id}else{d3.R=id}}else{e._=id}id.U=d3;ie.U=id;ie.L=id.R;if(ie.L){ie.L.U=ie}id.R=ie}function da(e){while(e.L){e=e.L}return e}function g2(ig,ih){var d3=ig.sort(bk).pop(),ic,id,ie;gP=[];ew=new Array(ig.length);cR=new ba();d2=new ba();while(true){ie=he;if(d3&&(!ie||d3.y<ie.y||d3.y===ie.y&&d3.x<ie.x)){if(d3.x!==ic||d3.y!==id){ew[d3.i]=new bY(d3);du(d3);ic=d3.x,id=d3.y}d3=ig.pop()}else{if(ie){hq(ie.arc)}else{break}}}if(ih){hD(ih),by(ih)}var e={cells:ew,edges:gP};cR=d2=gP=ew=null;return e}function bk(d3,e){return e.y-d3.y||e.x-d3.x}ho.geom.voronoi=function(id){var e=hV,ii=hU,ie=e,ic=ii,d3=hH;if(id){return ih(id)}function ih(ip){var ij=new Array(ip.length),il=d3[0][0],io=d3[0][1],ik=d3[1][0],im=d3[1][1];g2(ig(ip),d3).cells.forEach(function(iq,iv){var ir=iq.edges,it=iq.site,iu=ij[iv]=ir.length?ir.map(function(ix){var iw=ix.start();return[iw.x,iw.y]}):it.x>=il&&it.x<=ik&&it.y>=io&&it.y<=im?[[il,im],[ik,im],[ik,io],[il,io]]:[];iu.point=ip[iv]});return ij}function ig(ij){return ij.map(function(il,ik){return{x:Math.round(ie(il,ik)/gn)*gn,y:Math.round(ic(il,ik)/gn)*gn,i:ik}})}ih.links=function(ij){return g2(ig(ij)).edges.filter(function(ik){return ik.l&&ik.r}).map(function(ik){return{source:ij[ik.l.i],target:ij[ik.r.i]}})};ih.triangles=function(ik){var ij=[];g2(ig(ik)).cells.forEach(function(iv,iq){var il=iv.site,ip=iv.edges.sort(t),io=-1,im=ip.length,it,iw,ir=ip[im-1].edge,iu=ir.l===il?ir.r:ir.l;while(++io<im){it=ir;iw=iu;ir=ip[io].edge;iu=ir.l===il?ir.r:ir.l;if(iq<iw.i&&iq<iu.i&&gB(il,iw,iu)<0){ij.push([ik[iq],ik[iw.i],ik[iu.i]])}}});return ij};ih.x=function(ij){return arguments.length?(ie=Q(e=ij),ih):e};ih.y=function(ij){return arguments.length?(ic=Q(ii=ij),ih):ii};ih.clipExtent=function(ij){if(!arguments.length){return d3===hH?null:d3}d3=ij==null?hH:ij;return ih};ih.size=function(ij){if(!arguments.length){return d3===hH?null:d3&&d3[1]}return ih.clipExtent(ij&&[[0,0],ij])};return ih};var hH=[[-1000000,-1000000],[1000000,1000000]];function gB(d3,e,ic){return(d3.x-ic.x)*(e.y-d3.y)-(d3.x-e.x)*(ic.y-d3.y)}ho.geom.delaunay=function(e){return ho.geom.voronoi().triangles(e)};ho.geom.quadtree=function(ii,d3,ig,e,ie){var ih=hV,id=hU,ij;if(ij=arguments.length){ih=f3;id=f1;if(ij===3){ie=ig;e=d3;ig=d3=0}return ic(ii)}function ic(iE){var iB,ip=Q(ih),im=Q(id),ir,iy,iz,iw,ik,iv,iq,iD;if(d3!=null){ik=d3,iv=ig,iq=e,iD=ie}else{iq=iD=-(ik=iv=Infinity);ir=[],iy=[];iw=iE.length;if(ij){for(iz=0;iz<iw;++iz){iB=iE[iz];if(iB.x<ik){ik=iB.x}if(iB.y<iv){iv=iB.y}if(iB.x>iq){iq=iB.x}if(iB.y>iD){iD=iB.y}ir.push(iB.x);iy.push(iB.y)}}else{for(iz=0;iz<iw;++iz){var iA=+ip(iB=iE[iz],iz),io=+im(iB,iz);if(iA<ik){ik=iA}if(io<iv){iv=io}if(iA>iq){iq=iA}if(io>iD){iD=io}ir.push(iA);iy.push(io)}}}var iu=iq-ik,it=iD-iv;if(iu>it){iD=iv+iu}else{iq=ik+it}function il(iH,iL,iP,iM,iG,iO,iF,iN){if(isNaN(iP)||isNaN(iM)){return}if(iH.leaf){var iK=iH.x,iJ=iH.y;if(iK!=null){if(cG(iK-iP)+cG(iJ-iM)<0.01){iC(iH,iL,iP,iM,iG,iO,iF,iN)}else{var iI=iH.point;iH.x=iH.y=iH.point=null;iC(iH,iI,iK,iJ,iG,iO,iF,iN);iC(iH,iL,iP,iM,iG,iO,iF,iN)}}else{iH.x=iP,iH.y=iM,iH.point=iL}}else{iC(iH,iL,iP,iM,iG,iO,iF,iN)}}function iC(iI,iL,iP,iM,iG,iO,iF,iN){var iK=(iG+iF)*0.5,iH=(iO+iN)*0.5,iR=iP>=iK,iQ=iM>=iH,iJ=iQ<<1|iR;iI.leaf=false;iI=iI.nodes[iJ]||(iI.nodes[iJ]=fG());if(iR){iG=iK}else{iF=iK}if(iQ){iO=iH}else{iN=iH}il(iI,iL,iP,iM,iG,iO,iF,iN)}var ix=fG();ix.add=function(iF){il(ix,iF,+ip(iF,++iz),+im(iF,iz),ik,iv,iq,iD)};ix.visit=function(iF){cM(iF,ix,ik,iv,iq,iD)};ix.find=function(iF){return ek(ix,iF[0],iF[1],ik,iv,iq,iD)};iz=-1;if(d3==null){while(++iz<iw){il(ix,iE[iz],ir[iz],iy[iz],ik,iv,iq,iD)}--iz}else{iE.forEach(ix.add)}ir=iy=iE=iB=null;return ix}ic.x=function(ik){return arguments.length?(ih=ik,ic):ih};ic.y=function(ik){return arguments.length?(id=ik,ic):id};ic.extent=function(ik){if(!arguments.length){return d3==null?null:[[d3,ig],[e,ie]]}if(ik==null){d3=ig=e=ie=null}else{d3=+ik[0][0],ig=+ik[0][1],e=+ik[1][0],ie=+ik[1][1]}return ic};ic.size=function(ik){if(!arguments.length){return d3==null?null:[e-d3,ie-ig]}if(ik==null){d3=ig=e=ie=null}else{d3=ig=0,e=+ik[0],ie=+ik[1]}return ic};return ic};function f3(e){return e.x}function f1(e){return e.y}function fG(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cM(ie,id,d3,ij,e,ih){if(!ie(id,d3,ij,e,ih)){var ii=(d3+e)*0.5,ig=(ij+ih)*0.5,ic=id.nodes;if(ic[0]){cM(ie,ic[0],d3,ij,ii,ig)}if(ic[1]){cM(ie,ic[1],ii,ij,e,ig)}if(ic[2]){cM(ie,ic[2],d3,ig,ii,ih)}if(ic[3]){cM(ie,ic[3],ii,ig,e,ih)}}}function ek(ih,ij,ig,ic,ik,e,ie){var ii=Infinity,d3;
(function id(ir,io,iy,im,ix){if(io>e||iy>ie||im<ic||ix<ik){return}if(iA=ir.point){var iA,iD=ij-ir.x,iC=ig-ir.y,iw=iD*iD+iC*iC;if(iw<ii){var il=Math.sqrt(ii=iw);ic=ij-il,ik=ig-il;e=ij+il,ie=ig+il;d3=iA}}var iq=ir.nodes,iv=(io+im)*0.5,ip=(iy+ix)*0.5,iB=ij>=iv,iz=ig>=ip;for(var iu=iz<<1|iB,it=iu+4;iu<it;++iu){if(ir=iq[iu&3]){switch(iu&3){case 0:id(ir,io,iy,iv,ip);break;case 1:id(ir,iv,iy,im,ip);break;case 2:id(ir,io,ip,iv,ix);break;case 3:id(ir,iv,ip,im,ix);break}}}})(ih,ic,ik,e,ie);return d3}ho.interpolateRgb=aM;function aM(d3,e){d3=ho.rgb(d3);e=ho.rgb(e);var id=d3.r,ic=d3.g,ih=d3.b,ig=e.r-id,ie=e.g-ic,ii=e.b-ih;return function(ij){return"#"+cv(Math.round(id+ig*ij))+cv(Math.round(ic+ie*ij))+cv(Math.round(ih+ii*ij))}}ho.interpolateObject=bM;function bM(d3,e){var id={},ie={},ic;for(ic in d3){if(ic in e){id[ic]=fB(d3[ic],e[ic])}else{ie[ic]=d3[ic]}}for(ic in e){if(!(ic in d3)){ie[ic]=e[ic]}}return function(ig){for(ic in id){ie[ic]=id[ic](ig)}return ie}}ho.interpolateNumber=bG;function bG(d3,e){d3=+d3,e=+e;return function(ic){return d3*(1-ic)+e*ic}}ho.interpolateString=b1;function b1(ih,ig){var ic=hC.lastIndex=hA.lastIndex=0,ie,d3,ii,id=-1,ij=[],e=[];ih=ih+"",ig=ig+"";while((ie=hC.exec(ih))&&(d3=hA.exec(ig))){if((ii=d3.index)>ic){ii=ig.slice(ic,ii);if(ij[id]){ij[id]+=ii}else{ij[++id]=ii}}if((ie=ie[0])===(d3=d3[0])){if(ij[id]){ij[id]+=d3}else{ij[++id]=d3}}else{ij[++id]=null;e.push({i:id,x:bG(ie,d3)})}ic=hA.lastIndex}if(ic<ig.length){ii=ig.slice(ic);if(ij[id]){ij[id]+=ii}else{ij[++id]=ii}}return ij.length<2?e[0]?(ig=e[0].x,function(ik){return ig(ik)+""}):function(){return ig}:(ig=e.length,function(il){for(var ik=0,im;ik<ig;++ik){ij[(im=e[ik]).i]=im.x(il)}return ij.join("")})}var hC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hA=new RegExp(hC.source,"g");ho.interpolate=fB;function fB(d3,e){var ic=ho.interpolators.length,id;while(--ic>=0&&!(id=ho.interpolators[ic](d3,e))){}return id}ho.interpolators=[function(d3,e){var ic=typeof e;return(ic==="string"?al.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?aM:b1:e instanceof gV?aM:Array.isArray(e)?eO:ic==="object"&&isNaN(e)?bM:bG)(d3,e)}];ho.interpolateArray=eO;function eO(ie,ic){var d3=[],ii=[],id=ie.length,e=ic.length,ih=Math.min(ie.length,ic.length),ig;for(ig=0;ig<ih;++ig){d3.push(fB(ie[ig],ic[ig]))}for(;ig<id;++ig){ii[ig]=ie[ig]}for(;ig<e;++ig){ii[ig]=ic[ig]}return function(ij){for(ig=0;ig<ih;++ig){ii[ig]=d3[ig](ij)}return ii}}var hj=function(){return gl};var aa=ho.map({linear:hj,poly:aR,quad:function(){return bZ},cubic:function(){return H},sin:function(){return gc},exp:function(){return ft},circle:function(){return d5},elastic:U,back:g0,bounce:function(){return ck}});var j=ho.map({"in":gl,out:C,"in-out":a2,"out-in":function(e){return a2(C(e))}});ho.ease=function(d3){var id=d3.indexOf("-"),ic=id>=0?d3.slice(0,id):d3,e=id>=0?d3.slice(id+1):"in";ic=aa.get(ic)||hj;e=j.get(e)||gl;return fy(e(ic.apply(null,bO.call(arguments,1))))};function fy(e){return function(d3){return d3<=0?0:d3>=1?1:e(d3)}}function C(e){return function(d3){return 1-e(1-d3)}}function a2(e){return function(d3){return 0.5*(d3<0.5?e(2*d3):2-e(2-2*d3))}}function bZ(e){return e*e}function H(e){return e*e*e}function av(d3){if(d3<=0){return 0}if(d3>=1){return 1}var ic=d3*d3,e=ic*d3;return 4*(d3<0.5?e:3*(d3-ic)+e-0.75)}function aR(d3){return function(e){return Math.pow(e,d3)}}function gc(e){return 1-Math.cos(e*ep)}function ft(e){return Math.pow(2,10*(e-1))}function d5(e){return 1-Math.sqrt(1-e*e)}function U(e,ic){var d3;if(arguments.length<2){ic=0.45}if(arguments.length){d3=ic/f7*Math.asin(1/e)}else{e=1,d3=ic/4}return function(id){return 1+e*Math.pow(2,-10*id)*Math.sin((id-d3)*f7/ic)}}function g0(e){if(!e){e=1.70158}return function(d3){return d3*d3*((e+1)*d3-e)}}function ck(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}ho.interpolateHcl=gS;function gS(ic,e){ic=ho.hcl(ic);e=ho.hcl(e);var d3=ic.h,ie=ic.c,ih=ic.l,id=e.h-d3,ig=e.c-ie,ii=e.l-ih;if(isNaN(ig)){ig=0,ie=isNaN(ie)?e.c:ie}if(isNaN(id)){id=0,d3=isNaN(d3)?e.h:d3}else{if(id>180){id-=360}else{if(id<-180){id+=360}}}return function(ij){return bD(d3+id*ij,ie+ig*ij,ih+ii*ij)+""}}ho.interpolateHsl=a3;function a3(id,e){id=ho.hsl(id);e=ho.hsl(e);var ic=id.h,d3=id.s,ih=id.l,ig=e.h-ic,ie=e.s-d3,ii=e.l-ih;if(isNaN(ie)){ie=0,d3=isNaN(d3)?e.s:d3}if(isNaN(ig)){ig=0,ic=isNaN(ic)?e.h:ic}else{if(ig>180){ig-=360}else{if(ig<-180){ig+=360}}}return function(ij){return bg(ic+ig*ij,d3+ie*ij,ih+ii*ij)+""}}ho.interpolateLab=hz;function hz(d3,e){d3=ho.lab(d3);e=ho.lab(e);var ie=d3.l,id=d3.a,ic=d3.b,ii=e.l-ie,ih=e.a-id,ig=e.b-ic;return function(ij){return aB(ie+ii*ij,id+ih*ij,ic+ig*ij)+""}}ho.interpolateRound=fw;function fw(d3,e){e-=d3;return function(ic){return Math.round(d3+e*ic)}}ho.transform=function(e){var d3=bN.createElementNS(ho.ns.prefix.svg,"g");return(ho.transform=function(ic){if(ic!=null){d3.setAttribute("transform",ic);var id=d3.transform.baseVal.consolidate()}return new o(id?id.matrix:f8)
})(e)};function o(e){var id=[e.a,e.b],d3=[e.c,e.d],ig=fo(id),ic=eY(id,d3),ie=fo(bS(d3,id,-ic))||0;if(id[0]*d3[1]<d3[0]*id[1]){id[0]*=-1;id[1]*=-1;ig*=-1;ic*=-1}this.rotate=(ig?Math.atan2(id[1],id[0]):Math.atan2(-d3[0],d3[1]))*hF;this.translate=[e.e,e.f];this.scale=[ig,ie];this.skew=ie?Math.atan2(ic,ie)*hF:0}o.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eY(d3,e){return d3[0]*e[0]+d3[1]*e[1]}function fo(e){var d3=Math.sqrt(eY(e,e));if(d3){e[0]/=d3;e[1]/=d3}return d3}function bS(d3,e,ic){d3[0]+=ic*e[0];d3[1]+=ic*e[1];return d3}var f8={a:1,b:0,c:0,d:1,e:0,f:0};ho.interpolateTransform=eg;function aT(e){return e.length?e.pop()+",":""}function hT(d3,e,id,ie){if(d3[0]!==e[0]||d3[1]!==e[1]){var ic=id.push("translate(",null,",",null,")");ie.push({i:ic-4,x:bG(d3[0],e[0])},{i:ic-2,x:bG(d3[1],e[1])})}else{if(e[0]||e[1]){id.push("translate("+e+")")}}}function g4(id,ic,e,d3){if(id!==ic){if(id-ic>180){ic+=360}else{if(ic-id>180){id+=360}}d3.push({i:e.push(aT(e)+"rotate(",null,")")-2,x:bG(id,ic)})}else{if(ic){e.push(aT(e)+"rotate("+ic+")")}}}function dm(id,ic,e,d3){if(id!==ic){d3.push({i:e.push(aT(e)+"skewX(",null,")")-2,x:bG(id,ic)})}else{if(ic){e.push(aT(e)+"skewX("+ic+")")}}}function gY(id,ic,d3,ie){if(id[0]!==ic[0]||id[1]!==ic[1]){var e=d3.push(aT(d3)+"scale(",null,",",null,")");ie.push({i:e-4,x:bG(id[0],ic[0])},{i:e-2,x:bG(id[1],ic[1])})}else{if(ic[0]!==1||ic[1]!==1){d3.push(aT(d3)+"scale("+ic+")")}}}function eg(d3,e){var ic=[],id=[];d3=ho.transform(d3),e=ho.transform(e);hT(d3.translate,e.translate,ic,id);g4(d3.rotate,e.rotate,ic,id);dm(d3.skew,e.skew,ic,id);gY(d3.scale,e.scale,ic,id);d3=e=null;return function(ig){var ie=-1,ii=id.length,ih;while(++ie<ii){ic[(ih=id[ie]).i]=ih.x(ig)}return ic.join("")}}function hw(d3,e){e=(e-=d3=+d3)||1/e;return function(ic){return(ic-d3)/e}}function ay(d3,e){e=(e-=d3=+d3)||1/e;return function(ic){return Math.max(0,Math.min(1,(ic-d3)/e))}}ho.layout={};ho.layout.bundle=function(){return function(e){var ic=[],d3=-1,id=e.length;while(++d3<id){ic.push(eK(e[d3]))}return ic}};function eK(id){var ig=id.source,e=id.target,ie=fJ(ig,e),ic=[ig];while(ig!==ie){ig=ig.parent;ic.push(ig)}var d3=ic.length;while(e!==ie){ic.splice(d3,0,e);e=e.parent}return ic}function fn(ic){var d3=[],e=ic.parent;while(e!=null){d3.push(ic);ic=e;e=e.parent}d3.push(ic);return d3}function fJ(id,d3){if(id===d3){return id}var ic=fn(id),e=fn(d3),ie=ic.pop(),ig=e.pop(),ih=null;while(ie===ig){ih=ie;ie=ic.pop();ig=e.pop()}return ih}ho.layout.chord=function(){var ig={},ih,id,il,ic,ik=0,e,d3,ie;function ij(){var ir={},iv=[],iD=ho.range(ic),iz=[],it,iB,iq,iw,iu;ih=[];id=[];it=0,iw=-1;while(++iw<ic){iB=0,iu=-1;while(++iu<ic){iB+=il[iw][iu]}iv.push(iB);iz.push(ho.range(ic));it+=iB}if(e){iD.sort(function(iF,iE){return e(iv[iF],iv[iE])})}if(d3){iz.forEach(function(iF,iE){iF.sort(function(iH,iG){return d3(il[iE][iH],il[iE][iG])})})}it=(f7-ik*ic)/it;iB=0,iw=-1;while(++iw<ic){iq=iB,iu=-1;while(++iu<ic){var iA=iD[iw],iy=iz[iA][iu],iC=il[iA][iy],ip=iB,io=iB+=iC*it;ir[iA+"-"+iy]={index:iA,subindex:iy,startAngle:ip,endAngle:io,value:iC}}id[iA]={index:iA,startAngle:iq,endAngle:iB,value:iv[iA]};iB+=ik}iw=-1;while(++iw<ic){iu=iw-1;while(++iu<ic){var im=ir[iw+"-"+iu],ix=ir[iu+"-"+iw];if(im.value||ix.value){ih.push(im.value<ix.value?{source:ix,target:im}:{source:im,target:ix})}}}if(ie){ii()}}function ii(){ih.sort(function(io,im){return ie((io.source.value+io.target.value)/2,(im.source.value+im.target.value)/2)})}ig.matrix=function(im){if(!arguments.length){return il}ic=(il=im)&&il.length;ih=id=null;return ig};ig.padding=function(im){if(!arguments.length){return ik}ik=im;ih=id=null;return ig};ig.sortGroups=function(im){if(!arguments.length){return e}e=im;ih=id=null;return ig};ig.sortSubgroups=function(im){if(!arguments.length){return d3}d3=im;ih=null;return ig};ig.sortChords=function(im){if(!arguments.length){return ie}ie=im;if(ih){ii()}return ig};ig.chords=function(){if(!ih){ij()}return ih};ig.groups=function(){if(!id){ij()}return id};return ig};ho.layout.force=function(){var d3={},it=ho.dispatch("start","tick","end"),ij,il=[1,1],iv,ie,ii=0.9,iw=fP,id=ct,ir=-30,ip=cb,ig=0.1,im=0.64,iq=[],ic=[],ih,e,ik;function iu(ix){return function(iE,iA,iD,iz){if(iE.point!==ix){var iG=iE.cx-ix.x,iF=iE.cy-ix.y,iy=iz-iA,iC=iG*iG+iF*iF;if(iy*iy/im<iC){if(iC<ip){var iB=iE.charge/iC;ix.px-=iG*iB;ix.py-=iF*iB}return true}if(iE.point&&iC&&iC<ip){var iB=iE.pointCharge/iC;ix.px-=iG*iB;ix.py-=iF*iB}}return !iE.charge}}d3.tick=function(){if((ie*=0.99)<0.005){ij=null;it.end({type:"end",alpha:ie=0});return true}var iz=iq.length,iA=ic.length,ix,iD,iy,iH,iG,iB,iC,iF,iE;for(iD=0;iD<iA;++iD){iy=ic[iD];iH=iy.source;iG=iy.target;iF=iG.x-iH.x;iE=iG.y-iH.y;if(iB=iF*iF+iE*iE){iB=ie*e[iD]*((iB=Math.sqrt(iB))-ih[iD])/iB;iF*=iB;iE*=iB;iG.x-=iF*(iC=iH.weight+iG.weight?iH.weight/(iH.weight+iG.weight):0.5);iG.y-=iE*iC;iH.x+=iF*(iC=1-iC);iH.y+=iE*iC}}if(iC=ie*ig){iF=il[0]/2;iE=il[1]/2;iD=-1;if(iC){while(++iD<iz){iy=iq[iD];
iy.x+=(iF-iy.x)*iC;iy.y+=(iE-iy.y)*iC}}}if(ir){gA(ix=ho.geom.quadtree(iq),ie,ik);iD=-1;while(++iD<iz){if(!(iy=iq[iD]).fixed){ix.visit(iu(iy))}}}iD=-1;while(++iD<iz){iy=iq[iD];if(iy.fixed){iy.x=iy.px;iy.y=iy.py}else{iy.x-=(iy.px-(iy.px=iy.x))*ii;iy.y-=(iy.py-(iy.py=iy.y))*ii}}it.tick({type:"tick",alpha:ie})};d3.nodes=function(ix){if(!arguments.length){return iq}iq=ix;return d3};d3.links=function(ix){if(!arguments.length){return ic}ic=ix;return d3};d3.size=function(ix){if(!arguments.length){return il}il=ix;return d3};d3.linkDistance=function(ix){if(!arguments.length){return iw}iw=typeof ix==="function"?ix:+ix;return d3};d3.distance=d3.linkDistance;d3.linkStrength=function(ix){if(!arguments.length){return id}id=typeof ix==="function"?ix:+ix;return d3};d3.friction=function(ix){if(!arguments.length){return ii}ii=+ix;return d3};d3.charge=function(ix){if(!arguments.length){return ir}ir=typeof ix==="function"?ix:+ix;return d3};d3.chargeDistance=function(ix){if(!arguments.length){return Math.sqrt(ip)}ip=ix*ix;return d3};d3.gravity=function(ix){if(!arguments.length){return ig}ig=+ix;return d3};d3.theta=function(ix){if(!arguments.length){return Math.sqrt(im)}im=ix*ix;return d3};d3.alpha=function(ix){if(!arguments.length){return ie}ix=+ix;if(ie){if(ix>0){ie=ix}else{ij.c=null,ij.t=NaN,ij=null;it.end({type:"end",alpha:ie=0})}}else{if(ix>0){it.start({type:"start",alpha:ie=ix});ij=g3(d3.tick)}}return d3};d3.start=function(){var iB,iE=iq.length,iy=ic.length,iz=il[0],iC=il[1],iA,iD;for(iB=0;iB<iE;++iB){(iD=iq[iB]).index=iB;iD.weight=0}for(iB=0;iB<iy;++iB){iD=ic[iB];if(typeof iD.source=="number"){iD.source=iq[iD.source]}if(typeof iD.target=="number"){iD.target=iq[iD.target]}++iD.source.weight;++iD.target.weight}for(iB=0;iB<iE;++iB){iD=iq[iB];if(isNaN(iD.x)){iD.x=ix("x",iz)}if(isNaN(iD.y)){iD.y=ix("y",iC)}if(isNaN(iD.px)){iD.px=iD.x}if(isNaN(iD.py)){iD.py=iD.y}}ih=[];if(typeof iw==="function"){for(iB=0;iB<iy;++iB){ih[iB]=+iw.call(this,ic[iB],iB)}}else{for(iB=0;iB<iy;++iB){ih[iB]=iw}}e=[];if(typeof id==="function"){for(iB=0;iB<iy;++iB){e[iB]=+id.call(this,ic[iB],iB)}}else{for(iB=0;iB<iy;++iB){e[iB]=id}}ik=[];if(typeof ir==="function"){for(iB=0;iB<iE;++iB){ik[iB]=+ir.call(this,iq[iB],iB)}}else{for(iB=0;iB<iE;++iB){ik[iB]=ir}}function ix(iK,iI){if(!iA){iA=new Array(iE);for(iH=0;iH<iE;++iH){iA[iH]=[]}for(iH=0;iH<iy;++iH){var iL=ic[iH];iA[iL.source.index].push(iL.target);iA[iL.target.index].push(iL.source)}}var iJ=iA[iB],iH=-1,iG=iJ.length,iF;while(++iH<iG){if(!isNaN(iF=iJ[iH][iK])){return iF}}return Math.random()*iI}return d3.resume()};d3.resume=function(){return d3.alpha(0.1)};d3.stop=function(){return d3.alpha(0)};d3.drag=function(){if(!iv){iv=ho.behavior.drag().origin(gl).on("dragstart.force",q).on("drag.force",io).on("dragend.force",ec)}if(!arguments.length){return iv}this.on("mouseover.force",cw).on("mouseout.force",el).call(iv)};function io(ix){ix.px=ho.event.x,ix.py=ho.event.y;d3.resume()}return ho.rebind(d3,it,"on")};function q(e){e.fixed|=2}function ec(e){e.fixed&=~6}function cw(e){e.fixed|=4;e.px=e.x,e.py=e.y}function el(e){e.fixed&=~4}function gA(ik,ie,ij){var ig=0,ic=0;ik.charge=0;if(!ik.leaf){var e=ik.nodes,d3=e.length,ih=-1,ii;while(++ih<d3){ii=e[ih];if(ii==null){continue}gA(ii,ie,ij);ik.charge+=ii.charge;ig+=ii.charge*ii.cx;ic+=ii.charge*ii.cy}}if(ik.point){if(!ik.leaf){ik.point.x+=Math.random()-0.5;ik.point.y+=Math.random()-0.5}var id=ie*ij[ik.point.index];ik.charge+=ik.pointCharge=id;ig+=id*ik.point.x;ic+=id*ik.point.y}ik.cx=ig/ik.charge;ik.cy=ic/ik.charge}var fP=20,ct=1,cb=Infinity;ho.layout.hierarchy=function(){var ic=dQ,d3=a7,id=hL;function e(ig){var ie=[ig],ih=[],ii;ig.depth=0;while((ii=ie.pop())!=null){ih.push(ii);if((ij=d3.call(e,ii,ii.depth))&&(il=ij.length)){var il,ij,ik;while(--il>=0){ie.push(ik=ij[il]);ik.parent=ii;ik.depth=ii.depth+1}if(id){ii.value=0}ii.children=ij}else{if(id){ii.value=+id.call(e,ii,ii.depth)||0}delete ii.children}}gM(ig,function(io){var ip,im;if(ic&&(ip=io.children)){ip.sort(ic)}if(id&&(im=io.parent)){im.value+=io.value}});return ih}e.sort=function(ie){if(!arguments.length){return ic}ic=ie;return e};e.children=function(ie){if(!arguments.length){return d3}d3=ie;return e};e.value=function(ie){if(!arguments.length){return id}id=ie;return e};e.revalue=function(ie){if(id){eu(ie,function(ig){if(ig.children){ig.value=0}});gM(ie,function(ih){var ig;if(!ih.children){ih.value=+id.call(e,ih,ih.depth)||0}if(ig=ih.parent){ig.value+=ih.value}})}return ie};return e};function gs(d3,e){ho.rebind(d3,e,"sort","children","value");d3.nodes=d3;d3.links=gw;return d3}function eu(ic,ie){var e=[ic];while((ic=e.pop())!=null){ie(ic);if((d3=ic.children)&&(id=d3.length)){var id,d3;while(--id>=0){e.push(d3[id])}}}}function gM(ie,ih){var d3=[ie],e=[];while((ie=d3.pop())!=null){e.push(ie);if((ic=ie.children)&&(ig=ic.length)){var id=-1,ig,ic;while(++id<ig){d3.push(ic[id])}}}while((ie=e.pop())!=null){ih(ie)}}function a7(e){return e.children}function hL(e){return e.value}function dQ(d3,e){return e.value-d3.value}function gw(e){return ho.merge(e.map(function(d3){return(d3.children||[]).map(function(ic){return{source:d3,target:ic}
})}))}ho.layout.partition=function(){var ic=ho.layout.hierarchy(),id=[1,1];function e(ii,im,ip,io){var ig=ii.children;ii.x=im;ii.y=ii.depth*io;ii.dx=ip;ii.dy=io;if(ig&&(ih=ig.length)){var ij=-1,ih,il,ik;ip=ii.value?ip/ii.value:0;while(++ij<ih){e(il=ig[ij],im,ik=il.value*ip,io);im+=ik}}}function ie(ii){var ih=ii.children,ij=0;if(ih&&(ik=ih.length)){var ig=-1,ik;while(++ig<ik){ij=Math.max(ij,ie(ih[ig]))}}return 1+ij}function d3(ii,ih){var ig=ic.call(this,ii,ih);e(ig[0],0,id[0],id[1]/ie(ig[0]));return ig}d3.size=function(ig){if(!arguments.length){return id}id=ig;return d3};return gs(d3,ic)};ho.layout.pie=function(){var ig=Number,id=T,ic=0,d3=f7,ie=0;function e(il){var ij=il.length,it=il.map(function(iw,iv){return +ig.call(e,iw,iv)}),ip=+(typeof ic==="function"?ic.apply(this,arguments):ic),iu=(typeof d3==="function"?d3.apply(this,arguments):d3)-ip,ii=Math.min(Math.abs(iu)/ij,+(typeof ie==="function"?ie.apply(this,arguments):ie)),iq=ii*(iu<0?-1:1),io=ho.sum(it),ik=io?(iu-ij*iq)/io:0,im=ho.range(ij),ih=[],ir;if(id!=null){im.sort(id===T?function(iw,iv){return it[iv]-it[iw]}:function(iw,iv){return id(il[iw],il[iv])})}im.forEach(function(iv){ih[iv]={data:il[iv],value:ir=it[iv],startAngle:ip,endAngle:ip+=ir*ik+iq,padAngle:ii}});return ih}e.value=function(ih){if(!arguments.length){return ig}ig=ih;return e};e.sort=function(ih){if(!arguments.length){return id}id=ih;return e};e.startAngle=function(ih){if(!arguments.length){return ic}ic=ih;return e};e.endAngle=function(ih){if(!arguments.length){return d3}d3=ih;return e};e.padAngle=function(ih){if(!arguments.length){return ie}ie=ih;return e};return e};var T={};ho.layout.stack=function(){var id=gl,ic=bR,ig=fD,ie=fE,d3=am,ih=ak;function e(iq,it){if(!(ij=iq.length)){return iq}var ir=iq.map(function(iw,iv){return id.call(e,iw,iv)});var iu=ir.map(function(iv){return iv.map(function(iw,ix){return[d3.call(e,iw,ix),ih.call(e,iw,ix)]})});var im=ic.call(e,iu,it);ir=ho.permute(ir,im);iu=ho.permute(iu,im);var il=ig.call(e,iu,it);var ik=ir[0].length,ij,ip,io,ii;for(io=0;io<ik;++io){ie.call(e,ir[0][io],ii=il[io],iu[0][io][1]);for(ip=1;ip<ij;++ip){ie.call(e,ir[ip][io],ii+=iu[ip-1][io][1],iu[ip][io][1])}}return iq}e.values=function(ii){if(!arguments.length){return id}id=ii;return e};e.order=function(ii){if(!arguments.length){return ic}ic=typeof ii==="function"?ii:a5.get(ii)||bR;return e};e.offset=function(ii){if(!arguments.length){return ig}ig=typeof ii==="function"?ii:af.get(ii)||fD;return e};e.x=function(ii){if(!arguments.length){return d3}d3=ii;return e};e.y=function(ii){if(!arguments.length){return ih}ih=ii;return e};e.out=function(ii){if(!arguments.length){return ie}ie=ii;return e};return e};function am(e){return e.x}function ak(e){return e.y}function fE(d3,e,ic){d3.y0=e;d3.y=ic}var a5=ho.map({"inside-out":function(ie){var ic=ie.length,ig,id,ik=ie.map(bX),ih=ie.map(dt),ii=ho.range(ic).sort(function(io,im){return ik[io]-ik[im]}),ij=0,e=0,il=[],d3=[];for(ig=0;ig<ic;++ig){id=ii[ig];if(ij<e){ij+=ih[id];il.push(id)}else{e+=ih[id];d3.push(id)}}return d3.reverse().concat(il)},reverse:function(e){return ho.range(e.length).reverse()},"default":bR});var af=ho.map({silhouette:function(ie){var d3=ie.length,ic=ie[0].length,ih=[],ii=0,ig,id,e,ij=[];for(id=0;id<ic;++id){for(ig=0,e=0;ig<d3;ig++){e+=ie[ig][id][1]}if(e>ii){ii=e}ih.push(e)}for(id=0;id<ic;++id){ij[id]=(ii-ih[id])/2}return ij},wiggle:function(ih){var d3=ih.length,ik=ih[0],ic=ik.length,ii,ig,ie,io,im,ij,ip,e,id,il=[];il[0]=e=id=0;for(ig=1;ig<ic;++ig){for(ii=0,io=0;ii<d3;++ii){io+=ih[ii][ig][1]}for(ii=0,im=0,ip=ik[ig][0]-ik[ig-1][0];ii<d3;++ii){for(ie=0,ij=(ih[ii][ig][1]-ih[ii][ig-1][1])/(2*ip);ie<ii;++ie){ij+=(ih[ie][ig][1]-ih[ie][ig-1][1])/ip}im+=ij*ih[ii][ig][1]}il[ig]=e-=io?im/io*ip:0;if(e<id){id=e}}for(ig=0;ig<ic;++ig){il[ig]-=id}return il},expand:function(ig){var ii=ig.length,e=ig[0].length,d3=1/ii,id,ic,ih,ie=[];for(ic=0;ic<e;++ic){for(id=0,ih=0;id<ii;id++){ih+=ig[id][ic][1]}if(ih){for(id=0;id<ii;id++){ig[id][ic][1]/=ih}}else{for(id=0;id<ii;id++){ig[id][ic][1]=d3}}}for(ic=0;ic<e;++ic){ie[ic]=0}return ie},zero:fD});function bR(e){return ho.range(e.length)}function fD(id){var d3=-1,e=id[0].length,ic=[];while(++d3<e){ic[d3]=0}return ic}function bX(ig){var id=1,ic=0,d3=ig[0][1],e,ie=ig.length;for(;id<ie;++id){if((e=ig[id][1])>d3){ic=id;d3=e}}return ic}function dt(e){return e.reduce(fC,0)}function fC(e,d3){return e+d3[1]}ho.layout.histogram=function(){var ie=true,d3=Number,e=bj,ic=hx;function id(ij,ik){var iq=[],io=ij.map(d3,this),il=e.call(this,io,ik),ip=ic.call(this,il,io,ik),ir,ik=-1,ig=io.length,ih=ip.length-1,ii=ie?1:1/ig,im;while(++ik<ih){ir=iq[ik]=[];ir.dx=ip[ik+1]-(ir.x=ip[ik]);ir.y=0}if(ih>0){ik=-1;while(++ik<ig){im=io[ik];if(im>=il[0]&&im<=il[1]){ir=iq[ho.bisect(ip,im,1,ih)-1];ir.y+=ii;ir.push(ij[ik])}}}return iq}id.value=function(ig){if(!arguments.length){return d3}d3=ig;return id};id.range=function(ig){if(!arguments.length){return e}e=Q(ig);return id};id.bins=function(ig){if(!arguments.length){return ic}ic=typeof ig==="number"?function(ih){return i(ih,ig)
}:Q(ig);return id};id.frequency=function(ig){if(!arguments.length){return ie}ie=!!ig;return id};return id};function hx(d3,e){return i(d3,Math.ceil(Math.log(e.length)/Math.LN2+1))}function i(id,ig){var ic=-1,d3=+id[0],e=(id[1]-d3)/ig,ie=[];while(++ic<=ig){ie[ic]=e*ic+d3}return ie}function bj(e){return[ho.min(e),ho.max(e)]}ho.layout.pack=function(){var d3=ho.layout.hierarchy().sort(eA),ie=0,id=[1,1],e;function ic(io,ij){var ii=d3.call(this,io,ij),ih=ii[0],ig=id[0],ik=id[1],il=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};ih.x=ih.y=0;gM(ih,function(ip){ip.r=+il(ip.value)});gM(ih,S);if(ie){var im=ie*(e?1:Math.max(2*ih.r/ig,2*ih.r/ik))/2;gM(ih,function(ip){ip.r+=im});gM(ih,S);gM(ih,function(ip){ip.r-=im})}fm(ih,ig/2,ik/2,e?1:1/Math.max(2*ih.r/ig,2*ih.r/ik));return ii}ic.size=function(ig){if(!arguments.length){return id}id=ig;return ic};ic.radius=function(ig){if(!arguments.length){return e}e=ig==null||typeof ig==="function"?ig:+ig;return ic};ic.padding=function(ig){if(!arguments.length){return ie}ie=+ig;return ic};return gs(ic,d3)};function eA(d3,e){return d3.value-e.value}function bQ(d3,e){var ic=d3._pack_next;d3._pack_next=e;e._pack_prev=d3;e._pack_next=ic;ic._pack_prev=e}function be(d3,e){d3._pack_next=e;e._pack_prev=d3}function em(ic,e){var id=e.x-ic.x,d3=e.y-ic.y,ie=ic.r+e.r;return 0.999*ie*ie>id*id+d3*d3}function S(im){if(!(il=im.children)||!(ik=il.length)){return}var il,ir=Infinity,iw=-Infinity,e=Infinity,ie=-Infinity,iv,iu,it,iq,ip,io,ik;function ic(ix){ir=Math.min(ix.x-ix.r,ir);iw=Math.max(ix.x+ix.r,iw);e=Math.min(ix.y-ix.r,e);ie=Math.max(ix.y+ix.r,ie)}il.forEach(aQ);iv=il[0];iv.x=-iv.r;iv.y=0;ic(iv);if(ik>1){iu=il[1];iu.x=iu.r;iu.y=0;ic(iu);if(ik>2){it=il[2];bd(iv,iu,it);ic(it);bQ(iv,it);iv._pack_prev=it;bQ(it,iu);iu=iv._pack_next;for(iq=3;iq<ik;iq++){bd(iv,iu,it=il[iq]);var d3=0,ig=1,id=1;for(ip=iu._pack_next;ip!==iu;ip=ip._pack_next,ig++){if(em(ip,it)){d3=1;break}}if(d3==1){for(io=iv._pack_prev;io!==ip._pack_prev;io=io._pack_prev,id++){if(em(io,it)){break}}}if(d3){if(ig<id||ig==id&&iu.r<iv.r){be(iv,iu=ip)}else{be(iv=io,iu)}iq--}else{bQ(iv,it);iu=it;ic(it)}}}}var ii=(ir+iw)/2,ih=(e+ie)/2,ij=0;for(iq=0;iq<ik;iq++){it=il[iq];it.x-=ii;it.y-=ih;ij=Math.max(ij,it.r+Math.sqrt(it.x*it.x+it.y*it.y))}im.r=ij;il.forEach(eP)}function aQ(e){e._pack_next=e._pack_prev=e}function eP(e){delete e._pack_next;delete e._pack_prev}function fm(ie,e,ih,d3){var id=ie.children;ie.x=e+=d3*ie.x;ie.y=ih+=d3*ie.y;ie.r*=d3;if(id){var ic=-1,ig=id.length;while(++ic<ig){fm(id[ic],e,ih,d3)}}}function bd(ie,ic,e){var ih=ie.r+e.r,ik=ic.x-ie.x,ii=ic.y-ie.y;if(ih&&(ik||ii)){var ij=ic.r+e.r,ig=ik*ik+ii*ii;ij*=ij;ih*=ih;var id=0.5+(ih-ij)/(2*ig),d3=Math.sqrt(Math.max(0,2*ij*(ih+ig)-(ih-=ig)*ih-ij*ij))/(2*ig);e.x=ie.x+id*ik+d3*ii;e.y=ie.y+id*ii-d3*ik}else{e.x=ie.x+ih;e.y=ie.y}}ho.layout.tree=function(){var ie=ho.layout.hierarchy().sort(null).value(null),d3=dz,ij=[1,1],ig=null;function ik(iu,iq){var im=ie.call(this,iu,iq),iw=im[0],iv=ii(iw);gM(iv,id),iv.parent.m=-iv.z;eu(iv,ih);if(ig){eu(iw,ic)}else{var io=iw,ix=iw,il=iw;eu(iw,function(iy){if(iy.x<io.x){io=iy}if(iy.x>ix.x){ix=iy}if(iy.depth>il.depth){il=iy}});var ip=d3(io,ix)/2-io.x,it=ij[0]/(ix.x+d3(ix,io)/2+ip),ir=ij[1]/(il.depth||1);eu(iw,function(iy){iy.x=(iy.x+ip)*it;iy.y=iy.depth*ir})}return im}function ii(ip){var im={A:null,children:[ip]},il=[im],io;while((io=il.pop())!=null){for(var ir=io.children,iu,iq=0,it=ir.length;iq<it;++iq){il.push((ir[iq]=iu={_:ir[iq],parent:io,children:(iu=ir[iq].children)&&iu.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:iq}).a=iu)}}return im.children[0]}function id(im){var ip=im.children,iq=im.parent.children,il=im.i?iq[im.i-1]:null;if(ip.length){dC(im);var io=(ip[0].z+ip[ip.length-1].z)/2;if(il){im.z=il.z+d3(im._,il._);im.m=im.z-io}else{im.z=io}}else{if(il){im.z=il.z+d3(im._,il._)}}im.parent.A=e(im,il,im.parent.A||iq[0])}function ih(il){il._.x=il.z+il.parent.m;il.m+=il.parent.m}function e(iy,ix,ir){if(ix){var io=iy,im=iy,iq=ix,ip=io.parent.children[0],iu=io.m,it=im.m,iw=iq.m,iv=ip.m,il;while(iq=aA(iq),io=hY(io),iq&&io){ip=hY(ip);im=aA(im);im.a=iy;il=iq.z+iw-io.z-iu+d3(iq._,io._);if(il>0){h0(fX(iq,iy,ir),iy,il);iu+=il;it+=il}iw+=iq.m;iu+=io.m;iv+=ip.m;it+=im.m}if(iq&&!aA(im)){im.t=iq;im.m+=iw-it}if(io&&!hY(ip)){ip.t=io;ip.m+=iu-iv;ir=iy}}return ir}function ic(il){il.x*=ij[0];il.y=il.depth*ij[1]}ik.separation=function(il){if(!arguments.length){return d3}d3=il;return ik};ik.size=function(il){if(!arguments.length){return ig?null:ij}ig=(ij=il)==null?ic:null;return ik};ik.nodeSize=function(il){if(!arguments.length){return ig?ij:null}ig=(ij=il)==null?null:ic;return ik};return gs(ik,ie)};function dz(d3,e){return d3.parent==e.parent?1:2}function hY(e){var d3=e.children;return d3.length?d3[0]:e.t}function aA(e){var d3=e.children,ic;return(ic=d3.length)?d3[ic-1]:e.t}function h0(ic,d3,e){var id=e/(d3.i-ic.i);d3.c-=id;d3.s+=e;ic.c+=id;d3.z+=e;d3.m+=e}function dC(ic){var d3=0,ig=0,ie=ic.children,id=ie.length,e;while(--id>=0){e=ie[id];e.z+=d3;e.m+=d3;d3+=e.s+(ig+=e.c)
}}function fX(d3,e,ic){return d3.a.parent===e.parent?d3.a:ic}ho.layout.cluster=function(){var ic=ho.layout.hierarchy().sort(null).value(null),ie=dz,id=[1,1],d3=false;function e(il,ik){var ig=ic.call(this,il,ik),im=ig[0],io,ip=0;gM(im,function(it){var ir=it.children;if(ir&&ir.length){it.x=bx(ir);it.y=bw(ir)}else{it.x=io?ip+=ie(it,io):0;it.y=0;io=it}});var ij=eC(im),iq=dF(im),ii=ij.x-ie(ij,iq)/2,ih=iq.x+ie(iq,ij)/2;gM(im,d3?function(ir){ir.x=(ir.x-im.x)*id[0];ir.y=(im.y-ir.y)*id[1]}:function(ir){ir.x=(ir.x-ii)/(ih-ii)*id[0];ir.y=(1-(im.y?ir.y/im.y:1))*id[1]});return ig}e.separation=function(ig){if(!arguments.length){return ie}ie=ig;return e};e.size=function(ig){if(!arguments.length){return d3?null:id}d3=(id=ig)==null;return e};e.nodeSize=function(ig){if(!arguments.length){return d3?id:null}d3=(id=ig)!=null;return e};return gs(e,ic)};function bw(e){return 1+ho.max(e,function(d3){return d3.y})}function bx(e){return e.reduce(function(d3,ic){return d3+ic.x},0)/e.length}function eC(d3){var e=d3.children;return e&&e.length?eC(e[0]):d3}function dF(d3){var e=d3.children,ic;return e&&(ic=e.length)?dF(e[ic-1]):d3}ho.layout.treemap=function(){var ij=ho.layout.hierarchy(),io=Math.round,iq=[1,1],ik=null,e=e6,il=false,ih,ig="squarify",ii=0.5*(1+Math.sqrt(5));function d3(iu,ir){var it=-1,ix=iu.length,iw,iv;while(++it<ix){iv=(iw=iu[it]).value*(ir<0?0:ir);iw.area=isNaN(iv)||iv<=0?0:iv}}function id(iw){var it=iw.children;if(it&&it.length){var iz=e(iw),iB=[],iy=it.slice(),ir,ix=Infinity,iv,iA=ig==="slice"?iz.dx:ig==="dice"?iz.dy:ig==="slice-dice"?iw.depth&1?iz.dy:iz.dx:Math.min(iz.dx,iz.dy),iu;d3(iy,iz.dx*iz.dy/iw.value);iB.area=0;while((iu=iy.length)>0){iB.push(ir=iy[iu-1]);iB.area+=ir.area;if(ig!=="squarify"||(iv=ic(iB,iA))<=ix){iy.pop();ix=iv}else{iB.area-=iB.pop().area;ie(iB,iA,iz,false);iA=Math.min(iz.dx,iz.dy);iB.length=iB.area=0;ix=Infinity}}if(iB.length){ie(iB,iA,iz,true);iB.length=iB.area=0}it.forEach(id)}}function ip(iv){var ir=iv.children;if(ir&&ir.length){var iu=e(iv),it=ir.slice(),ix,iw=[];d3(it,iu.dx*iu.dy/iv.value);iw.area=0;while(ix=it.pop()){iw.push(ix);iw.area+=ix.area;if(ix.z!=null){ie(iw,ix.z?iu.dx:iu.dy,iu,!it.length);iw.length=iw.area=0}}ir.forEach(ip)}}function ic(ix,it){var iv=ix.area,iw,iz=0,ir=Infinity,iu=-1,iy=ix.length;while(++iu<iy){if(!(iw=ix[iu].area)){continue}if(iw<ir){ir=iw}if(iw>iz){iz=iw}}iv*=iv;it*=it;return iv?Math.max(it*iz*ii/iv,iv/(it*ir*ii)):Infinity}function ie(iB,iA,iw,iz){var iu=-1,it=iB.length,ix=iw.x,iv=iw.y,iy=iA?io(iB.area/iA):0,ir;if(iA==iw.dx){if(iz||iy>iw.dy){iy=iw.dy}while(++iu<it){ir=iB[iu];ir.x=ix;ir.y=iv;ir.dy=iy;ix+=ir.dx=Math.min(iw.x+iw.dx-ix,iy?io(ir.area/iy):0)}ir.z=true;ir.dx+=iw.x+iw.dx-ix;iw.y+=iy;iw.dy-=iy}else{if(iz||iy>iw.dx){iy=iw.dx}while(++iu<it){ir=iB[iu];ir.x=ix;ir.y=iv;ir.dx=iy;iv+=ir.dy=Math.min(iw.y+iw.dy-iv,iy?io(ir.area/iy):0)}ir.z=false;ir.dy+=iw.y+iw.dy-iv;iw.x+=iy;iw.dx-=iy}}function im(iu){var it=ih||ij(iu),ir=it[0];ir.x=ir.y=0;if(ir.value){ir.dx=iq[0],ir.dy=iq[1]}else{ir.dx=ir.dy=0}if(ih){ij.revalue(ir)}d3([ir],ir.dx*ir.dy/ir.value);(ih?ip:id)(ir);if(il){ih=it}return it}im.size=function(ir){if(!arguments.length){return iq}iq=ir;return im};im.padding=function(ir){if(!arguments.length){return ik}function iv(iw){var ix=ir.call(im,iw,iw.depth);return ix==null?e6(iw):aZ(iw,typeof ix==="number"?[ix,ix,ix,ix]:ix)}function iu(iw){return aZ(iw,ir)}var it;e=(ik=ir)==null?e6:(it=typeof ir)==="function"?iv:it==="number"?(ir=[ir,ir,ir,ir],iu):iu;return im};im.round=function(ir){if(!arguments.length){return io!=Number}io=ir?Math.round:Number;return im};im.sticky=function(ir){if(!arguments.length){return il}il=ir;ih=null;return im};im.ratio=function(ir){if(!arguments.length){return ii}ii=ir;return im};im.mode=function(ir){if(!arguments.length){return ig}ig=ir+"";return im};return gs(im,ij)};function e6(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function aZ(id,ie){var e=id.x+ie[3],ig=id.y+ie[0],ic=id.dx-ie[1]-ie[3],d3=id.dy-ie[0]-ie[2];if(ic<0){e+=ic/2;ic=0}if(d3<0){ig+=d3/2;d3=0}return{x:e,y:ig,dx:ic,dy:d3}}ho.random={normal:function(d3,e){var ic=arguments.length;if(ic<2){e=1}if(ic<1){d3=0}return function(){var id,ig,ie;do{id=Math.random()*2-1;ig=Math.random()*2-1;ie=id*id+ig*ig}while(!ie||ie>1);return d3+e*id*Math.sqrt(-2*Math.log(ie)/ie)}},logNormal:function(){var e=ho.random.normal.apply(ho,arguments);return function(){return Math.exp(e())}},bates:function(e){var d3=ho.random.irwinHall(e);return function(){return d3()/e}},irwinHall:function(e){return function(){for(var ic=0,d3=0;d3<e;d3++){ic+=Math.random()}return ic}}};ho.scale={};function es(d3){var ic=d3[0],e=d3[d3.length-1];return ic<e?[ic,e]:[e,ic]}function aY(e){return e.rangeExtent?e.rangeExtent():es(e.range())}function aF(ie,e,ig,ic){var d3=ig(ie[0],ie[1]),id=ic(e[0],e[1]);return function(ih){return id(d3(ih))}}function gi(ih,ie){var ig=0,id=ih.length-1,ic=ih[ig],d3=ih[id],e;if(d3<ic){e=ig,ig=id,id=e;e=ic,ic=d3,d3=e}ih[ig]=ie.floor(ic);ih[id]=ie.ceil(d3);return ih}function a6(e){return e?{floor:function(d3){return Math.floor(d3/e)*e
},ceil:function(d3){return Math.ceil(d3/e)*e}}:eB}var eB={floor:gl,ceil:gl};function L(ih,d3,ii,ie){var id=[],ig=[],ic=0,e=Math.min(ih.length,d3.length)-1;if(ih[e]<ih[0]){ih=ih.slice().reverse();d3=d3.slice().reverse()}while(++ic<=e){id.push(ii(ih[ic-1],ih[ic]));ig.push(ie(d3[ic-1],d3[ic]))}return function(ij){var ik=ho.bisect(ih,ij,1,e)-1;return ig[ik](id[ik](ij))}}ho.scale.linear=function(){return ei([0,1],[0,1],fB,false)};function ei(ig,id,ie,ii){var ic,d3;function e(){var ij=Math.min(ig.length,id.length)>2?L:aF,ik=ii?ay:hw;ic=ij(ig,id,ik,ie);d3=ij(id,ig,ik,fB);return ih}function ih(ij){return ic(ij)}ih.invert=function(ij){return d3(ij)};ih.domain=function(ij){if(!arguments.length){return ig}ig=ij.map(Number);return e()};ih.range=function(ij){if(!arguments.length){return id}id=ij;return e()};ih.rangeRound=function(ij){return ih.range(ij).interpolate(fw)};ih.clamp=function(ij){if(!arguments.length){return ii}ii=ij;return e()};ih.interpolate=function(ij){if(!arguments.length){return ie}ie=ij;return e()};ih.ticks=function(ij){return e1(ig,ij)};ih.tickFormat=function(ij,ik){return e9(ig,ij,ik)};ih.nice=function(ij){aL(ig,ij);return e()};ih.copy=function(){return ei(ig,id,ie,ii)};return e()}function f9(d3,e){return ho.rebind(d3,e,"range","rangeRound","interpolate","clamp")}function aL(d3,e){gi(d3,a6(p(d3,e)[2]));gi(d3,a6(p(d3,e)[2]));return d3}function p(ig,e){if(e==null){e=10}var ic=es(ig),d3=ic[1]-ic[0],ie=Math.pow(10,Math.floor(Math.log(d3/e)/Math.LN10)),id=e/d3*ie;if(id<=0.15){ie*=10}else{if(id<=0.35){ie*=5}else{if(id<=0.75){ie*=2}}}ic[0]=Math.ceil(ic[0]/ie)*ie;ic[1]=Math.floor(ic[1]/ie)*ie+ie*0.5;ic[2]=ie;return ic}function e1(d3,e){return ho.range.apply(ho,p(d3,e))}function e9(ie,e,ig){var d3=p(ie,e);if(ig){var ic=cz.exec(ig);ic.shift();if(ic[8]==="s"){var id=ho.formatPrefix(Math.max(cG(d3[0]),cG(d3[1])));if(!ic[7]){ic[7]="."+gW(id.scale(d3[2]))}ic[8]="f";ig=ho.format(ic.join(""));return function(ih){return ig(id.scale(ih))+id.symbol}}if(!ic[7]){ic[7]="."+x(ic[8],d3)}ig=ic.join("")}else{ig=",."+gW(d3[2])+"f"}return ho.format(ig)}var hX={s:1,g:1,p:1,r:1,e:1};function gW(e){return -Math.floor(Math.log(e)/Math.LN10+0.01)}function x(d3,e){var ic=gW(e[2]);return d3 in hX?Math.abs(ic-gW(Math.max(cG(e[0]),cG(e[1]))))+ +(d3!=="e"):ic-(d3==="%")*2}ho.scale.log=function(){return gG(ho.scale.linear().domain([0,1]),10,true,[1,10])};function gG(d3,ig,e,ie){function ic(ii){return(e?Math.log(ii<0?0:ii):-Math.log(ii>0?0:-ii))/Math.log(ig)}function id(ii){return e?Math.pow(ig,ii):-Math.pow(ig,-ii)}function ih(ii){return d3(ic(ii))}ih.invert=function(ii){return id(d3.invert(ii))};ih.domain=function(ii){if(!arguments.length){return ie}e=ii[0]>=0;d3.domain((ie=ii.map(Number)).map(ic));return ih};ih.base=function(ii){if(!arguments.length){return ig}ig=+ii;d3.domain(ie.map(ic));return ih};ih.nice=function(){var ii=gi(ie.map(ic),e?Math:gL);d3.domain(ii);ie=ii.map(id);return ih};ih.ticks=function(){var io=es(ie),ip=[],il=io[0],ij=io[1],im=Math.floor(ic(il)),ik=Math.ceil(ic(ij)),iq=ig%1?2:ig;if(isFinite(ik-im)){if(e){for(;im<ik;im++){for(var ii=1;ii<iq;ii++){ip.push(id(im)*ii)}}ip.push(id(im))}else{ip.push(id(im));for(;im++<ik;){for(var ii=iq-1;ii>0;ii--){ip.push(id(im)*ii)}}}for(im=0;ip[im]<il;im++){}for(ik=ip.length;ip[ik-1]>ij;ik--){}ip=ip.slice(im,ik)}return ip};ih.tickFormat=function(ik,ij){if(!arguments.length){return ds}if(arguments.length<2){ij=ds}else{if(typeof ij!=="function"){ij=ho.format(ij)}}var ii=Math.max(1,ig*ik/ih.ticks().length);return function(im){var il=im/id(Math.round(ic(im)));if(il*ig<ig-0.5){il*=ig}return il<=ii?ij(im):""}};ih.copy=function(){return gG(d3.copy(),ig,e,ie)};return f9(ih,d3)}var ds=ho.format(".0e"),gL={floor:function(e){return -Math.ceil(-e)},ceil:function(e){return -Math.floor(-e)}};ho.scale.pow=function(){return gr(ho.scale.linear(),1,[0,1])};function gr(e,id,ic){var d3=fS(id),ie=fS(1/id);function ig(ih){return e(d3(ih))}ig.invert=function(ih){return ie(e.invert(ih))};ig.domain=function(ih){if(!arguments.length){return ic}e.domain((ic=ih.map(Number)).map(d3));return ig};ig.ticks=function(ih){return e1(ic,ih)};ig.tickFormat=function(ih,ii){return e9(ic,ih,ii)};ig.nice=function(ih){return ig.domain(aL(ic,ih))};ig.exponent=function(ih){if(!arguments.length){return id}d3=fS(id=ih);ie=fS(1/id);e.domain(ic.map(d3));return ig};ig.copy=function(){return gr(e.copy(),id,ic)};return f9(ig,e)}function fS(d3){return function(e){return e<0?-Math.pow(-e,d3):Math.pow(e,d3)}}ho.scale.sqrt=function(){return ho.scale.pow().exponent(0.5)};ho.scale.ordinal=function(){return cs([],{t:"range",a:[[]]})};function cs(ig,ic){var ie,d3,id;function ih(ii){return d3[((ie.get(ii)||(ic.t==="range"?ie.set(ii,ig.push(ii)):NaN))-1)%d3.length]}function e(ij,ii){return ho.range(ig.length).map(function(ik){return ij+ii*ik})}ih.domain=function(ii){if(!arguments.length){return ig}ig=[];ie=new aH();var ik=-1,il=ii.length,ij;while(++ik<il){if(!ie.has(ij=ii[ik])){ie.set(ij,ig.push(ij))}}return ih[ic.t].apply(ih,ic.a)};ih.range=function(ii){if(!arguments.length){return d3
}d3=ii;id=0;ic={t:"range",a:arguments};return ih};ih.rangePoints=function(ii,il){if(arguments.length<2){il=0}var im=ii[0],ij=ii[1],ik=ig.length<2?(im=(im+ij)/2,0):(ij-im)/(ig.length-1+il);d3=e(im+ik*il/2,ik);id=0;ic={t:"rangePoints",a:arguments};return ih};ih.rangeRoundPoints=function(ii,il){if(arguments.length<2){il=0}var im=ii[0],ij=ii[1],ik=ig.length<2?(im=ij=Math.round((im+ij)/2),0):(ij-im)/(ig.length-1+il)|0;d3=e(im+Math.round(ik*il/2+(ij-im-(ig.length-1+il)*ik)/2),ik);id=0;ic={t:"rangeRoundPoints",a:arguments};return ih};ih.rangeBands=function(ij,io,ii){if(arguments.length<2){io=0}if(arguments.length<3){ii=io}var ik=ij[1]<ij[0],ip=ij[ik-0],il=ij[1-ik],im=(il-ip)/(ig.length-io+2*ii);d3=e(ip+im*ii,im);if(ik){d3.reverse()}id=im*(1-io);ic={t:"rangeBands",a:arguments};return ih};ih.rangeRoundBands=function(ij,io,ii){if(arguments.length<2){io=0}if(arguments.length<3){ii=io}var ik=ij[1]<ij[0],ip=ij[ik-0],il=ij[1-ik],im=Math.floor((il-ip)/(ig.length-io+2*ii));d3=e(ip+Math.round((il-ip-(ig.length-io)*im)/2),im);if(ik){d3.reverse()}id=Math.round(im*(1-io));ic={t:"rangeRoundBands",a:arguments};return ih};ih.rangeBand=function(){return id};ih.rangeExtent=function(){return es(ic.a[0])};ih.copy=function(){return cs(ig,ic)};return ih.domain(ig)}ho.scale.category10=function(){return ho.scale.ordinal().range(cA)};ho.scale.category20=function(){return ho.scale.ordinal().range(ci)};ho.scale.category20b=function(){return ho.scale.ordinal().range(hc)};ho.scale.category20c=function(){return ho.scale.ordinal().range(ha)};var cA=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dw);var ci=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dw);var hc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dw);var ha=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dw);ho.scale.quantile=function(){return B([],[])};function B(ic,d3){var id;function e(){var ig=0,ih=d3.length;id=[];while(++ig<ih){id[ig-1]=ho.quantile(ic,ig/ih)}return ie}function ie(ig){if(!isNaN(ig=+ig)){return d3[ho.bisect(id,ig)]}}ie.domain=function(ig){if(!arguments.length){return ic}ic=ig.map(ht).filter(bb).sort(fh);return e()};ie.range=function(ig){if(!arguments.length){return d3}d3=ig;return e()};ie.quantiles=function(){return id};ie.invertExtent=function(ig){ig=d3.indexOf(ig);return ig<0?[NaN,NaN]:[ig>0?id[ig-1]:ic[0],ig<id.length?id[ig]:ic[ic.length-1]]};ie.copy=function(){return B(ic,d3)};return e()}ho.scale.quantize=function(){return dE(0,1,[0,1])};function dE(ie,ic,d3){var ig,id;function ih(ii){return d3[Math.max(0,Math.min(id,Math.floor(ig*(ii-ie))))]}function e(){ig=d3.length/(ic-ie);id=d3.length-1;return ih}ih.domain=function(ii){if(!arguments.length){return[ie,ic]}ie=+ii[0];ic=+ii[ii.length-1];return e()};ih.range=function(ii){if(!arguments.length){return d3}d3=ii;return e()};ih.invertExtent=function(ii){ii=d3.indexOf(ii);ii=ii<0?NaN:ii/ig+ie;return[ii,ii+1/ig]};ih.copy=function(){return dE(ie,ic,d3)};return e()}ho.scale.threshold=function(){return f4([0.5],[0,1])};function f4(d3,e){function ic(id){if(id<=id){return e[ho.bisect(d3,id)]}}ic.domain=function(id){if(!arguments.length){return d3}d3=id;return ic};ic.range=function(id){if(!arguments.length){return e}e=id;return ic};ic.invertExtent=function(id){id=e.indexOf(id);return[d3[id-1],d3[id]]};ic.copy=function(){return f4(d3,e)};return ic}ho.scale.identity=function(){return eT([0,1])};function eT(d3){function e(ic){return +ic}e.invert=e;e.domain=e.range=function(ic){if(!arguments.length){return d3}d3=ic.map(e);return e};e.ticks=function(ic){return e1(d3,ic)};e.tickFormat=function(ic,id){return e9(d3,ic,id)};e.copy=function(){return eT(d3)};return e}ho.svg={};function dn(){return 0}ho.svg.arc=function(){var ii=bB,id=cS,ie=dn,ij=fT,ih=gg,d3=an,ic=bL;function e(){var iv=Math.max(0,+ii.apply(this,arguments)),iu=Math.max(0,+id.apply(this,arguments)),iQ=ih.apply(this,arguments)-ep,iP=d3.apply(this,arguments)-ep,iA=Math.abs(iP-iQ),iD=iQ>iP?0:1;if(iu<iv){iN=iu,iu=iv,iv=iN}if(iA>=gF){return ig(iu,iD)+(iv?ig(iv,1-iD):"")+"Z"}var iN,iE,iH,iq,iS=0,iR=0,iz,ik,iy,iX,ix,iW,iw,iU,iO=[];if(iq=(+ic.apply(this,arguments)||0)/2){iH=ij===fT?Math.sqrt(iv*iv+iu*iu):+ij.apply(this,arguments);if(!iD){iR*=-1}if(iu){iR=cf(iH/iu*Math.sin(iq))}if(iv){iS=cf(iH/iv*Math.sin(iq))}}if(iu){iz=iu*Math.cos(iQ+iR);ik=iu*Math.sin(iQ+iR);iy=iu*Math.cos(iP-iR);iX=iu*Math.sin(iP-iR);var ir=Math.abs(iP-iQ-2*iR)<=ge?0:1;if(iR&&hE(iz,ik,iy,iX)===iD^ir){var iF=(iQ+iP)/2;iz=iu*Math.cos(iF);ik=iu*Math.sin(iF);iy=iX=null}}else{iz=ik=0}if(iv){ix=iv*Math.cos(iP-iS);iW=iv*Math.sin(iP-iS);iw=iv*Math.cos(iQ+iS);iU=iv*Math.sin(iQ+iS);var it=Math.abs(iQ-iP+2*iS)<=ge?0:1;
if(iS&&hE(ix,iW,iw,iU)===1-iD^it){var iG=(iQ+iP)/2;ix=iv*Math.cos(iG);iW=iv*Math.sin(iG);iw=iU=null}}else{ix=iW=0}if(iA>gn&&(iN=Math.min(Math.abs(iu-iv)/2,+ie.apply(this,arguments)))>0.001){iE=iv<iu^iD?0:1;var iT=iN,iV=iN;if(iA<ge){var iK=iw==null?[ix,iW]:iy==null?[iz,ik]:gj([iz,ik],[iw,iU],[iy,iX],[ix,iW]),ip=iz-iK[0],io=ik-iK[1],iM=iy-iK[0],iL=iX-iK[1],il=1/Math.sin(Math.acos((ip*iM+io*iL)/(Math.sqrt(ip*ip+io*io)*Math.sqrt(iM*iM+iL*iL)))/2),iI=Math.sqrt(iK[0]*iK[0]+iK[1]*iK[1]);iV=Math.min(iN,(iv-iI)/(il-1));iT=Math.min(iN,(iu-iI)/(il+1))}if(iy!=null){var iC=fd(iw==null?[ix,iW]:[iw,iU],[iz,ik],iu,iT,iD),im=fd([iy,iX],[ix,iW],iu,iT,iD);if(iN===iT){iO.push("M",iC[0],"A",iT,",",iT," 0 0,",iE," ",iC[1],"A",iu,",",iu," 0 ",1-iD^hE(iC[1][0],iC[1][1],im[1][0],im[1][1]),",",iD," ",im[1],"A",iT,",",iT," 0 0,",iE," ",im[0])}else{iO.push("M",iC[0],"A",iT,",",iT," 0 1,",iE," ",im[0])}}else{iO.push("M",iz,",",ik)}if(iw!=null){var iB=fd([iz,ik],[iw,iU],iv,-iV,iD),iJ=fd([ix,iW],iy==null?[iz,ik]:[iy,iX],iv,-iV,iD);if(iN===iV){iO.push("L",iJ[0],"A",iV,",",iV," 0 0,",iE," ",iJ[1],"A",iv,",",iv," 0 ",iD^hE(iJ[1][0],iJ[1][1],iB[1][0],iB[1][1]),",",1-iD," ",iB[1],"A",iV,",",iV," 0 0,",iE," ",iB[0])}else{iO.push("L",iJ[0],"A",iV,",",iV," 0 0,",iE," ",iB[0])}}else{iO.push("L",ix,",",iW)}}else{iO.push("M",iz,",",ik);if(iy!=null){iO.push("A",iu,",",iu," 0 ",ir,",",iD," ",iy,",",iX)}iO.push("L",ix,",",iW);if(iw!=null){iO.push("A",iv,",",iv," 0 ",it,",",1-iD," ",iw,",",iU)}}iO.push("Z");return iO.join("")}function ig(il,ik){return"M0,"+il+"A"+il+","+il+" 0 1,"+ik+" 0,"+-il+"A"+il+","+il+" 0 1,"+ik+" 0,"+il}e.innerRadius=function(ik){if(!arguments.length){return ii}ii=Q(ik);return e};e.outerRadius=function(ik){if(!arguments.length){return id}id=Q(ik);return e};e.cornerRadius=function(ik){if(!arguments.length){return ie}ie=Q(ik);return e};e.padRadius=function(ik){if(!arguments.length){return ij}ij=ik==fT?fT:Q(ik);return e};e.startAngle=function(ik){if(!arguments.length){return ih}ih=Q(ik);return e};e.endAngle=function(ik){if(!arguments.length){return d3}d3=Q(ik);return e};e.padAngle=function(ik){if(!arguments.length){return ic}ic=Q(ik);return e};e.centroid=function(){var il=(+ii.apply(this,arguments)+ +id.apply(this,arguments))/2,ik=(+ih.apply(this,arguments)+ +d3.apply(this,arguments))/2-ep;return[Math.cos(ik)*il,Math.sin(ik)*il]};return e};var fT="auto";function bB(e){return e.innerRadius}function cS(e){return e.outerRadius}function gg(e){return e.startAngle}function an(e){return e.endAngle}function bL(e){return e&&e.padAngle}function hE(d3,id,e,ic){return(d3-e)*id-(id-ic)*d3>0?0:1}function fd(d3,e,iz,iy,ii){var ix=d3[0]-e[0],ik=d3[1]-e[1],im=(ii?iy:-iy)/Math.sqrt(ix*ix+ik*ik),il=im*ik,ij=-im*ix,iC=d3[0]+il,ih=d3[1]+ij,iB=e[0]+il,ie=e[1]+ij,iA=(iC+iB)/2,ic=(ih+ie)/2,ir=iB-iC,ip=ie-ih,iG=ir*ir+ip*ip,iv=iz-iy,it=iC*ie-iB*ih,iD=(ip<0?-1:1)*Math.sqrt(Math.max(0,iv*iv*iG-it*it)),iw=(it*ip-ir*iD)/iG,iF=(-it*ir-ip*iD)/iG,iu=(it*ip+ir*iD)/iG,iE=(-it*ir+ip*iD)/iG,ig=iw-iA,iq=iF-ic,id=iu-iA,io=iE-ic;if(ig*ig+iq*iq>id*id+io*io){iw=iu,iF=iE}return[[iw-il,iF-ij],[iw*iz/iv,iF*iz/iv]]}function e8(d3){var e=hV,ii=hU,ih=ag,id=hR,ig=id.key,ie=0.7;function ic(im){var ip=[],it=[],io=-1,ij=im.length,ir,il=Q(e),ik=Q(ii);function iq(){ip.push("M",id(d3(it),ie))}while(++io<ij){if(ih.call(this,ir=im[io],io)){it.push([+il.call(this,ir,io),+ik.call(this,ir,io)])}else{if(it.length){iq();it=[]}}}if(it.length){iq()}return ip.length?ip.join(""):null}ic.x=function(ij){if(!arguments.length){return e}e=ij;return ic};ic.y=function(ij){if(!arguments.length){return ii}ii=ij;return ic};ic.defined=function(ij){if(!arguments.length){return ih}ih=ij;return ic};ic.interpolate=function(ij){if(!arguments.length){return ig}if(typeof ij==="function"){ig=id=ij}else{ig=(id=ce.get(ij)||hR).key}return ic};ic.tension=function(ij){if(!arguments.length){return ie}ie=ij;return ic};return ic}ho.svg.line=function(){return e8(gl)};var ce=ho.map({linear:hR,"linear-closed":Y,step:c9,"step-before":bl,"step-after":hy,basis:fc,"basis-open":bi,"basis-closed":cN,bundle:cQ,cardinal:dR,"cardinal-open":b4,"cardinal-closed":r,monotone:di});ce.forEach(function(e,d3){d3.key=e;d3.closed=/-closed$/.test(e)});function hR(e){return e.length>1?e.join("L"):e+"Z"}function Y(e){return e.join("L")+"Z"}function c9(d3){var e=0,ie=d3.length,id=d3[0],ic=[id[0],",",id[1]];while(++e<ie){ic.push("H",(id[0]+(id=d3[e])[0])/2,"V",id[1])}if(ie>1){ic.push("H",id[0])}return ic.join("")}function bl(d3){var e=0,ie=d3.length,id=d3[0],ic=[id[0],",",id[1]];while(++e<ie){ic.push("V",(id=d3[e])[1],"H",id[0])}return ic.join("")}function hy(d3){var e=0,ie=d3.length,id=d3[0],ic=[id[0],",",id[1]];while(++e<ie){ic.push("H",(id=d3[e])[0],"V",id[1])}return ic.join("")}function b4(d3,e){return d3.length<4?hR(d3):d3[1]+cX(d3.slice(1,-1),bW(d3,e))}function r(d3,e){return d3.length<3?Y(d3):d3[0]+cX((d3.push(d3[0]),d3),bW([d3[d3.length-2]].concat(d3,[d3[1]]),e))}function dR(d3,e){return d3.length<3?hR(d3):d3[0]+cX(d3,bW(d3,e))}function cX(ih,ig){if(ig.length<1||ih.length!=ig.length&&ih.length!=ig.length+2){return hR(ih)
}var ii=ih.length!=ig.length,il="",ij=ih[0],e=ih[1],ie=ig[0],ik=ie,ic=1;if(ii){il+="Q"+(e[0]-ie[0]*2/3)+","+(e[1]-ie[1]*2/3)+","+e[0]+","+e[1];ij=ih[1];ic=2}if(ig.length>1){ik=ig[1];e=ih[ic];ic++;il+="C"+(ij[0]+ie[0])+","+(ij[1]+ie[1])+","+(e[0]-ik[0])+","+(e[1]-ik[1])+","+e[0]+","+e[1];for(var d3=2;d3<ig.length;d3++,ic++){e=ih[ic];ik=ig[d3];il+="S"+(e[0]-ik[0])+","+(e[1]-ik[1])+","+e[0]+","+e[1]}}if(ii){var id=ih[ic];il+="Q"+(e[0]+ik[0]*2/3)+","+(e[1]+ik[1]*2/3)+","+id[0]+","+id[1]}return il}function bW(ih,ie){var ic=[],id=(1-ie)/2,ij,ii=ih[0],ig=ih[1],d3=1,e=ih.length;while(++d3<e){ij=ii;ii=ig;ig=ih[d3];ic.push([id*(ig[0]-ij[0]),id*(ig[1]-ij[1])])}return ic}function fc(ii){if(ii.length<3){return hR(ii)}var ic=1,d3=ii.length,id=ii[0],e=id[0],ig=id[1],ih=[e,e,e,(id=ii[1])[0]],ie=[ig,ig,ig,id[1]],ij=[e,",",ig,"L",gm(hn,ih),",",gm(hn,ie)];ii.push(ii[d3-1]);while(++ic<=d3){id=ii[ic];ih.shift();ih.push(id[0]);ie.shift();ie.push(id[1]);bP(ij,ih,ie)}ii.pop();ij.push("L",id);return ij.join("")}function bi(id){if(id.length<4){return hR(id)}var ig=[],ic=-1,ih=id.length,ie,d3=[0],e=[0];while(++ic<3){ie=id[ic];d3.push(ie[0]);e.push(ie[1])}ig.push(gm(hn,d3)+","+gm(hn,e));--ic;while(++ic<ih){ie=id[ic];d3.shift();d3.push(ie[0]);e.shift();e.push(ie[1]);bP(ig,d3,e)}return ig.join("")}function cN(ie){var ih,id=-1,ii=ie.length,e=ii+4,ig,ic=[],d3=[];while(++id<4){ig=ie[id%ii];ic.push(ig[0]);d3.push(ig[1])}ih=[gm(hn,ic),",",gm(hn,d3)];--id;while(++id<e){ig=ie[id%ii];ic.shift();ic.push(ig[0]);d3.shift();d3.push(ig[1]);bP(ih,ic,d3)}return ih.join("")}function cQ(ih,ig){var ic=ih.length-1;if(ic){var d3=ih[0][0],ie=ih[0][1],ik=ih[ic][0]-d3,ij=ih[ic][1]-ie,id=-1,e,ii;while(++id<=ic){e=ih[id];ii=id/ic;e[0]=ig*e[0]+(1-ig)*(d3+ii*ik);e[1]=ig*e[1]+(1-ig)*(ie+ii*ij)}}return fc(ih)}function gm(d3,e){return d3[0]*e[0]+d3[1]*e[1]+d3[2]*e[2]+d3[3]*e[3]}var hr=[0,2/3,1/3,0],hp=[0,1/3,2/3,0],hn=[0,1/6,2/3,1/6];function bP(d3,e,ic){d3.push("C",gm(hr,e),",",gm(hr,ic),",",gm(hp,e),",",gm(hp,ic),",",gm(hn,e),",",gm(hn,ic))}function h5(d3,e){return(e[1]-d3[1])/(e[0]-d3[0])}function d8(id){var ic=0,d3=id.length-1,e=[],ih=id[0],ig=id[1],ie=e[0]=h5(ih,ig);while(++ic<d3){e[ic]=(ie+(ie=h5(ih=ig,ig=id[ic+1])))/2}e[ic]=ie;return e}function at(ii){var ie=[],id,ih,ig,ij,e=d8(ii),ic=-1,d3=ii.length-1;while(++ic<d3){id=h5(ii[ic],ii[ic+1]);if(cG(id)<gn){e[ic]=e[ic+1]=0}else{ih=e[ic]/id;ig=e[ic+1]/id;ij=ih*ih+ig*ig;if(ij>9){ij=id*3/Math.sqrt(ij);e[ic]=ij*ih;e[ic+1]=ij*ig}}}ic=-1;while(++ic<=d3){ij=(ii[Math.min(d3,ic+1)][0]-ii[Math.max(0,ic-1)][0])/(6*(1+e[ic]*e[ic]));ie.push([ij||0,e[ic]*ij||0])}return ie}function di(e){return e.length<3?hR(e):e[0]+cX(e,at(e))}ho.svg.line.radial=function(){var e=e8(O);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function O(id){var e,ic=-1,ig=id.length,ie,d3;while(++ic<ig){e=id[ic];ie=e[0];d3=e[1]-ep;e[0]=ie*Math.cos(d3);e[1]=ie*Math.sin(d3)}return id}function h7(ie){var ic=hV,d3=hV,il=0,ij=hU,id=ag,ig=hR,im=ig.key,ii=ig,ih="L",ik=0.7;function e(it){var iv=[],io=[],iC=[],iu=-1,ip=it.length,ix,ir=Q(ic),iB=Q(il),iq=ic===d3?function(){return iz}:Q(d3),iA=il===ij?function(){return iy}:Q(ij),iz,iy;function iw(){iv.push("M",ig(ie(iC),ik),ih,ii(ie(io.reverse()),ik),"Z")}while(++iu<ip){if(id.call(this,ix=it[iu],iu)){io.push([iz=+ir.call(this,ix,iu),iy=+iB.call(this,ix,iu)]);iC.push([+iq.call(this,ix,iu),+iA.call(this,ix,iu)])}else{if(io.length){iw();io=[];iC=[]}}}if(io.length){iw()}return iv.length?iv.join(""):null}e.x=function(io){if(!arguments.length){return d3}ic=d3=io;return e};e.x0=function(io){if(!arguments.length){return ic}ic=io;return e};e.x1=function(io){if(!arguments.length){return d3}d3=io;return e};e.y=function(io){if(!arguments.length){return ij}il=ij=io;return e};e.y0=function(io){if(!arguments.length){return il}il=io;return e};e.y1=function(io){if(!arguments.length){return ij}ij=io;return e};e.defined=function(io){if(!arguments.length){return id}id=io;return e};e.interpolate=function(io){if(!arguments.length){return im}if(typeof io==="function"){im=ig=io}else{im=(ig=ce.get(io)||hR).key}ii=ig.reverse||ig;ih=ig.closed?"M":"L";return e};e.tension=function(io){if(!arguments.length){return ik}ik=io;return e};return e}bl.reverse=hy;hy.reverse=bl;ho.svg.area=function(){return h7(gl)};ho.svg.area.radial=function(){var e=h7(O);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};ho.svg.chord=function(){var e=hJ,ii=hQ,ih=G,ij=gg,ie=an;function ig(ip,im){var io=ik(this,e,ip,im),il=ik(this,ii,ip,im);return"M"+io.p0+d3(io.r,io.p1,io.a1-io.a0)+(ic(io,il)?id(io.r,io.p1,io.r,io.p0):id(io.r,io.p1,il.r,il.p0)+d3(il.r,il.p1,il.a1-il.a0)+id(il.r,il.p1,io.r,io.p0))+"Z"}function ik(ip,it,iu,iq){var io=it.call(ip,iu,iq),ir=ih.call(ip,io,iq),im=ij.call(ip,io,iq)-ep,il=ie.call(ip,io,iq)-ep;return{r:ir,a0:im,a1:il,p0:[ir*Math.cos(im),ir*Math.sin(im)],p1:[ir*Math.cos(il),ir*Math.sin(il)]}}function ic(im,il){return im.a0==il.a0&&im.a1==il.a1
}function d3(im,io,il){return"A"+im+","+im+" 0 "+ +(il>ge)+",1 "+io}function id(im,ip,il,io){return"Q 0,0 "+io}ig.radius=function(il){if(!arguments.length){return ih}ih=Q(il);return ig};ig.source=function(il){if(!arguments.length){return e}e=Q(il);return ig};ig.target=function(il){if(!arguments.length){return ii}ii=Q(il);return ig};ig.startAngle=function(il){if(!arguments.length){return ij}ij=Q(il);return ig};ig.endAngle=function(il){if(!arguments.length){return ie}ie=Q(il);return ig};return ig};function G(e){return e.radius}ho.svg.diagonal=function(){var ic=hJ,id=hQ,e=m;function d3(ij,ig){var ik=ic.call(this,ij,ig),ih=id.call(this,ij,ig),ie=(ik.y+ih.y)/2,ii=[ik,{x:ik.x,y:ie},{x:ih.x,y:ie},ih];ii=ii.map(e);return"M"+ii[0]+"C"+ii[1]+" "+ii[2]+" "+ii[3]}d3.source=function(ie){if(!arguments.length){return ic}ic=Q(ie);return d3};d3.target=function(ie){if(!arguments.length){return id}id=Q(ie);return d3};d3.projection=function(ie){if(!arguments.length){return e}e=ie;return d3};return d3};function m(e){return[e.x,e.y]}ho.svg.diagonal.radial=function(){var ic=ho.svg.diagonal(),e=m,d3=ic.projection;ic.projection=function(id){return arguments.length?d3(n(e=id)):e};return ic};function n(e){return function(){var id=e.apply(this,arguments),ic=id[0],d3=id[1]-ep;return[ic*Math.cos(d3),ic*Math.sin(d3)]}}ho.svg.symbol=function(){var d3=aU,e=e4;function ic(ie,id){return(hO.get(d3.call(this,ie,id))||cg)(e.call(this,ie,id))}ic.type=function(id){if(!arguments.length){return d3}d3=Q(id);return ic};ic.size=function(id){if(!arguments.length){return e}e=Q(id);return ic};return ic};function e4(){return 64}function aU(){return"circle"}function cg(e){var d3=Math.sqrt(e/ge);return"M0,"+d3+"A"+d3+","+d3+" 0 1,1 0,"+-d3+"A"+d3+","+d3+" 0 1,1 0,"+d3+"Z"}var hO=ho.map({circle:cg,cross:function(e){var d3=Math.sqrt(e/5)/2;return"M"+-3*d3+","+-d3+"H"+-d3+"V"+-3*d3+"H"+d3+"V"+-d3+"H"+3*d3+"V"+d3+"H"+d3+"V"+3*d3+"H"+-d3+"V"+d3+"H"+-3*d3+"Z"},diamond:function(e){var d3=Math.sqrt(e/(2*cm)),ic=d3*cm;return"M0,"+-d3+"L"+ic+",0"+" 0,"+d3+" "+-ic+",0"+"Z"},square:function(e){var d3=Math.sqrt(e)/2;return"M"+-d3+","+-d3+"L"+d3+","+-d3+" "+d3+","+d3+" "+-d3+","+d3+"Z"},"triangle-down":function(e){var ic=Math.sqrt(e/b8),d3=ic*b8/2;return"M0,"+d3+"L"+ic+","+-d3+" "+-ic+","+-d3+"Z"},"triangle-up":function(e){var ic=Math.sqrt(e/b8),d3=ic*b8/2;return"M0,"+-d3+"L"+ic+","+d3+" "+-ic+","+d3+"Z"}});ho.svg.symbolTypes=hO.keys();var b8=Math.sqrt(3),cm=Math.tan(30*I);dY.transition=function(e){var d3=aq||++hb,il=gz(e),ie=[],io,ih,ik=d4||{time:Date.now(),ease:av,delay:0,duration:250};for(var ii=-1,ig=this.length;++ii<ig;){ie.push(io=[]);for(var im=this[ii],ij=-1,ic=im.length;++ij<ic;){if(ih=im[ij]){fA(ih,ij,il,d3,ik)}io.push(ih)}}return gR(ie,il,d3)};dY.interrupt=function(e){return this.each(e==null?cU:dv(gz(e)))};var cU=dv(gz());function dv(e){return function(){var ic,d3,id;if((ic=this[e])&&(id=ic[d3=ic.active])){id.timer.c=null;id.timer.t=NaN;if(--ic.count){delete ic[d3]}else{delete this[e]}ic.active+=0.5;id.event&&id.event.interrupt.call(this,this.__data__,id.index)}}}function gR(e,d3,ic){h6(e,ev);e.namespace=d3;e.id=ic;return e}var ev=[],hb=0,aq,d4;ev.call=dY.call;ev.empty=dY.empty;ev.node=dY.node;ev.size=dY.size;ho.transition=function(d3,e){return d3&&d3.transition?aq?d3.transition(e):d3:ho.selection().transition(d3)};ho.transition.prototype=ev;ev.select=function(ih){var e=this.id,ik=this.namespace,id=[],im,d3,ig;ih=y(ih);for(var ii=-1,ie=this.length;++ii<ie;){id.push(im=[]);for(var il=this[ii],ij=-1,ic=il.length;++ij<ic;){if((ig=il[ij])&&(d3=ih.call(ig,ig.__data__,ij,ii))){if("__data__" in ig){d3.__data__=ig.__data__}fA(d3,ij,ik,e,ig[ik][e]);im.push(d3)}else{im.push(null)}}}return gR(id,ik,e)};ev.selectAll=function(ik){var d3=this.id,iq=this.namespace,ih=[],it,e,ij,ic,ip;ik=c1(ik);for(var im=-1,ii=this.length;++im<ii;){for(var ir=this[im],io=-1,ig=ir.length;++io<ig;){if(ij=ir[io]){ip=ij[iq][d3];e=ik.call(ij,ij.__data__,io,im);ih.push(it=[]);for(var il=-1,ie=e.length;++il<ie;){if(ic=e[il]){fA(ic,il,iq,d3,ip)}it.push(ic)}}}}return gR(ih,iq,d3)};ev.filter=function(e){var ic=[],ij,ii,id;if(typeof e!=="function"){e=a8(e)}for(var ig=0,ie=this.length;ig<ie;ig++){ic.push(ij=[]);for(var ii=this[ig],ih=0,d3=ii.length;ih<d3;ih++){if((id=ii[ih])&&e.call(id,id.__data__,ih,ig)){ij.push(id)}}}return gR(ic,this.namespace,this.id)};ev.tween=function(e,d3){var ie=this.id,ic=this.namespace;if(arguments.length<2){return this.node()[ic][ie].tween.get(e)}return cI(this,d3==null?function(id){id[ic][ie].tween.remove(e)}:function(id){id[ic][ie].tween.set(e,d3)})};function hN(e,d3,ig,ic){var ih=e.id,ie=e.namespace;return cI(e,typeof ig==="function"?function(ij,ii,id){ij[ie][ih].tween.set(d3,ic(ig.call(ij,ij.__data__,ii,id)))}:(ig=ic(ig),function(id){id[ie][ih].tween.set(d3,ig)}))}ev.attr=function(e,ig){if(arguments.length<2){for(ig in e){this.attr(ig,e[ig])}return this}var id=e=="transform"?eg:fB,ic=ho.ns.qualify(e);function d3(){this.removeAttribute(ic)}function ii(){this.removeAttributeNS(ic.space,ic.local)
}function ie(ij){return ij==null?d3:(ij+="",function(){var ik=this.getAttribute(ic),il;return ik!==ij&&(il=id(ik,ij),function(im){this.setAttribute(ic,il(im))})})}function ih(ij){return ij==null?ii:(ij+="",function(){var ik=this.getAttributeNS(ic.space,ic.local),il;return ik!==ij&&(il=id(ik,ij),function(im){this.setAttributeNS(ic.space,ic.local,il(im))})})}return hN(this,"attr."+e,ig,ic.local?ih:ie)};ev.attrTween=function(e,ic){var d3=ho.ns.qualify(e);function id(ii,ig){var ih=ic.call(this,ii,ig,this.getAttribute(d3));return ih&&function(ij){this.setAttribute(d3,ih(ij))}}function ie(ii,ig){var ih=ic.call(this,ii,ig,this.getAttributeNS(d3.space,d3.local));return ih&&function(ij){this.setAttributeNS(d3.space,d3.local,ih(ij))}}return this.tween("attr."+e,d3.local?ie:id)};ev.style=function(ic,ie,id){var ig=arguments.length;if(ig<3){if(typeof ic!=="string"){if(ig<2){ie=""}for(id in ic){this.style(id,ic[id],ie)}return this}id=""}function d3(){this.style.removeProperty(ic)}function e(ih){return ih==null?d3:(ih+="",function(){var ii=fx(this).getComputedStyle(this,null).getPropertyValue(ic),ij;return ii!==ih&&(ij=fB(ii,ih),function(ik){this.style.setProperty(ic,ij(ik),id)})})}return hN(this,"style."+ic,ie,e)};ev.styleTween=function(e,ic,d3){if(arguments.length<3){d3=""}function id(ih,ie){var ig=ic.call(this,ih,ie,fx(this).getComputedStyle(this,null).getPropertyValue(e));return ig&&function(ii){this.style.setProperty(e,ig(ii),d3)}}return this.tween("style."+e,id)};ev.text=function(e){return hN(this,"text",e,ib)};function ib(e){if(e==null){e=""}return function(){this.textContent=e}}ev.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var d3;if(this[e].count<2&&(d3=this.parentNode)){d3.removeChild(this)}})};ev.ease=function(d3){var ic=this.id,e=this.namespace;if(arguments.length<1){return this.node()[e][ic].ease}if(typeof d3!=="function"){d3=ho.ease.apply(ho,arguments)}return cI(this,function(id){id[e][ic].ease=d3})};ev.delay=function(d3){var ic=this.id,e=this.namespace;if(arguments.length<1){return this.node()[e][ic].delay}return cI(this,typeof d3==="function"?function(ig,ie,id){ig[e][ic].delay=+d3.call(ig,ig.__data__,ie,id)}:(d3=+d3,function(id){id[e][ic].delay=d3}))};ev.duration=function(d3){var ic=this.id,e=this.namespace;if(arguments.length<1){return this.node()[e][ic].duration}return cI(this,typeof d3==="function"?function(ig,ie,id){ig[e][ic].duration=Math.max(1,d3.call(ig,ig.__data__,ie,id))}:(d3=Math.max(1,d3),function(id){id[e][ic].duration=d3}))};ev.each=function(ic,ie){var ih=this.id,d3=this.namespace;if(arguments.length<2){var e=d4,ig=aq;try{aq=ih;cI(this,function(ij,ii,id){d4=ij[d3][ih];ic.call(ij,ij.__data__,ii,id)})}finally{d4=e;aq=ig}}else{cI(this,function(id){var ii=id[d3][ih];(ii.event||(ii.event=ho.dispatch("start","end","interrupt"))).on(ic,ie)})}return this};ev.transition=function(){var im=this.id,il=++hb,ii=this.namespace,d3=[],ik,ij,id,ih;for(var ie=0,ic=this.length;ie<ic;ie++){d3.push(ik=[]);for(var ij=this[ie],ig=0,e=ij.length;ig<e;ig++){if(id=ij[ig]){ih=id[ii][im];fA(id,ig,ii,il,{time:ih.time,ease:ih.ease,delay:ih.delay+ih.duration,duration:ih.duration})}ik.push(id)}}return gR(d3,ii,il)};function gz(e){return e==null?"__transition__":"__transition_"+e+"__"}function fA(ig,ij,iq,ic,ik){var ir=ig[iq]||(ig[iq]={active:0,count:0}),ip=ir[ic],ie,d3,ii,ih,io;function im(id){var it=ip.delay;d3.t=it+ie;if(it<=id){return e(id-it)}d3.c=e}function e(id){var it=ir.active,iv=ir[it];if(iv){iv.timer.c=null;iv.timer.t=NaN;--ir.count;delete ir[it];iv.event&&iv.event.interrupt.call(ig,ig.__data__,iv.index)}for(var iw in ir){if(+iw<ic){var iu=ir[iw];iu.timer.c=null;iu.timer.t=NaN;--ir.count;delete ir[iw]}}d3.c=il;g3(function(){if(d3.c&&il(id||1)){d3.c=null;d3.t=NaN}return 1},0,ie);ir.active=ic;ip.event&&ip.event.start.call(ig,ig.__data__,ij);io=[];ip.tween.forEach(function(ix,iy){if(iy=iy.call(ig,ig.__data__,ij)){io.push(iy)}});ih=ip.ease;ii=ip.duration}function il(id){var it=id/ii,iu=ih(it),iv=io.length;while(iv>0){io[--iv].call(ig,iu)}if(it>=1){ip.event&&ip.event.end.call(ig,ig.__data__,ij);if(--ir.count){delete ir[ic]}else{delete ig[iq]}return 1}}if(!ip){ie=ik.time;d3=g3(im,0,ie);ip=ir[ic]={tween:new aH(),time:ie,timer:d3,delay:ik.delay,duration:ik.duration,ease:ik.ease,index:ij};ik=null;++ir.count}}ho.svg.axis=function(){var ic=ho.scale.linear(),ie=hW,e=6,ig=6,ij=3,ii=[10],id=null,ih;function d3(ik){ik.each(function(){var iI=ho.select(this);var iD=this.__chart__||ic,iC=this.__chart__=ic.copy();var iL=id==null?iC.ticks?iC.ticks.apply(iC,ii):iC.domain():id,iB=ih==null?iC.tickFormat?iC.tickFormat.apply(iC,ii):gl:ih,iF=iI.selectAll(".tick").data(iL,iC),iy=iF.enter().insert("g",".domain").attr("class","tick").style("opacity",gn),iA=ho.transition(iF.exit()).style("opacity",gn).remove(),it=ho.transition(iF.order()).style("opacity",1),il=Math.max(e,0)+ij,im;var ix=aY(iC),iz=iI.selectAll(".domain").data([0]),iM=(iz.enter().append("path").attr("class","domain"),ho.transition(iz));iy.append("line");
iy.append("text");var iq=iy.select("line"),iK=it.select("line"),iw=iF.select("text").text(iB),ir=iy.select("text"),iH=it.select("text"),iJ=ie==="top"||ie==="left"?-1:1,iG,iE,ip,io;if(ie==="bottom"||ie==="top"){im=fl,iG="x",ip="y",iE="x2",io="y2";iw.attr("dy",iJ<0?"0em":".71em").style("text-anchor","middle");iM.attr("d","M"+ix[0]+","+iJ*ig+"V0H"+ix[1]+"V"+iJ*ig)}else{im=fk,iG="y",ip="x",iE="y2",io="x2";iw.attr("dy",".32em").style("text-anchor",iJ<0?"end":"start");iM.attr("d","M"+iJ*ig+","+ix[0]+"H0V"+ix[1]+"H"+iJ*ig)}iq.attr(io,iJ*e);ir.attr(ip,iJ*il);iK.attr(iE,0).attr(io,iJ*e);iH.attr(iG,0).attr(ip,iJ*il);if(iC.rangeBand){var iu=iC,iv=iu.rangeBand()/2;iD=iC=function(iN){return iu(iN)+iv}}else{if(iD.rangeBand){iD=iC}else{iA.call(im,iC,iD)}}iy.call(im,iD,iC);it.call(im,iC,iC)})}d3.scale=function(ik){if(!arguments.length){return ic}ic=ik;return d3};d3.orient=function(ik){if(!arguments.length){return ie}ie=ik in e2?ik+"":hW;return d3};d3.ticks=function(){if(!arguments.length){return ii}ii=dO(arguments);return d3};d3.tickValues=function(ik){if(!arguments.length){return id}id=ik;return d3};d3.tickFormat=function(ik){if(!arguments.length){return ih}ih=ik;return d3};d3.tickSize=function(ik){var il=arguments.length;if(!il){return e}e=+ik;ig=+arguments[il-1];return d3};d3.innerTickSize=function(ik){if(!arguments.length){return e}e=+ik;return d3};d3.outerTickSize=function(ik){if(!arguments.length){return ig}ig=+ik;return d3};d3.tickPadding=function(ik){if(!arguments.length){return ij}ij=+ik;return d3};d3.tickSubdivide=function(){return arguments.length&&d3};return d3};var hW="bottom",e2={top:1,right:1,bottom:1,left:1};function fl(ic,d3,e){ic.attr("transform",function(ie){var id=d3(ie);return"translate("+(isFinite(id)?id:e(ie))+",0)"})}function fk(d3,ic,e){d3.attr("transform",function(ie){var id=ic(ie);return"translate(0,"+(isFinite(id)?id:e(ie))+")"})}ho.svg.brush=function(){var d3=hi(ij,"brushstart","brush","brushend"),im=null,ik=null,ic=[0,0],ii=[0,0],il,ie,e=true,ih=true,io=ar[0];function ij(ir){ir.each(function(){var iy=ho.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ip).on("touchstart.brush",ip);var ix=iy.selectAll(".background").data([0]);ix.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");iy.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var iw=iy.selectAll(".resize").data(io,gl);iw.exit().remove();iw.enter().append("g").attr("class",function(iz){return"resize "+iz}).style("cursor",function(iz){return eV[iz]}).append("rect").attr("x",function(iz){return/[ew]$/.test(iz)?-3:null}).attr("y",function(iz){return/^[ns]/.test(iz)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");iw.style("display",ij.empty()?"none":null);var iv=ho.transition(iy),it=ho.transition(ix),iu;if(im){iu=aY(im);it.attr("x",iu[0]).attr("width",iu[1]-iu[0]);ig(iv)}if(ik){iu=aY(ik);it.attr("y",iu[0]).attr("height",iu[1]-iu[0]);id(iv)}iq(iv)})}ij.event=function(ir){ir.each(function(){var it=d3.of(this,arguments),iu={x:ic,y:ii,i:il,j:ie},iv=this.__chart__||iu;this.__chart__=iu;if(aq){ho.select(this).transition().each("start.brush",function(){il=iv.i;ie=iv.j;ic=iv.x;ii=iv.y;it({type:"brushstart"})}).tween("brush:brush",function(){var iw=eO(ic,iu.x),ix=eO(ii,iu.y);il=ie=null;return function(iy){ic=iu.x=iw(iy);ii=iu.y=ix(iy);it({type:"brush",mode:"resize"})}}).each("end.brush",function(){il=iu.i;ie=iu.j;it({type:"brush",mode:"resize"});it({type:"brushend"})})}else{it({type:"brushstart"});it({type:"brush",mode:"resize"});it({type:"brushend"})}})};function iq(ir){ir.selectAll(".resize").attr("transform",function(it){return"translate("+ic[+/e$/.test(it)]+","+ii[+/^s/.test(it)]+")"})}function ig(ir){ir.select(".extent").attr("x",ic[0]);ir.selectAll(".extent,.n>rect,.s>rect").attr("width",ic[1]-ic[0])}function id(ir){ir.select(".extent").attr("y",ii[0]);ir.selectAll(".extent,.e>rect,.w>rect").attr("height",ii[1]-ii[0])}function ip(){var iL=this,it=ho.select(ho.event.target),iA=d3.of(iL,arguments),iG=ho.select(iL),iI=it.datum(),iE=!/^(n|s)$/.test(iI)&&im,iC=!/^(e|w)$/.test(iI)&&ik,iD=it.classed("extent"),iv=bK(iL),iJ,iK=ho.mouse(iL),iu;var iy=ho.select(fx(iL)).on("keydown.brush",iB).on("keyup.brush",ix);if(ho.event.changedTouches){iy.on("touchmove.brush",iz).on("touchend.brush",ir)}else{iy.on("mousemove.brush",iz).on("mouseup.brush",ir)}iG.interrupt().selectAll("*").interrupt();if(iD){iK[0]=ic[0]-iK[0];iK[1]=ii[0]-iK[1]}else{if(iI){var iH=+/w$/.test(iI),iF=+/^n/.test(iI);iu=[ic[1-iH]-iK[0],ii[1-iF]-iK[1]];iK[0]=ic[iH];iK[1]=ii[iF]}else{if(ho.event.altKey){iJ=iK.slice()}}}iG.style("pointer-events","none").selectAll(".resize").style("display",null);ho.select("body").style("cursor",it.style("cursor"));iA({type:"brushstart"});iz();function iB(){if(ho.event.keyCode==32){if(!iD){iJ=null;iK[0]-=ic[1];iK[1]-=ii[1];iD=2}v()}}function ix(){if(ho.event.keyCode==32&&iD==2){iK[0]+=ic[1];
iK[1]+=ii[1];iD=0;v()}}function iz(){var iM=ho.mouse(iL),iN=false;if(iu){iM[0]+=iu[0];iM[1]+=iu[1]}if(!iD){if(ho.event.altKey){if(!iJ){iJ=[(ic[0]+ic[1])/2,(ii[0]+ii[1])/2]}iK[0]=ic[+(iM[0]<iJ[0])];iK[1]=ii[+(iM[1]<iJ[1])]}else{iJ=null}}if(iE&&iw(iM,im,0)){ig(iG);iN=true}if(iC&&iw(iM,ik,1)){id(iG);iN=true}if(iN){iq(iG);iA({type:"brush",mode:iD?"move":"resize"})}}function iw(iU,iO,iQ){var iR=aY(iO),iN=iR[0],iM=iR[1],iS=iK[iQ],iV=iQ?ii:ic,iW=iV[1]-iV[0],iP,iT;if(iD){iN-=iS;iM-=iW+iS}iP=(iQ?ih:e)?Math.max(iN,Math.min(iM,iU[iQ])):iU[iQ];if(iD){iT=(iP+=iS)+iW}else{if(iJ){iS=Math.max(iN,Math.min(iM,2*iJ[iQ]-iP))}if(iS<iP){iT=iP;iP=iS}else{iT=iS}}if(iV[0]!=iP||iV[1]!=iT){if(iQ){ie=null}else{il=null}iV[0]=iP;iV[1]=iT;return true}}function ir(){iz();iG.style("pointer-events","all").selectAll(".resize").style("display",ij.empty()?"none":null);ho.select("body").style("cursor",null);iy.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);iv();iA({type:"brushend"})}}ij.x=function(ir){if(!arguments.length){return im}im=ir;io=ar[!im<<1|!ik];return ij};ij.y=function(ir){if(!arguments.length){return ik}ik=ir;io=ar[!im<<1|!ik];return ij};ij.clamp=function(ir){if(!arguments.length){return im&&ik?[e,ih]:im?e:ik?ih:null}if(im&&ik){e=!!ir[0],ih=!!ir[1]}else{if(im){e=!!ir}else{if(ik){ih=!!ir}}}return ij};ij.extent=function(ix){var iu,ir,iw,iv,it;if(!arguments.length){if(im){if(il){iu=il[0],ir=il[1]}else{iu=ic[0],ir=ic[1];if(im.invert){iu=im.invert(iu),ir=im.invert(ir)}if(ir<iu){it=iu,iu=ir,ir=it}}}if(ik){if(ie){iw=ie[0],iv=ie[1]}else{iw=ii[0],iv=ii[1];if(ik.invert){iw=ik.invert(iw),iv=ik.invert(iv)}if(iv<iw){it=iw,iw=iv,iv=it}}}return im&&ik?[[iu,iw],[ir,iv]]:im?[iu,ir]:ik&&[iw,iv]}if(im){iu=ix[0],ir=ix[1];if(ik){iu=iu[0],ir=ir[0]}il=[iu,ir];if(im.invert){iu=im(iu),ir=im(ir)}if(ir<iu){it=iu,iu=ir,ir=it}if(iu!=ic[0]||ir!=ic[1]){ic=[iu,ir]}}if(ik){iw=ix[0],iv=ix[1];if(im){iw=iw[1],iv=iv[1]}ie=[iw,iv];if(ik.invert){iw=ik(iw),iv=ik(iv)}if(iv<iw){it=iw,iw=iv,iv=it}if(iw!=ii[0]||iv!=ii[1]){ii=[iw,iv]}}return ij};ij.clear=function(){if(!ij.empty()){ic=[0,0],ii=[0,0];il=ie=null}return ij};ij.empty=function(){return !!im&&ic[0]==ic[1]||!!ik&&ii[0]==ii[1]};return ho.rebind(ij,d3,"on")};var eV={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ar=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var ia=fF.format=dh.timeFormat;var df=ia.utc;var dP=df("%Y-%m-%dT%H:%M:%S.%LZ");ia.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dx:dP;function dx(e){return e.toISOString()}dx.parse=function(d3){var e=new Date(d3);return isNaN(e)?null:e};dx.toString=dP.toString;fF.second=c0(function(e){return new hs(Math.floor(e/1000)*1000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*1000)},function(e){return e.getSeconds()});fF.seconds=fF.second.range;fF.seconds.utc=fF.second.utc.range;fF.minute=c0(function(e){return new hs(Math.floor(e/60000)*60000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*60000)},function(e){return e.getMinutes()});fF.minutes=fF.minute.range;fF.minutes.utc=fF.minute.utc.range;fF.hour=c0(function(e){var d3=e.getTimezoneOffset()/60;return new hs((Math.floor(e/3600000-d3)+d3)*3600000)},function(e,d3){e.setTime(e.getTime()+Math.floor(d3)*3600000)},function(e){return e.getHours()});fF.hours=fF.hour.range;fF.hours.utc=fF.hour.utc.range;fF.month=c0(function(e){e=fF.day(e);e.setDate(1);return e},function(e,d3){e.setMonth(e.getMonth()+d3)},function(e){return e.getMonth()});fF.months=fF.month.range;fF.months.utc=fF.month.utc.range;function bq(e,d3,ic){function id(ig){return e(ig)}id.invert=function(ig){return fZ(e.invert(ig))};id.domain=function(ig){if(!arguments.length){return e.domain().map(fZ)}e.domain(ig);return id};function ie(ii,ij){var ih=ii[1]-ii[0],ik=ih/ij,ig=ho.bisect(fa,ik);return ig==fa.length?[d3.year,p(ii.map(function(il){return il/31536000000}),ij)[2]]:!ig?[cy,p(ii,ij)[2]]:d3[ik/fa[ig-1]<fa[ig]/ik?ig-1:ig]}id.nice=function(ih,ij){var ik=id.domain(),ii=es(ik),il=ih==null?ie(ii,10):typeof ih==="number"&&ie(ii,ih);if(il){ih=il[0],ij=il[1]}function ig(im){return !isNaN(im)&&!ih.range(im,fZ(+im+1),ij).length}return id.domain(gi(ik,ij>1?{floor:function(im){while(ig(im=ih.floor(im))){im=fZ(im-1)}return im},ceil:function(im){while(ig(im=ih.ceil(im))){im=fZ(+im+1)}return im}}:ih))};id.ticks=function(ig,ii){var ih=es(id.domain()),ij=ig==null?ie(ih,10):typeof ig==="number"?ie(ih,ig):!ig.range&&[{range:ig},ii];if(ij){ig=ij[0],ii=ij[1]}return ig.range(ih[0],fZ(+ih[1]+1),ii<1?1:ii)};id.tickFormat=function(){return ic};id.copy=function(){return bq(e.copy(),d3,ic)};return f9(id,e)}function fZ(e){return new Date(e)}var fa=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cC=[[fF.second,1],[fF.second,5],[fF.second,15],[fF.second,30],[fF.minute,1],[fF.minute,5],[fF.minute,15],[fF.minute,30],[fF.hour,1],[fF.hour,3],[fF.hour,6],[fF.hour,12],[fF.day,1],[fF.day,2],[fF.week,1],[fF.month,1],[fF.month,3],[fF.year,1]];
var R=ia.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&e.getDate()!=1}],["%b %d",function(e){return e.getDate()!=1}],["%B",function(e){return e.getMonth()}],["%Y",ag]]);var cy={range:function(ic,e,d3){return ho.range(Math.ceil(ic/d3)*d3,+e,d3).map(fZ)},floor:gl,ceil:gl};cC.year=fF.year;fF.scale=function(){return bq(ho.scale.linear(),cC,R)};var f2=cC.map(function(e){return[e[0].utc,e[1]]});var fq=df.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],["%b %d",function(e){return e.getUTCDate()!=1}],["%B",function(e){return e.getUTCMonth()}],["%Y",ag]]);f2.year=fF.year.utc;fF.scale.utc=function(){return bq(ho.scale.linear(),f2,fq)};ho.text=W(function(e){return e.responseText});ho.json=function(e,d3){return hZ(e,"application/json",dL,d3)};function dL(e){return JSON.parse(e.responseText)}ho.html=function(e,d3){return hZ(e,"text/html",h9,d3)};function h9(d3){var e=bN.createRange();e.selectNode(bN.body);return e.createContextualFragment(d3.responseText)}ho.xml=W(function(e){return e.responseXML});if(typeof define==="function"&&define.amd){this.d3=ho,define(ho)}else{if(typeof c==="object"&&c.exports){c.exports=ho}else{this.d3=ho}}}()},{}],2:[function(d,c,f){f.__esModule=true;var n=d("d3");function g(r){var o=r.length;var p=0;var q=0;while(o>0){q=Math.floor(Math.random()*o);o--;p=r[o];r[o]=r[q];r[q]=p}}f.shuffle=g;function k(q,o){var r=[];var t=n.scale.linear().domain([0,0.5]).range([0.5,4]);var p=t(o);function s(v,B,w){for(var z=0;z<q/2;z++){var u=m(v,p);var A=m(B,p);r.push({x:u,y:A,label:w})}}s(2,2,1);s(-2,-2,-1);return r}f.classifyTwoGaussData=k;function a(r,B){var q=6;var z=n.scale.linear().domain([-10,10]).range([-1,1]);var o=function(C,D){return z(C+D)};var A=[];for(var p=0;p<r;p++){var w=e(-q,q);var u=e(-q,q);var t=e(-q,q)*B;var s=e(-q,q)*B;var v=o(w+t,u+s);A.push({x:w,y:u,label:v})}return A}f.regressPlane=a;function j(s,C){var B=[];var A=n.scale.linear().domain([0,2]).range([1,0]).clamp(true);var o=[[-4,2.5,1],[0,2.5,-1],[4,2.5,1],[-4,-2.5,-1],[0,-2.5,1],[4,-2.5,-1]];function p(D,F){var E=0;o.forEach(function(H){var x=H[0],I=H[1],y=H[2];var G=y*A(h({x:D,y:F},{x:x,y:I}));if(Math.abs(G)>Math.abs(E)){E=G}});return E}var r=6;for(var q=0;q<s;q++){var z=e(-r,r);var v=e(-r,r);var u=e(-r,r)*C;var t=e(-r,r)*C;var w=p(z+u,v+t);B.push({x:z,y:v,label:w})}return B}f.regressGaussian=j;function i(p,o){var q=[];var s=p/2;function r(A,v){for(var z=0;z<s;z++){var B=z/s*5;var w=1.75*z/s*2*Math.PI+A;var u=B*Math.sin(w)+e(-1,1)*o;var C=B*Math.cos(w)+e(-1,1)*o;q.push({x:u,y:C,label:v})}}r(0,1);r(Math.PI,-1);return q}f.classifySpiralData=i;function b(t,D){var B=[];var s=5;function C(x,r){return(h(x,r)<(s*0.5))?1:-1}for(var q=0;q<t/2;q++){var o=e(0,s*0.5);var p=e(0,2*Math.PI);var A=o*Math.sin(p);var w=o*Math.cos(p);var v=e(-s,s)*D;var u=e(-s,s)*D;var z=C({x:A+v,y:w+u},{x:0,y:0});B.push({x:A,y:w,label:z})}for(var q=0;q<t/2;q++){var o=e(s*0.7,s);var p=e(0,2*Math.PI);var A=o*Math.sin(p);var w=o*Math.cos(p);var v=e(-s,s)*D;var u=e(-s,s)*D;var z=C({x:A+v,y:w+u},{x:0,y:0});B.push({x:A,y:w,label:z})}return B}f.classifyCircleData=b;function l(q,A){function p(x){return x.x*x.y>=0?1:-1}var z=[];for(var o=0;o<q;o++){var w=e(-5,5);var v=0.3;w+=w>0?v:-v;var t=e(-5,5);t+=t>0?v:-v;var s=e(-5,5)*A;var r=e(-5,5)*A;var u=p({x:w+s,y:t+r});z.push({x:w,y:t,label:u})}return z}f.classifyXORData=l;function e(p,o){return Math.random()*(o-p)+p}function m(p,q){if(p===void 0){p=0}if(q===void 0){q=1}var u,t,r;do{u=2*Math.random()-1;t=2*Math.random()-1;r=u*u+t*t}while(r>1);var o=Math.sqrt(-2*Math.log(r)/r)*u;return p+Math.sqrt(q)*o}function h(q,o){var r=q.x-o.x;var p=q.y-o.y;return Math.sqrt(r*r+p*p)}},{"d3":1}],3:[function(c,d,b){b.__esModule=true;var e=c("d3");var f=30;var a=(function(){function h(n,r,q,j,m,p){this.settings={showAxes:false,noSvg:false};this.numSamples=r;var u=n;var t=p.showAxes?20:0;if(p!=null){for(var l in p){this.settings[l]=p[l]}}this.xScale=e.scale.linear().domain(q).range([0,n-2*t]);this.yScale=e.scale.linear().domain(j).range([u-2*t,0]);var s=e.scale.linear().domain([0,0.5,1]).range(["#f59322","#e8eaeb","#0877bd"]).clamp(true);var i=e.range(0,1+1e-9,1/f).map(function(v){return s(v)});this.color=e.scale.quantize().domain([-1,1]).range(i);m=m.append("div").style({width:n+"px",height:u+"px",position:"relative",top:"-"+t+"px",left:"-"+t+"px"});this.canvas=m.append("canvas").attr("width",r).attr("height",r).style("width",(n-2*t)+"px").style("height",(u-2*t)+"px").style("position","absolute").style("top",t+"px").style("left",t+"px");if(!this.settings.noSvg){this.svg=m.append("svg").attr({"width":n,"height":u}).style({"position":"absolute","left":"0","top":"0"}).append("g").attr("transform","translate("+t+","+t+")");
this.svg.append("g").attr("class","train");this.svg.append("g").attr("class","test")}if(this.settings.showAxes){var o=e.svg.axis().scale(this.xScale).orient("bottom");var k=e.svg.axis().scale(this.yScale).orient("right");this.svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(u-2*t)+")").call(o);this.svg.append("g").attr("class","y axis").attr("transform","translate("+(n-2*t)+",0)").call(k)}}h.prototype.updateTestPoints=function(i){if(this.settings.noSvg){throw Error("Can't add points since noSvg=true")}this.updateCircles(this.svg.select("g.test"),i)};h.prototype.updatePoints=function(i){if(this.settings.noSvg){throw Error("Can't add points since noSvg=true")}this.updateCircles(this.svg.select("g.train"),i)};h.prototype.updateBackground=function(l,m){var t=l[0].length;var s=l.length;if(t!==this.numSamples||s!==this.numSamples){throw new Error("The provided data matrix must be of size "+"numSamples X numSamples")}var j=this.canvas.node().getContext("2d");var k=j.createImageData(t,s);for(var o=0,i=-1;o<s;++o){for(var q=0;q<t;++q){var r=l[q][o];if(m){r=(r>=0?1:-1)}var n=e.rgb(this.color(r));k.data[++i]=n.r;k.data[++i]=n.g;k.data[++i]=n.b;k.data[++i]=160}}j.putImageData(k,0,0)};h.prototype.updateCircles=function(i,m){var n=this;var j=this.xScale.domain();var l=this.yScale.domain();m=m.filter(function(o){return o.x>=j[0]&&o.x<=j[1]&&o.y>=l[0]&&o.y<=l[1]});var k=i.selectAll("circle").data(m);k.enter().append("circle").attr("r",3);k.attr({cx:function(o){return n.xScale(o.x)},cy:function(o){return n.yScale(o.y)}}).style("fill",function(o){return n.color(o.label)});k.exit().remove()};return h}());b.HeatMap=a;function g(o,r){if(o.length!==o[0].length){throw new Error("The provided matrix must be a square matrix")}if(o.length%r!==0){throw new Error("The width/height of the matrix must be divisible by "+"the reduction factor")}var h=new Array(o.length/r);for(var q=0;q<o.length;q+=r){h[q/r]=new Array(o.length/r);for(var p=0;p<o.length;p+=r){var s=0;for(var n=0;n<r;n++){for(var m=0;m<r;m++){s+=o[q+n][p+m]}}s/=(r*r);h[q/r][p/r]=s}}return h}b.reduceMatrix=g},{"d3":1}],4:[function(c,d,a){a.__esModule=true;var e=c("d3");var b=(function(){function f(g,p){this.data=[];this.minY=Number.MAX_VALUE;this.maxY=Number.MIN_VALUE;this.lineColors=p;this.numLines=p.length;var j=g.node();var m=j.offsetWidth;var n=j.offsetHeight;var k={top:2,right:0,bottom:2,left:2};var h=m-k.left-k.right;var o=n-k.top-k.bottom;this.xScale=e.scale.linear().domain([0,0]).range([0,h]);this.yScale=e.scale.linear().domain([0,0]).range([o,0]);this.svg=g.append("svg").attr("width",h+k.left+k.right).attr("height",o+k.top+k.bottom).append("g").attr("transform","translate("+k.left+","+k.top+")");this.paths=new Array(this.numLines);for(var l=0;l<this.numLines;l++){this.paths[l]=this.svg.append("path").attr("class","line").style({"fill":"none","stroke":p[l],"stroke-width":"1.5px"})}}f.prototype.reset=function(){this.data=[];this.redraw();this.minY=Number.MAX_VALUE;this.maxY=Number.MIN_VALUE};f.prototype.addDataPoint=function(g){var h=this;if(g.length!==this.numLines){throw Error("Length of dataPoint must equal number of lines")}g.forEach(function(i){h.minY=Math.min(h.minY,i);h.maxY=Math.max(h.maxY,i)});this.data.push({x:this.data.length+1,y:g});this.redraw()};f.prototype.redraw=function(){var j=this;this.xScale.domain([1,this.data.length]);this.yScale.domain([this.minY,this.maxY]);var h=function(i){return e.svg.line().x(function(k){return j.xScale(k.x)}).y(function(k){return j.yScale(k.y[i])})};for(var g=0;g<this.numLines;g++){this.paths[g].datum(this.data).attr("d",h(g))}};return f}());a.AppendingLineChart=b},{"d3":1}],5:[function(h,e,j){j.__esModule=true;var l=(function(){function o(r,p,q){this.inputLinks=[];this.bias=0.1;this.outputs=[];this.outputDer=0;this.inputDer=0;this.accInputDer=0;this.numAccumulatedDers=0;this.id=r;this.activation=p;if(q){this.bias=0}}o.prototype.updateOutput=function(){this.totalInput=this.bias;for(var p=0;p<this.inputLinks.length;p++){var q=this.inputLinks[p];this.totalInput+=q.weight*q.source.output}this.output=this.activation.output(this.totalInput);return this.output};return o}());j.Node=l;var m=(function(){function o(){}o.SQUARE={error:function(p,q){return 0.5*Math.pow(p-q,2)},der:function(p,q){return p-q}};return o}());j.Errors=m;Math.tanh=Math.tanh||function(o){if(o===Infinity){return 1}else{if(o===-Infinity){return -1}else{var p=Math.exp(2*o);return(p-1)/(p+1)}}};var f=(function(){function o(){}o.TANH={output:function(p){return Math.tanh(p)},der:function(p){var q=o.TANH.output(p);return 1-q*q}};o.RELU={output:function(p){return Math.max(0,p)},der:function(p){return p<=0?0:1}};o.SIGMOID={output:function(p){return 1/(1+Math.exp(-p))},der:function(p){var q=o.SIGMOID.output(p);return q*(1-q)}};o.LINEAR={output:function(p){return p},der:function(p){return 1}};return o}());j.Activations=f;var k=(function(){function o(){}o.L1={output:function(p){return Math.abs(p)},der:function(p){return p<0?-1:(p>0?1:0)}};o.L2={output:function(p){return 0.5*p*p
},der:function(p){return p}};return o}());j.RegularizationFunction=k;var b=(function(){function o(r,q,p,s){this.weight=Math.random()-0.5;this.isDead=false;this.errorDer=0;this.accErrorDer=0;this.numAccumulatedDers=0;this.id=r.id+"-"+q.id;this.source=r;this.dest=q;this.regularization=p;if(s){this.weight=0}}return o}());j.Link=b;function a(v,y,o,q,t,s){var u=v.length;var w=1;var H=[];for(var C=0;C<u;C++){var G=C===u-1;var B=C===0;var D=[];H.push(D);var z=v[C];for(var F=0;F<z;F++){var r=w.toString();if(B){r=t[F]}else{w++}var A=new l(r,G?o:y,s);D.push(A);if(C>=1){for(var E=0;E<H[C-1].length;E++){var x=H[C-1][E];var p=new b(x,A,q,s);x.outputs.push(p);A.inputLinks.push(p)}}}}return H}j.buildNetwork=a;function d(t,p){var u=t[0];if(p.length!==u.length){throw new Error("The number of inputs must match the number of nodes in"+" the input layer")}for(var r=0;r<u.length;r++){var s=u[r];s.output=p[r]}for(var o=1;o<t.length;o++){var q=t[o];for(var r=0;r<q.length;r++){var s=q[r];s.updateOutput()}}return t[t.length-1][0].output}j.forwardProp=d;function i(q,w,z){var v=q[q.length-1][0];v.outputDer=z.der(v.output,w);for(var y=q.length-1;y>=1;y--){var u=q[y];for(var t=0;t<u.length;t++){var r=u[t];r.inputDer=r.outputDer*r.activation.der(r.totalInput);r.accInputDer+=r.inputDer;r.numAccumulatedDers++}for(var t=0;t<u.length;t++){var r=u[t];for(var s=0;s<r.inputLinks.length;s++){var x=r.inputLinks[s];if(x.isDead){continue}x.errorDer=r.inputDer*x.source.output;x.accErrorDer+=x.errorDer;x.numAccumulatedDers++}}if(y===1){continue}var p=q[y-1];for(var t=0;t<p.length;t++){var r=p[t];r.outputDer=0;for(var s=0;s<r.outputs.length;s++){var o=r.outputs[s];r.outputDer+=o.weight*o.dest.inputDer}}}}j.backProp=i;function n(q,s,o){for(var y=1;y<q.length;y++){var w=q[y];for(var u=0;u<w.length;u++){var r=w[u];if(r.numAccumulatedDers>0){r.bias-=s*r.accInputDer/r.numAccumulatedDers;r.accInputDer=0;r.numAccumulatedDers=0}for(var t=0;t<r.inputLinks.length;t++){var x=r.inputLinks[t];if(x.isDead){continue}var p=x.regularization?x.regularization.der(x.weight):0;if(x.numAccumulatedDers>0){x.weight=x.weight-(s/x.numAccumulatedDers)*x.accErrorDer;var v=x.weight-(s*o)*p;if(x.regularization===k.L1&&x.weight*v<0){x.weight=0;x.isDead=true}else{x.weight=v}x.accErrorDer=0;x.numAccumulatedDers=0}}}}}j.updateWeights=n;function g(t,u,o){for(var p=u?1:0;p<t.length;p++){var q=t[p];for(var r=0;r<q.length;r++){var s=q[r];o(s)}}}j.forEachNode=g;function c(o){return o[o.length-1][0]}j.getOutputNode=c},{}],6:[function(g,e,U){U.__esModule=true;var ae=g("./nn");var V=g("./heatmap");var a=g("./state");var D=g("./dataset");var af=g("./linechart");var T=g("d3");var S;T.select(".more button").on("click",function(){var ai=800;T.transition().duration(1000).tween("scroll",f(ai))});function f(ai){return function(){var aj=T.interpolateNumber(window.pageYOffset||document.documentElement.scrollTop,ai);return function(ak){scrollTo(0,aj(ak))}}}var s=30;var r=5;var G=500;var aa=1200;var L=100;var v;(function(ai){ai[ai["BIAS"]=0]="BIAS";ai[ai["WEIGHT"]=1]="WEIGHT"})(v||(v={}));var c={"x":{f:function(ai,aj){return ai},label:"X_1"},"y":{f:function(ai,aj){return aj},label:"X_2"},"xSquared":{f:function(ai,aj){return ai*ai},label:"X_1^2"},"ySquared":{f:function(ai,aj){return aj*aj},label:"X_2^2"},"xTimesY":{f:function(ai,aj){return ai*aj},label:"X_1X_2"},"sinX":{f:function(ai,aj){return Math.sin(ai)},label:"sin(X_1)"},"sinY":{f:function(ai,aj){return Math.sin(aj)},label:"sin(X_2)"}};var h=[["Show test data","showTestData"],["Discretize output","discretize"],["Play button","playButton"],["Step button","stepButton"],["Reset button","resetButton"],["Learning rate","learningRate"],["Activation","activation"],["Regularization","regularization"],["Regularization rate","regularizationRate"],["Problem type","problem"],["Which dataset","dataset"],["Ratio train data","percTrainData"],["Noise level","noise"],["Batch size","batchSize"],["# of hidden layers","numHiddenLayers"],];var t=(function(){function ai(){this.timerIndex=0;this.isPlaying=false;this.callback=null}ai.prototype.playOrPause=function(){if(this.isPlaying){this.isPlaying=false;this.pause()}else{this.isPlaying=true;if(B===0){O()}this.play()}};ai.prototype.onPlayPause=function(aj){this.callback=aj};ai.prototype.play=function(){this.pause();this.isPlaying=true;if(this.callback){this.callback(this.isPlaying)}this.start(this.timerIndex)};ai.prototype.pause=function(){this.timerIndex++;this.isPlaying=false;if(this.callback){this.callback(this.isPlaying)}};ai.prototype.start=function(aj){var ak=this;T.timer(function(){if(aj<ak.timerIndex){return true}ab();return false},0)};return ai}());var ah=a.State.deserializeState();ah.getHiddenProps().forEach(function(ai){if(ai in c){delete c[ai]}});var E={};var w=null;var i=[-6,6];var K=new V.HeatMap(300,L,i,i,T.select("#heatmap"),{showAxes:true});var q=T.scale.linear().domain([0,5]).range([1,10]).clamp(true);var R=T.scale.linear().domain([-1,0,1]).range(["#f59322","#e8eaeb","#0877bd"]).clamp(true);var B=0;var y=[];
var M=[];var o=null;var z=0;var I=0;var Z=new t();var p=new af.AppendingLineChart(T.select("#linechart"),["#777","black"]);function Q(){T.select("#reset-button").on("click",function(){P();x();T.select("#play-pause-button")});T.select("#play-pause-button").on("click",function(){x();Z.playOrPause()});Z.onPlayPause(function(aA){T.select("#play-pause-button").classed("playing",aA)});T.select("#next-step-button").on("click",function(){Z.pause();x();if(B===0){O()}ab()});T.select("#data-regen-button").on("click",function(){H();C=true});var aq=T.selectAll("canvas[data-dataset]");aq.on("click",function(){var aA=a.datasets[this.dataset.dataset];if(aA===ah.dataset){return}ah.dataset=aA;aq.classed("selected",false);T.select(this).classed("selected",true);H();C=true;P()});var aj=a.getKeyFromValue(a.datasets,ah.dataset);T.select("canvas[data-dataset="+aj+"]").classed("selected",true);var aw=T.selectAll("canvas[data-regDataset]");aw.on("click",function(){var aA=a.regDatasets[this.dataset.regdataset];if(aA===ah.regDataset){return}ah.regDataset=aA;aw.classed("selected",false);T.select(this).classed("selected",true);H();C=true;P()});var ay=a.getKeyFromValue(a.regDatasets,ah.regDataset);T.select("canvas[data-regDataset="+ay+"]").classed("selected",true);T.select("#add-layers").on("click",function(){if(ah.numHiddenLayers>=6){return}ah.networkShape[ah.numHiddenLayers]=2;ah.numHiddenLayers++;C=true;P()});T.select("#remove-layers").on("click",function(){if(ah.numHiddenLayers<=0){return}ah.numHiddenLayers--;ah.networkShape.splice(ah.numHiddenLayers);C=true;P()});var ap=T.select("#show-test-data").on("change",function(){ah.showTestData=this.checked;ah.serialize();x();K.updateTestPoints(ah.showTestData?M:[])});ap.property("checked",ah.showTestData);var au=T.select("#discretize").on("change",function(){ah.discretize=this.checked;ah.serialize();x();ac()});au.property("checked",ah.discretize);var ao=T.select("#percTrainData").on("input",function(){ah.percTrainData=this.value;T.select("label[for='percTrainData'] .value").text(this.value);H();C=true;P()});ao.property("value",ah.percTrainData);T.select("label[for='percTrainData'] .value").text(ah.percTrainData);var az=T.select("#noise").on("input",function(){ah.noise=this.value;T.select("label[for='noise'] .value").text(this.value);H();C=true;P()});var av=parseInt(az.property("max"));if(ah.noise>av){if(ah.noise<=80){az.property("max",ah.noise)}else{ah.noise=50}}else{if(ah.noise<0){ah.noise=0}}az.property("value",ah.noise);T.select("label[for='noise'] .value").text(ah.noise);var at=T.select("#batchSize").on("input",function(){ah.batchSize=this.value;T.select("label[for='batchSize'] .value").text(this.value);C=true;P()});at.property("value",ah.batchSize);T.select("label[for='batchSize'] .value").text(ah.batchSize);var al=T.select("#activations").on("change",function(){ah.activation=a.activations[this.value];C=true;P()});al.property("value",a.getKeyFromValue(a.activations,ah.activation));var an=T.select("#learningRate").on("change",function(){ah.learningRate=+this.value;ah.serialize();x();C=true});an.property("value",ah.learningRate);var am=T.select("#regularizations").on("change",function(){ah.regularization=a.regularizations[this.value];C=true;P()});am.property("value",a.getKeyFromValue(a.regularizations,ah.regularization));var ar=T.select("#regularRate").on("change",function(){ah.regularizationRate=+this.value;C=true;P()});ar.property("value",ah.regularizationRate);var ai=T.select("#problem").on("change",function(){ah.problem=a.problems[this.value];H();A();C=true;P()});ai.property("value",a.getKeyFromValue(a.problems,ah.problem));var ax=T.scale.linear().domain([-1,1]).range([0,144]);var ak=T.svg.axis().scale(ax).orient("bottom").tickValues([-1,0,1]).tickFormat(T.format("d"));T.select("#colormap g.core").append("g").attr("class","x axis").attr("transform","translate(0,10)").call(ak);window.addEventListener("resize",function(){var aA=document.querySelector("#main-part").getBoundingClientRect().width;if(aA!==S){S=aA;m(o);ac(true)}});if(ah.hideText){T.select("#article-text").style("display","none");T.select("div.more").style("display","none");T.select("header").style("display","none")}}function X(ai){ae.forEachNode(ai,true,function(aj){T.select("rect#bias-"+aj.id).style("fill",R(aj.bias))})}function ag(ap,aj){for(var ai=1;ai<ap.length;ai++){var ak=ap[ai];for(var am=0;am<ak.length;am++){var ao=ak[am];for(var al=0;al<ao.inputLinks.length;al++){var an=ao.inputLinks[al];aj.select("#link"+an.source.id+"-"+an.dest.id).style({"stroke-dashoffset":-B/3,"stroke-width":q(Math.abs(an.weight)),"stroke":R(an.weight)}).datum(an)}}}}function d(al,ak,aq,aw,ar,ax){var ap=al-s/2;var an=ak-s/2;var aA=ar.append("g").attr({"class":"node","id":"node"+aq,"transform":"translate("+ap+","+an+")"});aA.append("rect").attr({x:0,y:0,width:s,height:s});var ao=ah[aq]?"active":"inactive";if(aw){var am=c[aq].label!=null?c[aq].label:aq;var at=aA.append("text").attr({"class":"main-label",x:-10,y:s/2,"text-anchor":"end"});if(/[_^]/.test(am)){var aB=/(.*?)([_^])(.)/g;
var aC=void 0;var az=void 0;while((aC=aB.exec(am))!=null){az=aB.lastIndex;var ay=aC[1];var av=aC[2];var aj=aC[3];if(ay){at.append("tspan").text(ay)}at.append("tspan").attr("baseline-shift",av==="_"?"sub":"super").style("font-size","9px").text(aj)}if(am.substring(az)){at.append("tspan").text(am.substring(az))}}else{at.append("tspan").text(am)}aA.classed(ao,true)}if(!aw){aA.append("rect").attr({id:"bias-"+aq,x:-r-2,y:s-r+3,width:r,height:r}).on("mouseenter",function(){W(v.BIAS,ax,T.mouse(ar.node()))}).on("mouseleave",function(){W(null)})}var au=T.select("#network").insert("div",":first-child").attr({"id":"canvas-"+aq,"class":"canvas"}).style({position:"absolute",left:ap+3+"px",top:an+3+"px"}).on("mouseenter",function(){w=aq;au.classed("hovered",true);aA.classed("hovered",true);n(o,false);K.updateBackground(E[aq],ah.discretize)}).on("mouseleave",function(){w=null;au.classed("hovered",false);aA.classed("hovered",false);n(o,false);K.updateBackground(E[ae.getOutputNode(o).id],ah.discretize)});if(aw){au.on("click",function(){ah[aq]=!ah[aq];C=true;P()});au.style("cursor","pointer")}if(aw){au.classed(ao,true)}var ai=new V.HeatMap(s,L/10,i,i,au,{noSvg:true});au.datum({heatmap:ai,id:aq})}function m(ap){var ak=T.select("#svg");ak.select("g.core").remove();T.select("#network").selectAll("div.canvas").remove();T.select("#network").selectAll("div.plus-minus-neurons").remove();var aO=3;var az=T.select(".column.output").node();var aE=T.select(".column.features").node();var ai=az.offsetLeft-aE.offsetLeft;ak.attr("width",ai);var at={};var aH=ak.append("g").classed("core",true).attr("transform","translate("+aO+","+aO+")");var aA=ap.length;var aR=118;var aI=T.scale.ordinal().domain(T.range(1,aA-1)).rangePoints([aR,ai-s],0.7);var ax=function(aT){return aT*(s+25)};var aB=T.select(".callout.thumbnail").style("display","none");var aq=T.select(".callout.weights").style("display","none");var aC=null;var aK=null;var aw=s/2+50;var ar=Object.keys(c);var au=ax(ar.length);ar.forEach(function(aU,aT){var aV=ax(aT)+s/2;at[aU]={cx:aw,cy:aV};d(aw,aV,aU,true,aH)});for(var aS=1;aS<aA-1;aS++){var aF=ap[aS].length;var an=aI(aS)+s/2;au=Math.max(au,ax(aF));ad(aI(aS),aS);for(var aP=0;aP<aF;aP++){var ao=ap[aS][aP];var al=ax(aP)+s/2;at[ao.id]={cx:an,cy:al};d(an,al,ao.id,false,aH,ao);var aQ=ap[aS].length;var aM=ap[aS+1].length;if(aC==null&&aP===aQ-1&&aM<=aQ){aB.style({display:null,top:20+3+al+"px",left:an+"px"});aC=ao.id}for(var aN=0;aN<ao.inputLinks.length;aN++){var am=ao.inputLinks[aN];var aJ=F(am,at,ap,aH,aN===0,aN,ao.inputLinks.length).node();var aG=ap[aS-1];var ay=aG[aG.length-1];if(aK==null&&aP===aQ-1&&am.source.id===ay.id&&(am.source.id!==aC||aA<=5)&&am.dest.id!==aC&&aG.length>=aQ){var aL=aJ.getPointAtLength(aJ.getTotalLength()*0.7);aq.style({display:null,top:aL.y+5+"px",left:aL.x+3+"px"});aK=am.dest.id}}}}aw=ai+s/2;var aD=ap[aA-1][0];var av=ax(0)+s/2;at[aD.id]={cx:aw,cy:av};for(var aP=0;aP<aD.inputLinks.length;aP++){var am=aD.inputLinks[aP];F(am,at,ap,aH,aP===0,aP,aD.inputLinks.length)}ak.attr("height",au);var aj=Math.max(j(aB),j(aq),j(T.select("#network")));T.select(".column.features").style("height",aj+"px")}function j(ai){var aj=ai.node();return aj.offsetHeight+aj.offsetTop}function ad(ai,aj){var an=T.select("#network").append("div").classed("plus-minus-neurons",true).style("left",ai-10+"px");var ak=aj-1;var am=an.append("div").attr("class","ui-numNodes"+aj);am.append("button").attr("class","mdl-button mdl-js-button mdl-button--icon").on("click",function(){var ao=ah.networkShape[ak];if(ao>=8){return}ah.networkShape[ak]++;C=true;P()}).append("i").attr("class","material-icons").text("add");am.append("button").attr("class","mdl-button mdl-js-button mdl-button--icon").on("click",function(){var ao=ah.networkShape[ak];if(ao<=1){return}ah.networkShape[ak]--;C=true;P()}).append("i").attr("class","material-icons").text("remove");an.append("div").text(ah.networkShape[ak]+" 神经元")}function W(al,ai,an){var ak=T.select("#hovercard");if(al==null){ak.style("display","none");T.select("#svg").on("click",null);return}T.select("#svg").on("click",function(){ak.select(".value").style("display","none");var ao=ak.select("input");ao.style("display",null);ao.on("input",function(){if(this.value!=null&&this.value!==""){if(al===v.WEIGHT){ai.weight=+this.value}else{ai.bias=+this.value}ac()}});ao.on("keypress",function(){if(T.event.keyCode===13){W(al,ai,an)}});ao.node().focus()});var am=(al===v.WEIGHT)?ai.weight:ai.bias;var aj=(al===v.WEIGHT)?"Weight":"Bias";ak.style({"left":an[0]+20+"px","top":an[1]+"px","display":"block"});ak.select(".type").text(aj);ak.select(".value").style("display",null).text(am.toPrecision(2));ak.select("input").property("value",am.toPrecision(2)).style("display","none")}function F(aq,at,am,aj,an,ao,ak){var au=aj.insert("path",":first-child");var ai=at[aq.source.id];var ar=at[aq.dest.id];var ap={source:{y:ai.cx+s/2+2,x:ai.cy},target:{y:ar.cx-s/2,x:ar.cy+((ao-(ak-1)/2)/ak)*12}};var al=T.svg.diagonal().projection(function(av){return[av.y,av.x]
});au.attr({"marker-start":"url(#markerArrow)","class":"link",id:"link"+aq.source.id+"-"+aq.dest.id,d:al(ap,0)});aj.append("path").attr("d",al(ap,0)).attr("class","link-hover").on("mouseenter",function(){W(v.WEIGHT,aq,T.mouse(this))}).on("mouseleave",function(){W(null)});return au}function n(al,ai){if(ai){E={};ae.forEachNode(al,true,function(at){E[at.id]=new Array(L)});for(var ak in c){E[ak]=new Array(L)}}var ar=T.scale.linear().domain([0,L-1]).range(i);var aj=T.scale.linear().domain([L-1,0]).range(i);var an=0,am=0;for(an=0;an<L;an++){if(ai){ae.forEachNode(al,true,function(at){E[at.id][an]=new Array(L)});for(var ak in c){E[ak][an]=new Array(L)}}for(am=0;am<L;am++){var aq=ar(an);var ao=aj(am);var ap=k(aq,ao);ae.forwardProp(al,ap);ae.forEachNode(al,true,function(at){E[at.id][an][am]=at.output});if(ai){for(var ak in c){E[ak][an][am]=c[ak].f(aq,ao)}}}}}function l(an,ao){var am=0;for(var al=0;al<ao.length;al++){var ai=ao[al];var ak=k(ai.x,ai.y);var aj=ae.forwardProp(an,ak);am+=ae.Errors.SQUARE.error(aj,ai.label)}return am/ao.length}function ac(am){if(am===void 0){am=false}ag(o,T.select("g.core"));X(o);n(o,am);var aj=w!=null?w:ae.getOutputNode(o).id;K.updateBackground(E[aj],ah.discretize);T.select("#network").selectAll("div.canvas").each(function(an){an.heatmap.updateBackground(V.reduceMatrix(E[an.id],10),ah.discretize)});function al(ao){var an="000000";return(an+ao).slice(-an.length)}function ak(an){return an.replace(/\B(?=(\d{3})+(?!\d))/g,",")}function ai(an){return an.toFixed(3)}T.select("#loss-train").text(ai(z));T.select("#loss-test").text(ai(I));T.select("#iter-number").text(ak(al(B)));p.addDataPoint([z,I])}function N(){var ai=[];for(var aj in c){if(ah[aj]){ai.push(aj)}}return ai}function k(ai,al){var aj=[];for(var ak in c){if(ah[ak]){aj.push(c[ak].f(ai,al))}}return aj}function ab(){B++;y.forEach(function(ai,ak){var aj=k(ai.x,ai.y);ae.forwardProp(o,aj);ae.backProp(o,ai.label,ae.Errors.SQUARE);if((ak+1)%ah.batchSize===0){ae.updateWeights(o,ah.learningRate,ah.regularizationRate)}});z=l(o,y);I=l(o,M);ac()}function u(ap){var an=[];for(var ai=0;ai<ap.length-1;ai++){var ak=ap[ai];for(var am=0;am<ak.length;am++){var ao=ak[am];for(var al=0;al<ao.outputs.length;al++){var aj=ao.outputs[al];an.push(aj.weight)}}}return an}U.getOutputWeights=u;function P(al){if(al===void 0){al=false}p.reset();ah.serialize();if(!al){x()}Z.pause();T.select("#layers-label").text("隐藏层");T.select("#num-layers").text(ah.numHiddenLayers);B=0;var ai=k(0,0).length;var aj=[ai].concat(ah.networkShape).concat([1]);var ak=(ah.problem===a.Problem.REGRESSION)?ae.Activations.LINEAR:ae.Activations.TANH;o=ae.buildNetwork(aj,ah.activation,ak,ah.regularization,N(),ah.initZero);z=l(o,y);I=l(o,M);m(o);ac(true)}function b(){if(ah.tutorial==null||ah.tutorial===""||ah.hideText){return}T.selectAll("article div.l--body").remove();var ai=T.select("article").append("div").attr("class","l--body");T.html("tutorials/"+ah.tutorial+".html",function(aj,ak){if(aj){throw aj}ai.node().appendChild(ak);var al=ai.select("title");if(al.size()){T.select("header h1").style({"margin-top":"20px","margin-bottom":"20px"}).text(al.text());document.title=al.text()}})}function A(){function ai(ao,ar){var an=100;var aq=100;ao.setAttribute("width",an);ao.setAttribute("height",aq);var ap=ao.getContext("2d");var at=ar(200,0);at.forEach(function(au){ap.fillStyle=R(au.label);ap.fillRect(an*(au.x+6)/12,aq*(au.y+6)/12,4,4)});T.select(ao.parentNode).style("display",null)}T.selectAll(".dataset").style("display","none");if(ah.problem===a.Problem.CLASSIFICATION){for(var am in a.datasets){var ak=document.querySelector("canvas[data-dataset="+am+"]");var al=a.datasets[am];ai(ak,al)}}if(ah.problem===a.Problem.REGRESSION){for(var aj in a.regDatasets){var ak=document.querySelector("canvas[data-regDataset="+aj+"]");var al=a.regDatasets[aj];ai(ak,al)}}}function J(){var aj=ah.getHiddenProps();aj.forEach(function(al){var ak=T.selectAll(".ui-"+al);if(ak.size()===0){console.warn("0 html elements found with class .ui-"+al)}ak.style("display","none")});var ai=T.select(".hide-controls");h.forEach(function(am){var an=am[0],ao=am[1];var al=ai.append("label").attr("class","mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect");var ak=al.append("input").attr({type:"checkbox","class":"mdl-checkbox__input"});if(aj.indexOf(ao)===-1){ak.attr("checked","true")}ak.on("change",function(){ah.setHideProperty(ao,!this.checked);ah.serialize();x();T.select(".hide-controls-link").attr("href",window.location.href)});al.append("span").attr("class","mdl-checkbox__label label").text(an)});T.select(".hide-controls-link").attr("href",window.location.href)}function H(am){if(am===void 0){am=false}if(!am){ah.seed=Math.random().toFixed(5);ah.serialize();x()}Math.seedrandom(ah.seed);var aj=(ah.problem===a.Problem.REGRESSION)?aa:G;var al=ah.problem===a.Problem.CLASSIFICATION?ah.dataset:ah.regDataset;var ak=al(aj,ah.noise/100);D.shuffle(ak);var ai=Math.floor(ak.length*ah.percTrainData/100);y=ak.slice(0,ai);M=ak.slice(ai);K.updatePoints(y);K.updateTestPoints(ah.showTestData?M:[])
}var Y=true;var C=false;function x(){if(!Y){return}Y=false;var ai="index";if(ah.tutorial!=null&&ah.tutorial!==""){ai="/v/tutorials/"+ah.tutorial}ga("set","page",ai);ga("send","pageview",{"sessionControl":"start"})}function O(){ga("send",{hitType:"event",eventCategory:"Starting Simulation",eventAction:C?"changed":"unchanged",eventLabel:ah.tutorial==null?"":ah.tutorial});C=false}A();b();Q();H(true);P(true);J()},{"./dataset":2,"./heatmap":3,"./linechart":4,"./nn":5,"./state":7,"d3":1}],7:[function(d,c,f){f.__esModule=true;var l=d("./nn");var e=d("./dataset");var b="_hide";f.activations={"relu":l.Activations.RELU,"tanh":l.Activations.TANH,"sigmoid":l.Activations.SIGMOID,"linear":l.Activations.LINEAR};f.regularizations={"none":null,"L1":l.RegularizationFunction.L1,"L2":l.RegularizationFunction.L2};f.datasets={"circle":e.classifyCircleData,"xor":e.classifyXORData,"gauss":e.classifyTwoGaussData,"spiral":e.classifySpiralData};f.regDatasets={"reg-plane":e.regressPlane,"reg-gauss":e.regressGaussian};function i(o,n){for(var m in o){if(o[m]===n){return m}}return undefined}f.getKeyFromValue=i;function g(m,n){return m.substr(-n.length)===n}function h(n){var m=[];for(var o in n){if(g(o,b)){m.push(o)}}return m}var a;(function(m){m[m["STRING"]=0]="STRING";m[m["NUMBER"]=1]="NUMBER";m[m["ARRAY_NUMBER"]=2]="ARRAY_NUMBER";m[m["ARRAY_STRING"]=3]="ARRAY_STRING";m[m["BOOLEAN"]=4]="BOOLEAN";m[m["OBJECT"]=5]="OBJECT"})(a=f.Type||(f.Type={}));var j;(function(m){m[m["CLASSIFICATION"]=0]="CLASSIFICATION";m[m["REGRESSION"]=1]="REGRESSION"})(j=f.Problem||(f.Problem={}));f.problems={"classification":j.CLASSIFICATION,"regression":j.REGRESSION};var k=(function(){function m(){this.learningRate=0.03;this.regularizationRate=0;this.showTestData=false;this.noise=0;this.batchSize=10;this.discretize=false;this.tutorial=null;this.percTrainData=50;this.activation=l.Activations.TANH;this.regularization=null;this.problem=j.CLASSIFICATION;this.initZero=false;this.hideText=false;this.collectStats=false;this.numHiddenLayers=1;this.hiddenLayerControls=[];this.networkShape=[4,2];this.x=true;this.y=true;this.xTimesY=false;this.xSquared=false;this.ySquared=false;this.cosX=false;this.sinX=false;this.cosY=false;this.sinY=false;this.dataset=e.classifyCircleData;this.regDataset=e.regressPlane}m.deserializeState=function(){var n={};for(var r=0,v=window.location.hash.slice(1).split("&");r<v.length;r++){var s=v[r];var u=s.split("="),t=u[0],w=u[1];n[t]=w}var o=new m();function q(x){return x in n&&n[x]!=null&&n[x].trim()!==""}function p(x){return x.trim()===""?[]:x.split(",")}m.PROPS.forEach(function(y){var x=y.name,z=y.type,A=y.keyMap;switch(z){case a.OBJECT:if(A==null){throw Error("A key-value map must be provided for state "+"variables of type Object")}if(q(x)&&n[x] in A){o[x]=A[n[x]]}break;case a.NUMBER:if(q(x)){o[x]=+n[x]}break;case a.STRING:if(q(x)){o[x]=n[x]}break;case a.BOOLEAN:if(q(x)){o[x]=(n[x]==="false"?false:true)}break;case a.ARRAY_NUMBER:if(x in n){o[x]=p(n[x]).map(Number)}break;case a.ARRAY_STRING:if(x in n){o[x]=p(n[x])}break;default:throw Error("Encountered an unknown type for a state variable")}});h(n).forEach(function(x){o[x]=(n[x]==="true")?true:false});o.numHiddenLayers=o.networkShape.length;if(o.seed==null){o.seed=Math.random().toFixed(5)}Math.seedrandom(o.seed);return o};m.prototype.serialize=function(){var o=this;var n=[];m.PROPS.forEach(function(q){var p=q.name,r=q.type,t=q.keyMap;var s=o[p];if(s==null){return}if(r===a.OBJECT){s=i(t,s)}else{if(r===a.ARRAY_NUMBER||r===a.ARRAY_STRING){s=s.join(",")}}n.push(p+"="+s)});h(this).forEach(function(p){n.push(p+"="+o[p])});window.location.hash=n.join("&")};m.prototype.getHiddenProps=function(){var n=[];for(var o in this){if(g(o,b)&&String(this[o])==="true"){n.push(o.replace(b,""))}}return n};m.prototype.setHideProperty=function(n,o){this[n+b]=o};m.PROPS=[{name:"activation",type:a.OBJECT,keyMap:f.activations},{name:"regularization",type:a.OBJECT,keyMap:f.regularizations},{name:"batchSize",type:a.NUMBER},{name:"dataset",type:a.OBJECT,keyMap:f.datasets},{name:"regDataset",type:a.OBJECT,keyMap:f.regDatasets},{name:"learningRate",type:a.NUMBER},{name:"regularizationRate",type:a.NUMBER},{name:"noise",type:a.NUMBER},{name:"networkShape",type:a.ARRAY_NUMBER},{name:"seed",type:a.STRING},{name:"showTestData",type:a.BOOLEAN},{name:"discretize",type:a.BOOLEAN},{name:"percTrainData",type:a.NUMBER},{name:"x",type:a.BOOLEAN},{name:"y",type:a.BOOLEAN},{name:"xTimesY",type:a.BOOLEAN},{name:"xSquared",type:a.BOOLEAN},{name:"ySquared",type:a.BOOLEAN},{name:"cosX",type:a.BOOLEAN},{name:"sinX",type:a.BOOLEAN},{name:"cosY",type:a.BOOLEAN},{name:"sinY",type:a.BOOLEAN},{name:"collectStats",type:a.BOOLEAN},{name:"tutorial",type:a.STRING},{name:"problem",type:a.OBJECT,keyMap:f.problems},{name:"initZero",type:a.BOOLEAN},{name:"hideText",type:a.BOOLEAN}];return m}());f.State=k},{"./dataset":2,"./nn":5}]},{},[6]);